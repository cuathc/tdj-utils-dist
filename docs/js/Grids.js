import{d as it,s as z,a as kt,q as j,P as xt,S as Lt,V as Et,_ as ct,o as D,c as R,e as s,n as U,b as tt,w as S,U as _t,Q as L,B as I,T as zt,p as Bt,l as Ct,k as gt,A as ut,f as Q,j as et,G as Xt,W as Kt,v as Z,X as c,g as T,i as J,F as rt,h as at,r as Ot,N as Yt}from"./index.js";import{_ as Vt}from"./lodash.js";import{u as jt}from"./useHeroes.js";const wt=(o,n,v)=>{let p=0,r=0,a=0;o%=360;const l=Math.floor(o/60),y=o/60-l,b=v*(1-n),B=v*(1-n*y),G=v*(1-n*(1-y));switch(l){case 0:p=v,r=G,a=b;break;case 1:p=B,r=v,a=b;break;case 2:p=b,r=v,a=G;break;case 3:p=b,r=B,a=v;break;case 4:p=G,r=b,a=v;break;case 5:p=v,r=b,a=B;break}p=Math.floor(p*255),r=Math.floor(r*255),a=Math.floor(a*255);const C=("00"+p.toString(16)).slice(-2),u=("00"+r.toString(16)).slice(-2),$=("00"+a.toString(16)).slice(-2);return[o,n,v,p,r,a,"#"+C+u+$]},ht=o=>{let n=0,v=0,p=0,r=0,a=0,l=0;if(/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i.test(o))n=window.parseInt(RegExp.$1,16),v=window.parseInt(RegExp.$2,16),p=window.parseInt(RegExp.$3,16);else if(/(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i.test(o))n=window.parseInt(RegExp.$1,10),v=window.parseInt(RegExp.$2,10),p=window.parseInt(RegExp.$3,10);else return[0,0,0,0,0,0,"#000000"];r=n/255,a=v/255,l=p/255;let y=r;a>y&&(y=a),l>y&&(y=l);let b=r;a<b&&(b=a),l<b&&(b=l);let B=0,G=0,C=0;y===b?B=0:y===r&&a>=l?B=60*(a-l)/(y-b)+0:y===r&&a<l?B=60*(a-l)/(y-b)+360:y===a?B=60*(l-r)/(y-b)+120:y===l&&(B=60*(r-a)/(y-b)+240),y===0?G=0:G=1-b/y,C=y;const u=("00"+n.toString(16)).slice(-2),$=("00"+v.toString(16)).slice(-2),F=("00"+p.toString(16)).slice(-2);return[Math.floor(B),G,C,n,v,p,"#"+u+$+F]};const Wt=it({name:"ColorPicker",emits:["update:modelValue"],props:{modelValue:{type:String,required:!0}},setup(o,{emit:n}){const v=z(!1),p=kt({set:d=>{n("update:modelValue",d)},get:()=>o.modelValue}),r=j({h:0,s:0,v:0,r:0,g:0,b:0}),a=j({rect_down:!1,rect_left:0,rect_bottom:0,ver_down:!1,ver_bottom:0}),l={rect:{left:0,bottom:0,x:0,y:0},ver:{bottom:0,y:0}},y=z(!1),b=()=>{y.value=!0},B=Vt.debounce(()=>{y.value=!1},300),G=()=>{b();const d=wt(r.h,r.s,r.v);r.r=d[3],r.g=d[4],r.b=d[5],p.value=d[6],a.ver_bottom=r.h,a.rect_left=r.s*360,a.rect_bottom=r.v*360,B()},C=()=>{b();const d=ht(`${r.r},${r.g},${r.b}`);r.h=d[0],r.s=d[1],r.v=d[2],p.value=d[6],a.ver_bottom=r.h,a.rect_left=r.s*360,a.rect_bottom=r.v*360,B()},u=d=>{d=d||"#000000";const A=ht(d);r.h=A[0],r.s=A[1],r.v=A[2],r.r=A[3],r.g=A[4],r.b=A[5],a.ver_bottom=r.h,a.rect_left=r.s*360,a.rect_bottom=r.v*360},$=()=>{const d=wt(a.ver_bottom,a.rect_left/360,a.rect_bottom/360);r.h=d[0],r.s=d[1],r.v=d[2],r.r=d[3],r.g=d[4],r.b=d[5],p.value=d[6]},F=d=>{a.rect_down=!0,l.rect.x=d.clientX,l.rect.y=d.clientY;const A=d.currentTarget,q=A.getBoundingClientRect().left,lt=A.getBoundingClientRect().top;l.rect.left=a.rect_left=d.clientX-q,l.rect.bottom=a.rect_bottom=360-(d.clientY-lt),$()},M=d=>{if(!a.rect_down)return;const A=d.clientX-l.rect.x,q=d.clientY-l.rect.y;a.rect_left=Math.max(0,Math.min(360,l.rect.left+A)),a.rect_bottom=Math.max(0,Math.min(360,l.rect.bottom-q)),$()},H=()=>{!a.rect_down||(a.rect_down=!1)},X=d=>{a.ver_down=!0,l.ver.y=d.clientY;const q=d.currentTarget.getBoundingClientRect().top;l.ver.bottom=a.ver_bottom=360-(d.clientY-q),$()},K=d=>{if(!a.ver_down)return;const A=d.clientY-l.ver.y;a.ver_bottom=Math.max(0,Math.min(360,l.ver.bottom-A)),$()},W=()=>{!a.ver_down||(a.ver_down=!1)},ot=()=>{v.value=!0},st=()=>{v.value=!1};return xt(()=>o.modelValue,d=>{a.ver_down||a.rect_down||y.value||(console.log("watch"),u(d))}),u(o.modelValue),Lt(()=>{window.addEventListener("mousemove",M,!1),window.addEventListener("mouseup",H,!1),window.addEventListener("mousemove",K,!1),window.addEventListener("mouseup",W,!1)}),Et(()=>{window.removeEventListener("mousemove",M,!1),window.removeEventListener("mouseup",H,!1),window.removeEventListener("mousemove",K,!1),window.removeEventListener("mouseup",W,!1)}),{show:v,color:p,vars:r,state:a,colorRectPointerStart:F,colorVerPointerStart:X,updateHSV:G,updateRGB:C,updateHex:u,onOpen:ot,onComfirm:st}}}),dt=o=>(Bt("data-v-f63e3268"),o=o(),Ct(),o),Qt={class:"color-control"},Zt={class:"color-picker-layer"},Jt={class:"color-picker-view"},te=dt(()=>s("div",{class:"color-picker-view__label"},"HSV",-1)),ee=dt(()=>s("div",{class:"color-picker-view__label"},"RGB",-1)),oe=dt(()=>s("div",{class:"color-picker-view__label"},"Hex",-1));function se(o,n,v,p,r,a){return D(),R("div",Qt,[s("div",{class:"color-preview",style:U({backgroundColor:o.color}),onClick:n[0]||(n[0]=(...l)=>o.onOpen&&o.onOpen(...l))},null,4),(D(),tt(zt,{to:"body"},[S(s("div",{class:"color-picker-mask",onWheel:n[1]||(n[1]=L(()=>{},["prevent"])),onTouchstart:n[2]||(n[2]=L(()=>{},["prevent"])),onClick:n[3]||(n[3]=(...l)=>o.onComfirm&&o.onComfirm(...l))},null,544),[[_t,o.show]]),S(s("div",Zt,[s("div",{class:"color-picker-rect",style:U(`background-color: hsl(${o.vars.h}deg, 100%, 50%)`),onMousedown:n[4]||(n[4]=L((...l)=>o.colorRectPointerStart&&o.colorRectPointerStart(...l),["prevent","stop"]))},[s("div",{class:"color-picker-rect-cur",style:U({left:`${o.state.rect_left}px`,bottom:`${o.state.rect_bottom}px`})},null,4)],36),s("div",{class:"color-picker-hue",onMousedown:n[5]||(n[5]=L((...l)=>o.colorVerPointerStart&&o.colorVerPointerStart(...l),["prevent","stop"]))},[s("div",{class:"color-picker-hue-cur",style:U({bottom:`${o.state.ver_bottom}px`})},null,4)],32),s("div",Jt,[s("div",{class:"color-picker-view-color",style:U({background:o.color})},null,4),te,S(s("input",{type:"number",max:"360",min:"0",step:"1","onUpdate:modelValue":n[6]||(n[6]=l=>o.vars.h=l),class:"color-picker-view__input",onInput:n[7]||(n[7]=(...l)=>o.updateHSV&&o.updateHSV(...l))},null,544),[[I,o.vars.h]]),S(s("input",{type:"number",max:"1",min:"0",step:"0.01","onUpdate:modelValue":n[8]||(n[8]=l=>o.vars.s=l),class:"color-picker-view__input",onInput:n[9]||(n[9]=(...l)=>o.updateHSV&&o.updateHSV(...l))},null,544),[[I,o.vars.s]]),S(s("input",{type:"number",max:"1",min:"0",step:"0.01","onUpdate:modelValue":n[10]||(n[10]=l=>o.vars.v=l),class:"color-picker-view__input",onInput:n[11]||(n[11]=(...l)=>o.updateHSV&&o.updateHSV(...l))},null,544),[[I,o.vars.v]]),ee,S(s("input",{type:"number",max:"255",min:"0",step:"1","onUpdate:modelValue":n[12]||(n[12]=l=>o.vars.r=l),class:"color-picker-view__input",onInput:n[13]||(n[13]=(...l)=>o.updateRGB&&o.updateRGB(...l))},null,544),[[I,o.vars.r]]),S(s("input",{type:"number",max:"255",min:"0",step:"1","onUpdate:modelValue":n[14]||(n[14]=l=>o.vars.g=l),class:"color-picker-view__input",onInput:n[15]||(n[15]=(...l)=>o.updateRGB&&o.updateRGB(...l))},null,544),[[I,o.vars.g]]),S(s("input",{type:"number",max:"255",min:"0",step:"1","onUpdate:modelValue":n[16]||(n[16]=l=>o.vars.b=l),class:"color-picker-view__input",onInput:n[17]||(n[17]=(...l)=>o.updateRGB&&o.updateRGB(...l))},null,544),[[I,o.vars.b]]),oe,S(s("input",{type:"text","onUpdate:modelValue":n[18]||(n[18]=l=>o.color=l),class:"color-picker-view__input"},null,512),[[I,o.color]]),s("div",{class:"color-picker-view__enter",onClick:n[19]||(n[19]=(...l)=>o.onComfirm&&o.onComfirm(...l))},"\u786E\u8BA4")])],512),[[_t,o.show]])]))])}var N=ct(Wt,[["render",se],["__scopeId","data-v-f63e3268"]]);N.install=function(o){o.component(N.name,N)};const le={draggable:!0},ne={key:0,class:"lt"},re={key:1},ae={key:2},ie=it({props:{disabled:{type:Boolean},selected:{type:Boolean},dot:{type:Boolean},item:null},setup(o){return(n,v)=>(D(),R("div",le,[o.item?(D(),R("div",{key:0,class:gt(["color-unit",{disabled:o.disabled,selected:o.selected,dot:o.dot}]),style:U({fontSize:`${o.item.data.size}px`,color:o.item.style.color,backgroundColor:o.item.style.bgcolor,backgroundImage:o.item.style.image?`url(${o.item.style.image})`:"",opacity:o.item.style.opacity})},[ut(Q(o.item.data.txt)+" ",1),o.item.data.actorId?(D(),R("span",ne,Q(o.item.data.actorId),1)):et("",!0),o.item.data.sub?(D(),R("sub",re,Q(o.item.data.sub),1)):et("",!0),o.item.data.sup?(D(),R("sup",ae,Q(o.item.data.sup),1)):et("",!0)],6)):(D(),R("div",{key:1,class:gt(["color-unit",{disabled:o.disabled,selected:o.selected,dot:o.dot}])},[Xt(n.$slots,"default",{},void 0,!0)],2))]))}});var Y=ct(ie,[["__scopeId","data-v-e4da4564"]]),E=(o=>(o[o.NONE=0]="NONE",o[o.GUARD=1]="GUARD",o[o.SHEEP=2]="SHEEP",o[o.ATTACKER=3]="ATTACKER",o))(E||{});function ce(){const o=z(0),n=z([]),v=z([]),p=[{color:"#202020",bgcolor:"#f5fff0"},{color:"#202020",bgcolor:"#FF3C41"},{color:"#202020",bgcolor:"#48CF74"},{color:"#202020",bgcolor:"#0EBEFF"},{color:"#202020",bgcolor:"#FCD000"}],r=()=>({actorId:0,actorType:E.NONE,size:14,txt:"",disabled:!1}),a=()=>({color:p[0].color,bgcolor:p[0].bgcolor,image:"",opacity:1}),l=()=>({d:0,d1:0,d2:0,q:0}),y=()=>({x:0,y:0,data:r(),style:a(),state:l()});function b(C){C.data=r(),C.style=a(),C.state=l()}function B(){o.value=0,n.value.forEach(C=>{b(C)}),v.value=[]}function G(C,u){const $=[];for(let F=0;F<C;F++)for(let M=0;M<u;M++){const H=y();H.x=M+1,H.y=C-F,$.push(H)}n.value=$}return{actorId:o,grids:n,selects:v,gridColors:p,defGridData:r,defGridStyle:a,defGridState:l,defGrid:y,cleanGrid:b,cleanGrids:B,generateGrids:G}}const _=o=>(Bt("data-v-6843d7e4"),o=o(),Ct(),o),ue={class:"wrapper"},de={class:"toolbar"},pe={class:"setting"},fe={class:"label-control"},ve=_(()=>s("span",null,"\u7F16\u8F91\u6A21\u5F0F\xA0",-1)),me=_(()=>s("option",{value:1},"\u7F16\u8F91\u7F51\u683C",-1)),ye=_(()=>s("option",{value:2},"\u7F51\u683C\u4E0A\u8272",-1)),be=_(()=>s("option",{value:3},"\u9009\u62E9\u5F62\u72B6",-1)),_e=_(()=>s("option",{value:4},"\u62A4\u536B\u8BA1\u7B97",-1)),ge=[me,ye,be,_e],we={class:"label-control"},he=_(()=>s("span",null,"\u8303\u56F4\xA0",-1)),ke={class:"label-control"},xe=_(()=>s("span",null,"\u5F62\u72B6\xA0",-1)),Ee=_(()=>s("option",{value:1},"\u83F1\u5F62",-1)),Be=_(()=>s("option",{value:2},"\u5708\u6570",-1)),Ce=[Ee,Be],Ve={class:"label-control"},Se=_(()=>s("span",null,"\u6392\u5E8F\xA0",-1)),Ae=_(()=>s("option",{value:1},"\u8DDD\u79BBX",-1)),De=_(()=>s("option",{value:2},"\u8DDD\u79BBY",-1)),Ge=_(()=>s("option",{value:3},"X\u4F18\u5148",-1)),$e=_(()=>s("option",{value:4},"Y\u4F18\u5148",-1)),Re=[Ae,De,Ge,$e],Fe={class:"color-container"},Ie={class:"label-control"},Me=_(()=>s("span",null,"\u9884\u89C8\xA0",-1)),Ue=ut(" E "),He={class:"label-control"},Te=_(()=>s("span",null,"\u6587\u5B57\xA0",-1)),qe={class:"label-control"},Ne=_(()=>s("span",null,"\u80CC\u666F\xA0",-1)),Pe=_(()=>s("label",{class:"label-control"},[s("span",null,"\u9884\u8BBE\xA0")],-1)),Le={class:"color-tpls"},ze=ut(" E "),Xe=_(()=>s("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"#a9a9a9",style:{"pointer-events":"none"}},[s("path",{d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"})],-1)),Ke=[Xe],Oe={class:"props-container"},Ye={key:0,class:"props-content"},je={class:"label-control"},We=_(()=>s("span",null,"\u9884\u89C8\xA0",-1)),Qe={class:"label-control"},Ze=_(()=>s("span",null,"\u6587\u5B57\xA0",-1)),Je={class:"label-control"},to=_(()=>s("span",null,"\u80CC\u666F\xA0",-1)),eo={class:"label-control"},oo=_(()=>s("span",null,"\u5927\u5C0F\xA0",-1)),so={class:"label-control"},lo=_(()=>s("span",null,"Id\xA0",-1)),no={class:"label-control"},ro=_(()=>s("span",null,"\u7C7B\u578B\xA0",-1)),ao=["value"],io=["value"],co=["value"],uo=["value"],po={class:"label-control"},fo=_(()=>s("span",null,"\u5185\u5BB9\xA0",-1)),vo={class:"content"},mo={class:"heroes"},yo=it({setup(o){const{actorId:n,grids:v,selects:p,gridColors:r,defGridData:a,defGridStyle:l,defGridState:y,defGrid:b,cleanGrids:B,generateGrids:G}=ce(),C=z(),u=j({editor:1,selectRange:5,shape:1,sortType:1,color:r[0].color,bgcolor:r[0].bgcolor});function $(e){u.color=e.color,u.bgcolor=e.bgcolor}const F=15,M=15,H=kt(()=>`--rows:${M};--cols:${F}`),{heroes:X}=jt(),K=Kt(X.value.map(e=>{const t=b();return t.style.image=`https://media.zlongame.com/media/news/cn/tdj/info/data/heroicon/${e.hero_icon}.png`,t}));xt(X,()=>{K.value=X.value.map(e=>{const t=b();return t.style.image=`https://media.zlongame.com/media/news/cn/tdj/info/data/heroicon/${e.hero_icon}.png`,t})});function W(e,t,m,k,i,f,g){v.value.forEach(w=>{const V=Math.abs(e-w.x),P=Math.abs(t-w.y),nt=V+P,yt=Math.max(V,P),bt=V>1?V-1:V+P>1?P-1:P;switch(k){case 1:nt<=m&&(w.state.d=nt,w.state.q=yt,w.state.d1=bt,w.style.color=f,w.style.bgcolor=g,p.value.push(w));break;case 2:Math.abs(V)<=m&&Math.abs(P)<=m&&(w.state.d=nt,w.state.q=yt,w.state.d1=bt,w.style.color=f,w.style.bgcolor=g,p.value.push(w));break}}),i===1&&(k===1?p.value.sort(ot):k===2&&p.value.sort(d)),i===2&&(k===1?p.value.sort(st):k===2&&p.value.sort(A)),i===3&&p.value.sort(q),i===4&&p.value.sort(lt);for(let w=0;w<p.value.length;w++)p.value[w].data.txt=String(w+1)}function ot(e,t){return e.state.d!==t.state.d?e.state.d-t.state.d:e.x!==t.x?e.x-t.x:e.y!==t.y?e.y-t.y:0}function st(e,t){return e.state.d!==t.state.d?e.state.d-t.state.d:e.y!==t.y?e.y-t.y:e.x!==t.x?e.x-t.x:0}function d(e,t){return e.state.q!==t.state.q?e.state.q-t.state.q:e.state.d!==t.state.d?e.state.d-t.state.d:e.x!==t.x?e.x-t.x:e.y!==t.y?e.y-t.y:0}function A(e,t){return e.state.q!==t.state.q?e.state.q-t.state.q:e.state.d!==t.state.d?e.state.d-t.state.d:e.y!==t.y?e.y-t.y:e.x!==t.x?e.x-t.x:0}function q(e,t){return e.x!==t.x?e.x-t.x:e.y!==t.y?e.y-t.y:0}function lt(e,t){return e.y!==t.y?e.y-t.y:e.x!==t.x?e.x-t.x:0}const h=j({enabled:!1});function St(){B()}function pt(){h.enabled=!1}function At(e,t){var m;switch(u.editor){case 1:case 4:h.current=t,(m=C.value)==null||m.focus();break;case 3:B(),W(t.x,t.y,u.selectRange,u.shape,u.sortType,u.color,u.bgcolor);break}}function Dt(e,t){if(e.button===0)switch(u.editor){case 2:{h.enabled=!0,t.style.color=u.color,t.style.bgcolor=u.bgcolor;break}}}function Gt(e,t){e.button===0&&h.enabled&&(t.style.color=u.color,t.style.bgcolor=u.bgcolor)}function $t(){h.current=void 0}const x=j({}),ft=["#ffffff00","#FF3C4132","#0EBEFF32","#48CF7432","#FCD00032","#80008032"],Rt=(e,t)=>{switch(u.editor){case 2:e.preventDefault();break;default:x.grid=t,x.action="swap",e.dataTransfer&&(e.dataTransfer.effectAllowed="move")}},Ft=(e,t)=>{const m=b();m.style.color=t.color,m.style.bgcolor=t.bgcolor,m.data.txt="E",x.grid=m,x.action="color"},It=(e,t)=>{x.grid=Vt.cloneDeep(t),x.action="image"},Mt=(e,t)=>{if(e.preventDefault(),!x.grid)return;const m=x.grid.data,k=x.grid.style;switch(x.action){case"color":t.data.actorId||(t.data.actorId=++n.value),t.data.actorType||(t.data.actorType=E.GUARD),t.style.color=k.color,t.style.bgcolor=k.bgcolor;break;case"image":t.data.actorId||(t.data.actorId=++n.value),t.data.actorType||(t.data.actorType=E.GUARD),t.style.image=k.image;break;case"swap":x.grid.data=t.data,x.grid.style=t.style,t.data=m,t.style=k;break}x.grid=void 0,x.action=void 0,u.editor===4&&O()};function Ut(e,t){let m=e[0].state[t];for(let k=1;k<e.length;k++)e[k].state[t]<m&&(m=e[k].state[t]);return m}function vt(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function mt(e,t,m){e.sort((g,w)=>+g.data.actorId-+w.data.actorId),e.forEach(g=>{g.state.d1=vt(g,m),g.state.d2=vt(g,t),g.data.guard=!1});const k=Ut(e,"d1");if(e=e.filter(g=>g.state.d1===k),e.length===1)return e[0];let i=e[0],f=e.length;for(;f--;)if(e[f].state.d2<i.state.d2){i=e[f];break}return i}function Ht(e,t){return(M-t-1)*F+e}function Tt(){B(),n.value=0;const e=[{x:7,y:9,txt:"1",type:E.GUARD,bg:"#0ebeff"},{x:9,y:7,txt:"2",type:E.GUARD,bg:"#0ebeff"},{x:7,y:5,txt:"3",type:E.GUARD,bg:"#0ebeff"},{x:5,y:7,txt:"4",type:E.GUARD,bg:"#0ebeff"},{x:8,y:6,txt:"A",type:E.ATTACKER,bg:"#ff3c41"},{x:7,y:7,txt:"S",type:E.SHEEP,bg:"#fcd000"}];for(const t of e){const m=v.value[Ht(t.x,t.y)];m.data.actorId=++n.value,m.data.actorType=t.type,m.data.txt=t.txt,m.data.disabled=!1,m.style.bgcolor=t.bg}}const O=()=>{v.value.forEach(f=>f.style.opacity=1);const e=v.value.filter(f=>!f.data.disabled),t=e.filter(f=>f.data.actorType===E.ATTACKER)[0],m=e.filter(f=>f.data.actorType===E.SHEEP)[0],k=e.filter(f=>f.data.actorType===E.GUARD);if(!m||k.length===0){alert("\u7F3A\u5C11\u89D2\u8272\uFF0C\u5C06\u81EA\u52A8\u751F\u6210"),Tt(),O();return}const i=v.value.filter(f=>!f.data.disabled).filter(f=>f.data.actorType===E.NONE);for(const f of i){const g=mt(k,f,m);f.style.image=g.style.image,f.style.bgcolor=ft[g.data.actorId]||ft[0],g.style.image?f.data.sup="":f.data.sup=g.data.txt,f.style.opacity=.3}if(t){const f=mt(k,t,m);f.data.guard=!0}},qt=e=>{if(e.data.disabled=!e.data.disabled,u.editor===4){switch(e.data.actorType){case E.ATTACKER:case E.SHEEP:e.data.disabled=!1;break}O()}},Nt=e=>{!x.grid||!e.dataTransfer||x.action==="swap"&&(u.editor===4&&x.grid.data.actorType===E.SHEEP||e.preventDefault())},Pt=e=>{if(!!x.grid&&!!e)switch(x.action){case"swap":e.data=a(),e.style=l(),e.state=y(),x.grid=void 0,x.action=void 0,u.editor===4&&O()}};return G(M,F),window.addEventListener("mouseup",pt,!1),Et(()=>{window.removeEventListener("mouseup",pt,!1)}),(e,t)=>{const m=Ot("c-space"),k=Yt("autofocus");return D(),R("div",ue,[s("div",de,[s("div",pe,[s("label",fe,[ve,S(s("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>c(u).editor=i)},ge,512),[[Z,c(u).editor,void 0,{number:!0}]])]),s("label",we,[he,S(s("input",{type:"number",min:"0","onUpdate:modelValue":t[1]||(t[1]=i=>c(u).selectRange=i),style:{width:"5em"}},null,512),[[I,c(u).selectRange]])]),s("label",ke,[xe,S(s("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>c(u).shape=i)},Ce,512),[[Z,c(u).shape]])]),s("label",Ve,[Se,S(s("select",{"onUpdate:modelValue":t[3]||(t[3]=i=>c(u).sortType=i)},Re,512),[[Z,c(u).sortType]])]),s("button",{class:"btn",onClick:St},"\u6E05\u7A7A"),s("button",{class:"btn",onClick:O},"\u8BA1\u7B97\u62A4\u536B")]),s("div",Fe,[T(m,null,{default:J(()=>[s("label",Ie,[Me,T(c(Y),{draggable:!1,style:U([`--color:${c(u).color};--bgcolor:${c(u).bgcolor}`])},{default:J(()=>[Ue]),_:1},8,["style"])]),s("label",He,[Te,T(c(N),{modelValue:c(u).color,"onUpdate:modelValue":t[4]||(t[4]=i=>c(u).color=i)},null,8,["modelValue"])]),s("label",qe,[Ne,T(c(N),{modelValue:c(u).bgcolor,"onUpdate:modelValue":t[5]||(t[5]=i=>c(u).bgcolor=i)},null,8,["modelValue"])]),Pe,s("div",Le,[(D(!0),R(rt,null,at(c(r),(i,f)=>(D(),tt(c(Y),{key:f,selected:c(u).bgcolor===i.bgcolor,style:U([`--color:${i.color};--bgcolor:${i.bgcolor}`]),onClick:g=>$(i),onDragstart:g=>Ft(g,i)},{default:J(()=>[ze]),_:2},1032,["selected","style","onClick","onDragstart"]))),128))]),s("div",{class:"trush",onDragover:Nt,onDrop:t[6]||(t[6]=i=>Pt(c(x).grid))},Ke,32)]),_:1})]),s("div",Oe,[c(h).current?(D(),R("div",Ye,[T(m,null,{default:J(()=>[s("label",je,[We,T(c(Y),{draggable:!1,style:U([`--color:${c(h).current.style.color};--bgcolor:${c(h).current.style.bgcolor}`]),item:c(h).current},null,8,["style","item"])]),s("label",Qe,[Ze,T(c(N),{modelValue:c(h).current.style.color,"onUpdate:modelValue":t[7]||(t[7]=i=>c(h).current.style.color=i)},null,8,["modelValue"])]),s("label",Je,[to,T(c(N),{modelValue:c(h).current.style.bgcolor,"onUpdate:modelValue":t[8]||(t[8]=i=>c(h).current.style.bgcolor=i)},null,8,["modelValue"])]),s("label",eo,[oo,S(s("input",{type:"number",style:{width:"4em"},min:"12",step:"1","onUpdate:modelValue":t[9]||(t[9]=i=>c(h).current.data.size=i)},null,512),[[I,c(h).current.data.size]])]),s("label",so,[lo,S(s("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=i=>c(h).current.data.actorId=i),style:{width:"4em"}},null,512),[[I,c(h).current.data.actorId]])]),s("label",no,[ro,S(s("select",{"onUpdate:modelValue":t[11]||(t[11]=i=>c(h).current.data.actorType=i)},[s("option",{value:c(E).NONE},"\u65E0",8,ao),s("option",{value:c(E).GUARD},"\u62A4\u536B",8,io),s("option",{value:c(E).SHEEP},"\u9776\u5B50",8,co),s("option",{value:c(E).ATTACKER},"\u653B\u51FB\u8005",8,uo)],512),[[Z,c(h).current.data.actorType]])]),s("label",po,[fo,S(s("input",{type:"text",ref_key:"txtInput",ref:C,"onUpdate:modelValue":t[12]||(t[12]=i=>c(h).current.data.txt=i)},null,512),[[k],[I,c(h).current.data.txt]])]),s("button",{class:"btn",onClick:$t},"\u5B8C\u6210")]),_:1})])):et("",!0)])]),s("div",vo,[s("div",{class:"grids",style:U(c(H))},[(D(!0),R(rt,null,at(c(v),(i,f)=>{var g,w;return D(),tt(c(Y),{key:f,draggable:!0,selected:i.x===((g=c(h).current)==null?void 0:g.x)&&i.y===((w=c(h).current)==null?void 0:w.y),disabled:i.data.disabled,dot:i.data.guard,item:i,onDragstart:V=>Rt(V,i),onDragover:t[13]||(t[13]=L(()=>{},["prevent"])),onDrop:V=>Mt(V,i),onContextmenu:L(V=>qt(i),["prevent"]),onClick:V=>At(V,i),onMousedown:V=>Dt(V,i),onMouseenter:V=>Gt(V,i)},null,8,["selected","disabled","dot","item","onDragstart","onDrop","onContextmenu","onClick","onMousedown","onMouseenter"])}),128))],4),s("div",mo,[(D(!0),R(rt,null,at(c(K),(i,f)=>(D(),tt(c(Y),{key:f,item:i,onDragstart:g=>It(g,i)},null,8,["item","onDragstart"]))),128))])])])}}});var wo=ct(yo,[["__scopeId","data-v-6843d7e4"]]);export{wo as default};
