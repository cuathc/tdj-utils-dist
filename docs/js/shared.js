import{r as h,b as q}from"./index.js";import{a as l}from"./index2.js";function p(){return{id:0,name:"",pinyin:"",is_new:"",pic:"",hero_icon:"",prop:"",prop_icon:"",career:"",career_icon:"",position:"",range:0,speed:0,rarity:"",source:"",weight:0,star1:"",star2:"",star3:"",star4:"",star5:"",star6:"",story_name:"",story_content:"",strategy:"",inherent:"",inherent_name:"",skill:[],qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0,qixue_cz:0,patt_cz:0,pdef_cz:0,matt_cz:0,mdef_cz:0,huixin_cz:0,eq_suit3:"",eq_suit6:"",eq_suit9:"",eq1_qixue:0,eq1_patt:0,eq1_pdef:0,eq1_matt:0,eq1_mdef:0,eq1_huixin:0,eq2_qixue:0,eq2_patt:0,eq2_pdef:0,eq2_matt:0,eq2_mdef:0,eq2_huixin:0,eq3_qixue:0,eq3_patt:0,eq3_pdef:0,eq3_matt:0,eq3_mdef:0,eq3_huixin:0,eq4_qixue:0,eq4_patt:0,eq4_pdef:0,eq4_matt:0,eq4_mdef:0,eq4_huixin:0,wp_qixue:0,wp_patt:0,wp_pdef:0,wp_matt:0,wp_mdef:0,wp_huixin:0,wn0_qixue:0,wn0_patt:0,wn0_pdef:0,wn0_matt:0,wn0_mdef:0,wn0_huixin:0,wn1_qixue:0,wn1_patt:0,wn1_pdef:0,wn1_matt:0,wn1_mdef:0,wn1_huixin:0,wn2_qixue:0,wn2_patt:0,wn2_pdef:0,wn2_matt:0,wn2_mdef:0,wn2_huixin:0,hz_qixue:0,hz_patt:0,hz_pdef:0,hz_matt:0,hz_mdef:0,hz_huixin:0,hz_qixuep:0,hz_pattp:0,hz_pdefp:0,hz_mattp:0,hz_mdefp:0,hz_huixinp:0,xh_qixue:0,xh_patt:0,xh_pdef:0,xh_matt:0,xh_mdef:0,xh_huixin:0,xh_qixuep:0,xh_pattp:0,xh_pdefp:0,xh_mattp:0,xh_mdefp:0,xh_huixinp:0}}function g(){return{editor:h(),defaultHeroState:p}}function b(){const _=h(!1),i=q({qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0}),m=q(p()),d=h(!1),n=h(!1),r=h(!1),o=h(!1),s=(e,t,f)=>Math.round(e/t*f),x=q({v:70,eq:16}),c=e=>{const t={qixue:e.qixue,patt:e.patt,pdef:e.pdef,matt:e.matt,mdef:e.mdef,huixin:e.huixin};e.real||(t.qixue+=x.v*e.qixue_cz,t.patt+=x.v*e.patt_cz,t.pdef+=x.v*e.pdef_cz,t.matt+=x.v*e.matt_cz,t.mdef+=x.v*e.mdef_cz,t.huixin+=x.v*e.huixin_cz),t.qixue+=e.wp_qixue,t.patt+=e.wp_patt,t.pdef+=e.wp_pdef,t.matt+=e.wp_matt,t.mdef+=e.wp_mdef,t.huixin+=e.wp_huixin;const f=l(e.career,e.name,x.eq);f[0]>0?(t.qixue+=f[0],t.patt+=f[1],t.pdef+=f[2],t.matt+=f[3],t.mdef+=f[4],t.huixin+=f[5]):(t.qixue+=e.eq1_qixue,t.patt+=e.eq1_patt,t.pdef+=e.eq1_pdef,t.matt+=e.eq1_matt,t.mdef+=e.eq1_mdef,t.huixin+=e.eq1_huixin,t.qixue+=e.eq2_qixue,t.patt+=e.eq2_patt,t.pdef+=e.eq2_pdef,t.matt+=e.eq2_matt,t.mdef+=e.eq2_mdef,t.huixin+=e.eq2_huixin,t.qixue+=e.eq3_qixue,t.patt+=e.eq3_patt,t.pdef+=e.eq3_pdef,t.matt+=e.eq3_matt,t.mdef+=e.eq3_mdef,t.huixin+=e.eq3_huixin,t.qixue+=e.eq4_qixue,t.patt+=e.eq4_patt,t.pdef+=e.eq4_pdef,t.matt+=e.eq4_matt,t.mdef+=e.eq4_mdef,t.huixin+=e.eq4_huixin),t.qixue+=e.wn0_qixue,t.patt+=e.wn0_patt,t.pdef+=e.wn0_pdef,t.matt+=e.wn0_matt,t.mdef+=e.wn0_mdef,t.huixin+=e.wn0_huixin,t.qixue+=e.wn1_qixue,t.patt+=e.wn1_patt,t.pdef+=e.wn1_pdef,t.matt+=e.wn1_matt,t.mdef+=e.wn1_mdef,t.huixin+=e.wn1_huixin,t.qixue+=e.wn2_qixue,t.patt+=e.wn2_patt,t.pdef+=e.wn2_pdef,t.matt+=e.wn2_matt,t.mdef+=e.wn2_mdef,t.huixin+=e.wn2_huixin;const a={qixue:145,patt:135,pdef:155,matt:135,mdef:155,huixin:100};return d.value&&(a.qixue+=4,a.patt+=4,a.pdef+=4,a.matt+=4,a.mdef+=4),n.value&&e.rarity!=="R"&&(t.qixue+=e.hz_qixue,t.patt+=e.hz_patt,t.pdef+=e.hz_pdef,t.matt+=e.hz_matt,t.mdef+=e.hz_mdef,t.huixin+=e.hz_huixin,a.qixue+=e.hz_qixuep,a.patt+=e.hz_pattp,a.pdef+=e.hz_pdefp,a.matt+=e.hz_mattp,a.mdef+=e.hz_mdefp,a.huixin+=e.hz_huixinp),o.value&&(t.qixue+=e.xh_qixue,t.patt+=e.xh_patt,t.pdef+=e.xh_pdef,t.matt+=e.xh_matt,t.mdef+=e.xh_mdef,t.huixin+=e.xh_huixin),r.value&&(a.qixue+=e.xh_qixuep,a.patt+=e.xh_pattp,a.pdef+=e.xh_pdefp,a.matt+=e.xh_mattp,a.mdef+=e.xh_mdefp,a.huixin+=e.xh_huixinp),{qixue:Math.round(t.qixue*a.qixue/100),patt:Math.round(t.patt*a.patt/100),pdef:Math.round(t.pdef*a.pdef/100),matt:Math.round(t.matt*a.matt/100),mdef:Math.round(t.mdef*a.mdef/100),huixin:Math.round(t.huixin*a.huixin/100)}};function u(){_.value=!0}function w(){_.value=!1}function z(){_.value=!_.value}return{show:_,level:x,basic:i,form:m,xingyao:d,huazhen:n,xinghun:r,xinghui:o,calc:s,translate:c,open:u,close:w,toggle:z}}const M=(_,i)=>{const m=URL.createObjectURL(_),d=document.createElement("a");d.href=m,d.target="_blank",d.download=i,d.click(),URL.revokeObjectURL(m)};function R(_){return _!==null&&typeof _=="object"}function j(_){return Array.isArray(_)}export{b as a,R as b,M as d,j as i,g as u};
