import{d as o,L as e,f as l,q as t,P as s,x as n,y as a,o as r,c,a as u,C as d,H as i,M as b,D as p,F as y,E as x,G as g,z as v,B as f}from"./vendor.js";var h=o({setup(){const o=[{color:"#202020",bgcolor:"#ffffff"},{color:"#202020",bgcolor:"#FF3C41"},{color:"#202020",bgcolor:"#48CF74"},{color:"#202020",bgcolor:"#0EBEFF"},{color:"#202020",bgcolor:"#FCD000"}],n=e({editor:!1,selectRange:5,shape:1,sortType:1,color:o[0].color,bgcolor:o[0].bgcolor});const a=l([]),r=l([]),c=t((()=>({gridTemplateColumns:"repeat(15, 48px)",gridTemplateRows:"repeat(15, 48px)"})));function u(o,e){return o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function d(o,e){return o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function i(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function b(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function p(o,e){return o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function y(o,e){return o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function x(){a.value.forEach((e=>{e.q=0,e.d=0,e.color=o[0].color,e.bgcolor=o[0].bgcolor,e.txt=""})),r.value=[]}const g=e({enabled:!1});function v(){g.enabled=!1}return window.addEventListener("mouseup",v,!1),s((()=>{window.removeEventListener("mouseup",v,!1)})),function(){for(let o=0;o<15;o++)for(let e=0;e<15;e++){const l={x:e+1,y:15-o,d:0,q:0,color:"",bgcolor:"",txt:""};a.value.push(l)}}(),{state:n,colors:o,grids:a,selects:r,gridsStyle:c,selectState:g,onSelectColor:function(o){n.color=o.color,n.bgcolor=o.bgcolor},onResetClick:function(){x()},onGridClick:function(o,e){g.current=e},onGridMouseDown:function(o,e){0===o.button&&(n.editor?(x(),function(o,e,l,t,s,n,c){a.value.forEach((s=>{const a=o-s.x,u=e-s.y,d=Math.abs(a)+Math.abs(u),i=Math.max(Math.abs(a),Math.abs(u));switch(t){case 1:d<=l&&(s.d=d,s.q=i,s.color=n,s.bgcolor=c,r.value.push(s));break;case 2:Math.abs(a)<=l&&Math.abs(u)<=l&&(s.d=d,s.q=i,s.color=n,s.bgcolor=c,r.value.push(s))}})),1===s&&(1===t?r.value.sort(u):2===t&&r.value.sort(i)),2===s&&(1===t?r.value.sort(d):2===t&&r.value.sort(b)),3===s&&r.value.sort(p),4===s&&r.value.sort(y);for(let a=0;a<r.value.length;a++)r.value[a].txt=String(a+1)}(e.x,e.y,n.selectRange,n.shape,n.sortType,n.color,n.bgcolor)):(g.enabled=!0,e.color=n.color,e.bgcolor=n.bgcolor))},onGridMouseEnter:function(o,e){0===o.button&&g.enabled&&(e.color=n.color,e.bgcolor=n.bgcolor)}}}});const C=v();n("data-v-4d2a6318");const m={class:"wrapper"},k={class:"toolbar"},M={class:"setting"},q={class:"label-control"},w=u("span",null,"选择模式 ",-1),E={class:"label-control"},S=u("span",null,"范围 ",-1),R={class:"label-control"},F=u("span",null,"形状 ",-1),G=u("option",{value:1},"菱形",-1),T=u("option",{value:2},"圈数",-1),U={class:"label-control"},V=u("span",null,"排序 ",-1),D=u("option",{value:1},"距离X",-1),L=u("option",{value:2},"距离Y",-1),B=u("option",{value:3},"X优先",-1),X=u("option",{value:4},"Y优先",-1),Y={class:"color-container"},_={key:0,class:"props-container"},j={class:"label-control"},z=u("span",null,"内容 ",-1),H={class:"content"};a();const I=C(((o,e,l,t,s,n)=>(r(),c("div",m,[u("div",k,[u("div",M,[u("label",q,[w,d(u("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=e=>o.state.editor=e)},null,512),[[i,o.state.editor]])]),u("label",E,[S,d(u("input",{type:"number",min:"0","onUpdate:modelValue":e[2]||(e[2]=e=>o.state.selectRange=e),style:{width:"5em"}},null,512),[[b,o.state.selectRange]])]),u("label",R,[F,d(u("select",{"onUpdate:modelValue":e[3]||(e[3]=e=>o.state.shape=e)},[G,T],512),[[p,o.state.shape]])]),u("label",U,[V,d(u("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>o.state.sortType=e)},[D,L,B,X],512),[[p,o.state.sortType]])]),u("button",{class:"btn",onClick:e[5]||(e[5]=(...e)=>o.onResetClick&&o.onResetClick(...e))},"清空")]),u("div",Y,[(r(!0),c(y,null,x(o.colors,((e,l)=>(r(),c("div",{key:l,class:["color-unit",{select:o.state.bgcolor===e.bgcolor}],style:{"--color":e.color,"--bgcolor":e.bgcolor},onClick:l=>o.onSelectColor(e)}," E ",14,["onClick"])))),128))]),o.selectState.current?(r(),c("div",_,[u("label",j,[z,d(u("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=e=>o.selectState.current.txt=e)},null,512),[[b,o.selectState.current.txt]])])])):g("",!0)]),u("div",H,[u("div",{class:"grids",style:o.gridsStyle},[(r(!0),c(y,null,x(o.grids,((e,l)=>(r(),c("div",{key:l,class:{selected:e===o.selectState.current},style:{color:e.color,backgroundColor:e.bgcolor},onClick:l=>o.onGridClick(l,e),onMousedown:l=>o.onGridMouseDown(l,e),onMouseenter:l=>o.onGridMouseEnter(l,e)},f(e.txt),47,["onClick","onMousedown","onMouseenter"])))),128))],4)])]))));h.render=I,h.__scopeId="data-v-4d2a6318";export{h as default};
