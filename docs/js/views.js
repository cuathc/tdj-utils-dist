import{d as Dt,o as i,c as x,p as G,D as pt,f as ue,e as t,a as h,w as I,b as ot,y as s,F as Q,g as rt,A as je,i as zt,R as Vt,z as Z,_ as Pt,r as vt,O as St,P as qt,H,M as Et,I as ht,J as kt,G as _,m as Ee,L as be,x as Kt,N as Me,B as He,n as Rt,U as ye,q as Ge,E as Le,t as _e}from"./vendor.js";import{_ as mt,s as gt,i as Pe,I as Ke,a as Yt,S as Gt,b as We,c as De,d as Be,e as ee,g as Je,f as Zt,l as Ye,h as Xe,T as Ze,j as Qe,k as tu,C as eu,m as Fe,n as uu,o as fe,p as nu,r as ou,q as au,t as su,u as lu,v as iu,w as ru,x as du,y as cu,z as Mt,A as pu,B as yu,D as _u,E as fu,F as xu,G as Lt,H as vu,J as mu,K as xe,L as X,M as ve,N as me,O as hu,P as Eu,Q as bu,R as Du,U as Bu,V as At,W as ct,X as Ut,Y as Qt,Z as Fu,$ as he,a0 as Cu}from"./components.js";const $u=Dt({name:"Home",components:{}});function wu(n,y,c,A,T,N){return i(),x("div")}const ci=mt($u,[["render",wu]]);function Ce(){return{id:0,name:"",key:"none",pinyin:"",is_new:"",pic:"",hero_icon:"",prop:"",prop_icon:"",career:"",career_icon:"",position:"",range:0,speed:0,rarity:"",source:"",weight:0,star1:"",star2:"",star3:"",star4:"",star5:"",star6:"",story_name:"",story_content:"",strategy:"",inherent:"",inherent_name:"",skill:[],qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0,qixue_cz:0,patt_cz:0,pdef_cz:0,matt_cz:0,mdef_cz:0,huixin_cz:0,eq_suit3:"",eq_suit6:"",eq_suit9:"",eq1_qixue:0,eq1_patt:0,eq1_pdef:0,eq1_matt:0,eq1_mdef:0,eq1_huixin:0,eq2_qixue:0,eq2_patt:0,eq2_pdef:0,eq2_matt:0,eq2_mdef:0,eq2_huixin:0,eq3_qixue:0,eq3_patt:0,eq3_pdef:0,eq3_matt:0,eq3_mdef:0,eq3_huixin:0,eq4_qixue:0,eq4_patt:0,eq4_pdef:0,eq4_matt:0,eq4_mdef:0,eq4_huixin:0,wp_qixue:0,wp_patt:0,wp_pdef:0,wp_matt:0,wp_mdef:0,wp_huixin:0,wn0_qixue:0,wn0_patt:0,wn0_pdef:0,wn0_matt:0,wn0_mdef:0,wn0_huixin:0,wn1_qixue:0,wn1_patt:0,wn1_pdef:0,wn1_matt:0,wn1_mdef:0,wn1_huixin:0,wn2_qixue:0,wn2_patt:0,wn2_pdef:0,wn2_matt:0,wn2_mdef:0,wn2_huixin:0,hz_qixue:0,hz_patt:0,hz_pdef:0,hz_matt:0,hz_mdef:0,hz_huixin:0,hz_qixuep:0,hz_pattp:0,hz_pdefp:0,hz_mattp:0,hz_mdefp:0,hz_huixinp:0,xh_qixue:0,xh_patt:0,xh_pdef:0,xh_matt:0,xh_mdef:0,xh_huixin:0,xh_qixuep:0,xh_pattp:0,xh_pdefp:0,xh_mattp:0,xh_mdefp:0,xh_huixinp:0}}function gu(){return{editor:G(),defaultHeroState:Ce}}function $e(){const n=G(!1),y=pt({qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0}),c=pt(Ce()),A=G(!1),T=G(!0),N=G(!0),B=G(!1),$=(o,a,w)=>Math.round(o/a*w),v=pt({v:70,eq:16}),E=o=>{const a={qixue:o.qixue,patt:o.patt,pdef:o.pdef,matt:o.matt,mdef:o.mdef,huixin:o.huixin};o.real||(a.qixue+=v.v*o.qixue_cz,a.patt+=v.v*o.patt_cz,a.pdef+=v.v*o.pdef_cz,a.matt+=v.v*o.matt_cz,a.mdef+=v.v*o.mdef_cz,a.huixin+=v.v*o.huixin_cz),a.qixue+=o.wp_qixue,a.patt+=o.wp_patt,a.pdef+=o.wp_pdef,a.matt+=o.wp_matt,a.mdef+=o.wp_mdef,a.huixin+=o.wp_huixin,a.qixue+=o.eq1_qixue,a.patt+=o.eq1_patt,a.pdef+=o.eq1_pdef,a.matt+=o.eq1_matt,a.mdef+=o.eq1_mdef,a.huixin+=o.eq1_huixin,a.qixue+=o.eq2_qixue,a.patt+=o.eq2_patt,a.pdef+=o.eq2_pdef,a.matt+=o.eq2_matt,a.mdef+=o.eq2_mdef,a.huixin+=o.eq2_huixin,a.qixue+=o.eq3_qixue,a.patt+=o.eq3_patt,a.pdef+=o.eq3_pdef,a.matt+=o.eq3_matt,a.mdef+=o.eq3_mdef,a.huixin+=o.eq3_huixin,a.qixue+=o.eq4_qixue,a.patt+=o.eq4_patt,a.pdef+=o.eq4_pdef,a.matt+=o.eq4_matt,a.mdef+=o.eq4_mdef,a.huixin+=o.eq4_huixin,a.qixue+=o.wn0_qixue,a.patt+=o.wn0_patt,a.pdef+=o.wn0_pdef,a.matt+=o.wn0_matt,a.mdef+=o.wn0_mdef,a.huixin+=o.wn0_huixin,a.qixue+=o.wn1_qixue,a.patt+=o.wn1_patt,a.pdef+=o.wn1_pdef,a.matt+=o.wn1_matt,a.mdef+=o.wn1_mdef,a.huixin+=o.wn1_huixin,a.qixue+=o.wn2_qixue,a.patt+=o.wn2_patt,a.pdef+=o.wn2_pdef,a.matt+=o.wn2_matt,a.mdef+=o.wn2_mdef,a.huixin+=o.wn2_huixin;const w={qixue:145,patt:135,pdef:155,matt:135,mdef:155,huixin:100};return A.value&&(w.qixue+=4,w.patt+=4,w.pdef+=4,w.matt+=4,w.mdef+=4),T.value&&o.rarity!=="R"&&(a.qixue+=o.hz_qixue,a.patt+=o.hz_patt,a.pdef+=o.hz_pdef,a.matt+=o.hz_matt,a.mdef+=o.hz_mdef,a.huixin+=o.hz_huixin,w.qixue+=o.hz_qixuep,w.patt+=o.hz_pattp,w.pdef+=o.hz_pdefp,w.matt+=o.hz_mattp,w.mdef+=o.hz_mdefp,w.huixin+=o.hz_huixinp),B.value&&(a.qixue+=o.xh_qixue,a.patt+=o.xh_patt,a.pdef+=o.xh_pdef,a.matt+=o.xh_matt,a.mdef+=o.xh_mdef,a.huixin+=o.xh_huixin),N.value&&(w.qixue+=o.xh_qixuep,w.patt+=o.xh_pattp,w.pdef+=o.xh_pdefp,w.matt+=o.xh_mattp,w.mdef+=o.xh_mdefp,w.huixin+=o.xh_huixinp),{qixue:Math.round(a.qixue*w.qixue/100),patt:Math.round(a.patt*w.patt/100),pdef:Math.round(a.pdef*w.pdef/100),matt:Math.round(a.matt*w.matt/100),mdef:Math.round(a.mdef*w.mdef/100),huixin:Math.round(a.huixin*w.huixin/100)}};function m(){n.value=!0}function L(){n.value=!1}function b(){n.value=!n.value}return{show:n,level:v,basic:y,form:c,xingyao:A,huazhen:T,xinghun:N,xinghui:B,calc:$,translate:E,open:m,close:L,toggle:b}}const W=n=>(St("data-v-d9b51281"),n=n(),qt(),n),Au={class:"toolbar"},ku=W(()=>t("span",{class:"title"},"\u4EBA\u7269\u5217\u8868",-1)),Su={class:"label-control-inline"},qu=W(()=>t("span",null,"\u540D\u5B57",-1)),Iu={class:"label-control-inline",style:{width:"80px"}},Tu=W(()=>t("span",null,"\u7B49\u7EA7",-1)),Uu={class:"label-control-inline",style:{width:"80px"}},Vu=W(()=>t("span",null,"\u53CA\u8EAB",-1)),zu={class:"label-control-inline",style:{width:"100px"}},Ou=W(()=>t("span",null,"\u5C5E\u6027",-1)),Ru=W(()=>t("option",{value:""},"\u5168\u90E8",-1)),Nu=W(()=>t("option",{value:"\u708E"},"\u708E",-1)),ju=W(()=>t("option",{value:"\u96F7"},"\u96F7",-1)),Mu=W(()=>t("option",{value:"\u51B0"},"\u51B0",-1)),Hu=W(()=>t("option",{value:"\u5149"},"\u5149",-1)),Gu=W(()=>t("option",{value:"\u6697"},"\u6697",-1)),Lu=W(()=>t("option",{value:"\u5E7D"},"\u5E7D",-1)),Pu=[Ru,Nu,ju,Mu,Hu,Gu,Lu],Ku={class:"label-control-inline",style:{width:"100px"}},Wu=W(()=>t("span",null,"\u804C\u4E1A",-1)),Ju=W(()=>t("option",{value:""},"\u5168\u90E8",-1)),Yu=W(()=>t("option",{value:"\u94C1\u536B"},"\u94C1\u536B",-1)),Xu=W(()=>t("option",{value:"\u4FA0\u5BA2"},"\u4FA0\u5BA2",-1)),Zu=W(()=>t("option",{value:"\u5492\u5E08"},"\u5492\u5E08",-1)),Qu=W(()=>t("option",{value:"\u795D\u7531"},"\u795D\u7531",-1)),tn=W(()=>t("option",{value:"\u5FA1\u98CE"},"\u5FA1\u98CE",-1)),en=W(()=>t("option",{value:"\u7FBD\u58EB"},"\u7FBD\u58EB",-1)),un=W(()=>t("option",{value:"\u6597\u5C06"},"\u6597\u5C06",-1)),nn=[Ju,Yu,Xu,Zu,Qu,tn,en,un],on={class:"c-label"},an={class:"c-label"},sn={class:"c-label"},ln={class:"c-label"},rn={class:"c-upload"},dn=W(()=>t("button",{class:"btn btn-success"},"\u5BFC\u5165",-1)),cn={class:"content"},pn={class:"table-wrap",style:{height:"100%"}},yn={class:"table table-bordered",style:{"min-width":"100%","white-space":"nowrap"}},_n=W(()=>t("colgroup",null,[t("col",{width:"60"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"80"}),t("col",{width:"100"})],-1)),fn={style:{position:"sticky",top:"0"}},xn=W(()=>t("th",null,"#",-1)),vn=W(()=>t("th",null,"\u540D\u5B57",-1)),mn=W(()=>t("th",null,"\u5C5E\u6027",-1)),hn=W(()=>t("th",null,"\u804C\u4E1A",-1)),En=W(()=>t("th",null,"\u64CD\u4F5C",-1)),bn={class:"cell-static text-center"},Dn={class:"cell-static text-center"},Bn={class:"cell-static text-center"},Fn={class:"cell-static text-center"},Cn={class:"cell-static text-center"},$n={class:"cell-static text-center"},wn={class:"cell-static text-center"},gn={class:"cell-static text-center"},An={class:"cell-static text-center"},kn={class:"cell-static text-center"},Sn={class:"cell-static"},qn=["onClick"],In=["onClick"],Tn=Dt({__name:"Heroes",setup(n){const y=Ke(),c=pt({name:"",prop:"",career:""}),A=ue(()=>tt(gt.value)),T=G(-1),{editor:N,defaultHeroState:B}=gu(),$=V=>{const p=gt.value.find(O=>O.id===V);!p||(T.value=V,N.value=Pt.cloneDeep(p))},v=async V=>{T.value=-1;const p=gt.value.find(O=>O.id===V.id);if(!!p){Object.assign(p,V);try{if(!y)return;await y.connect(),await y.put("heroes",Pt.cloneDeep(p))}catch(O){console.log(O)}}};function E(V){if(V instanceof Error)switch(V.name){case"ConstraintError":alert("\u6570\u636E\u5DF2\u7ECF\u5B58\u5728");break;default:alert(V.message)}else alert(V)}async function m(){try{await Pe()}catch(V){E(V)}}async function L(){try{if(!y)return;const V=B();await y.connect(),V.custom=1,delete V.id;const p=await y.add("heroes",V),O=await y.get("heroes",p);if(!O)return;gt.value.push(O)}catch(V){E(V)}}async function b(V){try{if(!y||!V.id||!confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F"))return;await y.connect(),await y.delete("heroes",V.id),gt.value=gt.value.filter(p=>p.id!==V.id)}catch(p){E(p)}}function o(V){return new Promise((p,O)=>{const ut=new FileReader;ut.onload=()=>{p(JSON.parse(ut.result))},ut.onerror=()=>{O(ut.error)},ut.readAsText(V)})}async function a(V){try{const p=V.currentTarget,O=p.files;if(!O||!y)return;await y.connect(),console.log("\u6570\u636E\u5BFC\u5165\u5F00\u59CB");for(let ut=0;ut<O.length;ut++){const f=await o(O[ut]);let k=[];if(De(f))k=f;else if(Be(f)&&f.type==="heroes")k=f.data;else{alert("\u5BFC\u5165\u7684\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E");return}for(const Ot of k)await y.put("heroes",Ot);console.log("\u6570\u636E\u5BFC\u5165\u7ED3\u675F")}p.value="",m()}catch(p){E(p)}}function w(V){if(V.ctrlKey){const O=[["name","qixue","patt","pdef","matt","mdef","huixin","qixue_cz","patt_cz","pdef_cz","matt_cz","mdef_cz","huixin_cz"].join(",")];for(const f of gt.value)O.push([f.name,f.qixue,f.patt,f.pdef,f.matt,f.mdef,f.huixin,f.qixue_cz,f.patt_cz,f.pdef_cz,f.matt_cz,f.mdef_cz,f.huixin_cz].join(","));const ut=new Blob([O.join(`
`)]);ee(ut,"correct-heroes.csv");return}const p=new Blob([JSON.stringify({type:"heroes",data:gt.value})]);ee(p,"heroes.json")}const d=G("name"),J=G("NONE");function lt(V){if(d.value===V)switch(J.value){case"DESC":J.value="ASC";break;case"ASC":J.value="NONE";break;default:J.value="DESC"}else d.value=V,J.value="DESC"}function tt(V){let p=V.slice();return c.name&&(p=p.filter(O=>O.name.includes(c.name))),c.prop&&(p=p.filter(O=>O.prop===c.prop)),c.career&&(p=p.filter(O=>O.career===c.career)),p.sort((O,ut)=>{if(O.custom)return-1;switch(d.value){case"qixue":case"patt":case"pdef":case"matt":case"mdef":case"huixin":{const f=et(O),k=et(ut);return J.value==="DESC"?k[d.value]-f[d.value]:J.value==="ASC"?f[d.value]-k[d.value]:ut.weight-O.weight}default:return ut.weight-O.weight}}),p}function st(){Je()}(!gt.value||gt.value.length===0)&&m();const{level:it,translate:et,xingyao:Bt,huazhen:Ft,xinghun:Tt,xinghui:Ct}=$e();return(V,p)=>{const O=vt("c-col"),ut=vt("c-space"),f=vt("c-row");return i(),x(Q,null,[t("div",je({class:"wrapper"},V.$attrs),[t("div",Au,[h(f,{flex:"",middle:"",style:{padding:"4px 16px","white-space":"nowrap","flex-wrap":"wrap",gap:"8px"}},{default:I(()=>[h(O,{flex:"1 1 0"},{default:I(()=>[ku,t("label",Su,[qu,H(t("input",{class:"input",type:"text","onUpdate:modelValue":p[0]||(p[0]=k=>c.name=k),placeholder:"\u540D\u5B57\u8FC7\u6EE4"},null,512),[[Et,c.name]])]),t("label",Iu,[Tu,h(s(Yt),{value:s(it).v,"onUpdate:value":p[1]||(p[1]=k=>s(it).v=k),min:"0",max:"70"},null,8,["value"])]),t("label",Uu,[Vu,h(s(Yt),{value:s(it).eq,"onUpdate:value":p[2]||(p[2]=k=>s(it).eq=k),min:"0",max:"16"},null,8,["value"])]),t("label",zu,[Ou,H(t("select",{class:"select","onUpdate:modelValue":p[3]||(p[3]=k=>c.prop=k)},Pu,512),[[ht,c.prop]])]),t("label",Ku,[Wu,H(t("select",{class:"select","onUpdate:modelValue":p[4]||(p[4]=k=>c.career=k)},nn,512),[[ht,c.career]])])]),_:1}),h(O,{flex:"0 0 auto"},{default:I(()=>[h(ut,{size:"8"},{default:I(()=>[t("label",on,[H(t("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":p[5]||(p[5]=k=>Vt(Bt)?Bt.value=k:null)},null,512),[[kt,s(Bt)]]),ot(" \u661F\u8000 ")]),t("label",an,[H(t("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":p[6]||(p[6]=k=>Vt(Ft)?Ft.value=k:null)},null,512),[[kt,s(Ft)]]),ot(" \u5316\u81FB ")]),t("label",sn,[H(t("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=k=>Vt(Tt)?Tt.value=k:null)},null,512),[[kt,s(Tt)]]),ot(" \u661F\u9B42 ")]),t("label",ln,[H(t("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=k=>Vt(Ct)?Ct.value=k:null)},null,512),[[kt,s(Ct)]]),ot(" \u661F\u8F89 ")]),t("button",{class:"btn btn-danger",onClick:st},"\u8F7D\u5165\u9ED8\u8BA4"),t("div",rn,[dn,t("input",{type:"file",class:"c-upload-input",accept:"application/json",onInput:p[9]||(p[9]=k=>a(k))},null,32)]),t("button",{class:"btn btn-success",onClick:w},"\u5BFC\u51FA"),t("button",{class:"btn btn-primary",onClick:p[10]||(p[10]=k=>L())},"\u6DFB\u52A0")]),_:1})]),_:1})]),_:1})]),t("div",cn,[t("div",pn,[t("table",yn,[_n,t("thead",fn,[t("tr",null,[xn,vn,t("th",null,[ot(" \u6C14\u8840 "),h(s(Gt),{type:d.value==="qixue"?J.value:"NONE",onClick:p[11]||(p[11]=k=>lt("qixue"))},null,8,["type"])]),t("th",null,[ot(" \u7269\u653B "),h(s(Gt),{type:d.value==="patt"?J.value:"NONE",onClick:p[12]||(p[12]=k=>lt("patt"))},null,8,["type"])]),t("th",null,[ot(" \u7269\u9632 "),h(s(Gt),{type:d.value==="pdef"?J.value:"NONE",onClick:p[13]||(p[13]=k=>lt("pdef"))},null,8,["type"])]),t("th",null,[ot(" \u6CD5\u653B "),h(s(Gt),{type:d.value==="matt"?J.value:"NONE",onClick:p[14]||(p[14]=k=>lt("matt"))},null,8,["type"])]),t("th",null,[ot(" \u6CD5\u9632 "),h(s(Gt),{type:d.value==="mdef"?J.value:"NONE",onClick:p[15]||(p[15]=k=>lt("mdef"))},null,8,["type"])]),t("th",null,[ot(" \u4F1A\u5FC3 "),h(s(Gt),{type:d.value==="huixin"?J.value:"NONE",onClick:p[16]||(p[16]=k=>lt("huixin"))},null,8,["type"])]),mn,hn,En])]),t("tbody",null,[(i(!0),x(Q,null,rt(A.value,(k,Ot)=>(i(),x("tr",{key:k.id,class:"c-user-row"},[t("td",bn,_(Ot+1),1),t("td",Dn,_(k.name),1),(i(!0),x(Q,null,rt([s(et)(k)],(yt,q)=>(i(),x(Q,{key:q},[t("td",Bn,_(yt.qixue),1),t("td",Fn,_(yt.patt),1),t("td",Cn,_(yt.pdef),1),t("td",$n,_(yt.matt),1),t("td",wn,_(yt.mdef),1),t("td",gn,_(yt.huixin),1)],64))),128)),t("td",An,_(k.prop),1),t("td",kn,_(k.career),1),t("td",Sn,[h(ut,null,{default:I(()=>[t("button",{class:"btn btn-sm btn-primary-outline",onClick:yt=>$(k.id)}," \u7F16\u8F91 ",8,qn),t("button",{class:"btn btn-sm btn-danger-outline",onClick:yt=>b(k)},"\u5220\u9664",8,In)]),_:2},1024)])]))),128))])])])])],16),s(N)?(i(),zt(s(We),{key:0,record:s(N),"onUpdate:record":p[17]||(p[17]=k=>Vt(N)?N.value=k:null),width:"800px",height:"720px",onSave:v},null,8,["record"])):Z("",!0)],64)}}});const Un=mt(Tn,[["__scopeId","data-v-d9b51281"]]),pi=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Nt=n=>(St("data-v-4a6228d0"),n=n(),qt(),n),Vn={class:"wrapper"},zn={class:"toolbar"},On={style:{padding:"6px 16px"}},Rn={class:"c-upload"},Nn=Nt(()=>t("button",{class:"btn btn-success"},"\u5BFC\u5165",-1)),jn={style:{padding:"6px 16px"}},Mn={class:"input-group"},Hn=Nt(()=>t("div",{class:"input-ext"},"=",-1)),Gn={class:"content"},Ln={class:"container"},Pn=["value"],Kn=["onKeypress"],Wn={key:1},Jn=["onClick"],Yn=["onClick"],Xn=["onClick"],Zn=["onClick"],Qn=["onClick"],to=["onClick"],eo=["onClick"],uo={style:{"text-align":"center"}},no=Nt(()=>t("span",null,"\u7B49\u7EA7",-1)),oo=Nt(()=>t("span",null,"\u53CA\u8EAB",-1)),ao=Nt(()=>t("span",null,"\u661F\u8000",-1)),so=Nt(()=>t("span",null,"\u5316\u81FB",-1)),lo=Nt(()=>t("span",null,"\u661F\u9B42",-1)),io=Nt(()=>t("span",null,"\u661F\u8F89",-1)),ro=Dt({__name:"Calculator",setup(n){const{exportImage:y}=lu(),c=pt({id:"",title:"",selecteds:[],search:""}),A=G([]),T=ue(()=>A.value.filter(q=>q.title.indexOf(c.search)>-1)),N=async()=>{const r={id:fe(),title:"\u6A21\u677F",basic:iu(),state:ru(),enemyState:du(),items:cu()};await nu(r),A.value.push(r)},B=async q=>{if(!confirm("\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F"))return;const z=A.value.findIndex(nt=>nt.id===q);z!==-1&&(await ou(A.value[z].id),A.value.splice(z,1))},$=async q=>{const r=c.title;if(!r){v();return}const z=A.value.findIndex(_t=>_t.id===q);if(z===-1)return;const nt=A.value[z];nt.title=r,v(),await Zt(nt)},v=()=>{c.id="",c.title=""},E=q=>{try{y(q)}catch{alert("\u5BFC\u51FA\u5931\u8D25\uFF0C\u6570\u636E\u5B58\u5728\u9519\u8BEF")}},m=q=>{const r={type:"calculator",data:[q]},z=new Blob([JSON.stringify(r)],{type:"application/json"});ee(z,`${q.title}.json`)},L=async q=>{A.value=q},b=q=>new Promise((r,z)=>{const nt=new FileReader;nt.onload=()=>{r(nt.result)},nt.onerror=()=>{z(nt.error)},nt.readAsText(q)}),o=async()=>{if(!confirm("\u786E\u8BA4\u8981\u6E05\u7A7A\u6240\u6709\u6570\u636E\u5417\uFF1F"))return;let r=T.value;c.selecteds.length>0&&(r=c.selecteds.map(z=>T.value[z]).filter(z=>z)),await au(r.map(z=>z.id)),yt()},a=async q=>{const r=q.currentTarget,z=Array.prototype.slice.call(r.files);if(r.value="",!z||!z[0])return;const nt=z[0],_t=await b(nt),$t=JSON.parse(_t);let jt=[];if(De($t))jt=$t;else if(Be($t)&&$t.type==="calculator")jt=$t.data;else{alert("\u5BFC\u5165\u7684\u6570\u636E\u683C\u5F0F\u4E0D\u6B63\u786E");return}await su(jt),yt()},w=async()=>{let q="calculator.json",r=T.value;c.selecteds.length>0&&(r=c.selecteds.map(_t=>T.value[_t]).filter(_t=>_t),q="calculator-selected.json");const z={type:"calculator",data:r},nt=new Blob([JSON.stringify(z)],{type:"application/json"});ee(nt,q)};async function d(q,r){const z=A.value.findIndex(_t=>_t.id===r);z===-1||!A.value[z]||(A.value[z]=q,await Zt(q))}const J=G(-1),lt=pt({input:"2283/1.35*1.39",result:0}),{translate:tt,level:st,xingyao:it,huazhen:et,xinghun:Bt,xinghui:Ft}=$e(),Tt=q=>Math.ceil(q),Ct=pt({show:!1}),V=q=>{const r=tt(q);p.value&&p.value(q,r)},p=G(),O=G(!1),ut=G(),f=q=>{O.value=!0,ut.value=q},k=({item:q})=>{if(O.value=!1,ut.value){const r=ut.value,z=tt(q);r.title==="\u6A21\u677F"&&(r.title=q.name),r.basic.w=Math.max(z.patt,z.matt),Zt(r)}else V(q)},Ot=q=>{const r=Pt.cloneDeep(q);r.id=fe(),console.log(r),A.value.push(r),Zt(r)};async function yt(){const q=await Ye();c.selecteds=[],L(q)}return Ee(()=>{yt()}),(q,r)=>{const z=vt("c-col"),nt=vt("c-row"),_t=Xe,$t=vt("c-space"),jt=be("autofocus");return i(),x("div",Vn,[t("div",zn,[t("div",On,[h(nt,{flex:"",middle:"",gutter:16},{default:I(()=>[h(z,{flex:"0 0 auto"},{default:I(()=>[ot("\u4F24\u5BB3\u8BA1\u7B97\u5668")]),_:1}),h(z,{flex:"0 0 auto"},{default:I(()=>[t("button",{class:"btn btn-sm btn-link",onClick:r[0]||(r[0]=S=>Ct.show=!Ct.show)},"\u9762\u677F"),c.selecteds.length>0?(i(),x("button",{key:0,class:"btn btn-success",onClick:r[1]||(r[1]=S=>c.selecteds=[])}," \u53D6\u6D88\u6240\u9009 ")):Z("",!0)]),_:1}),h(z,{flex:"1 1 0"},{default:I(()=>[H(t("input",{type:"text",class:"input",placeholder:"\u540D\u79F0\u8FC7\u6EE4","onUpdate:modelValue":r[2]||(r[2]=S=>c.search=S)},null,512),[[Et,c.search]])]),_:1}),h(z,{flex:"0 0 auto"},{default:I(()=>[t("button",{class:"btn btn-danger",onClick:o},_(c.selecteds.length>0?"\u5220\u9664\u6240\u9009":"\u6E05\u7A7A"),1),t("div",Rn,[Nn,t("input",{type:"file",class:"c-upload-input",accept:"application/json",onInput:a},null,32)]),t("button",{class:"btn btn-success",onClick:w},_(c.selecteds.length>0?"\u5BFC\u51FA\u6240\u9009":"\u5BFC\u51FA"),1),t("button",{class:"btn btn-primary",onClick:r[3]||(r[3]=S=>N())},"\u6DFB\u52A0")]),_:1})]),_:1}),h(s(Ze),{show:Ct.show,"onUpdate:show":r[4]||(r[4]=S=>Ct.show=S),onReference:r[5]||(r[5]=S=>f()),onInit:r[6]||(r[6]=S=>p.value=S)},null,8,["show"])]),t("div",jn,[t("div",Mn,[h(_t,{modelValue:lt.input,"onUpdate:modelValue":r[7]||(r[7]=S=>lt.input=S),result:lt.result,"onUpdate:result":r[8]||(r[8]=S=>lt.result=S),style:{flex:"3 3 0"}},null,8,["modelValue","result"]),Hn,h(s(Yt),{readonly:"",value:Tt(lt.result),style:{flex:"2 2 0"}},null,8,["value"])])])]),t("div",Gn,[t("div",Ln,[(i(!0),x(Q,null,rt(T.value,(S,Ht)=>(i(),zt(s(Fe),{key:S.id,activeKey:Ht===J.value,onToggle:dt=>J.value=dt?Ht:-1},{header:I(()=>[h(nt,{flex:"",middle:""},{default:I(()=>[h(z,null,{default:I(()=>[H(t("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":r[9]||(r[9]=dt=>c.selecteds=dt),value:Ht,onClick:r[10]||(r[10]=Kt(()=>{},["stop"]))},null,8,Pn),[[kt,c.selecteds]]),ot(" \u2007 ")]),_:2},1024),h(z,null,{default:I(()=>[c.id===S.id?H((i(),x("input",{key:0,type:"text",class:"input","onUpdate:modelValue":r[11]||(r[11]=dt=>c.title=dt),onClick:r[12]||(r[12]=Kt(()=>{},["stop"])),onKeypress:Me(dt=>$(S.id),["enter"])},null,40,Kn)),[[Et,c.title],[jt]]):(i(),x("span",Wn,_(S.title),1))]),_:2},1024),h(z,{class:"ml-4",onClick:r[13]||(r[13]=Kt(()=>{},["stop"]))},{default:I(()=>[c.id===S.id?(i(),x("button",{key:0,class:"btn btn-sm btn-link",onClick:dt=>$(S.id)},"\u786E\u8BA4",8,Jn)):(i(),x(Q,{key:1},[t("button",{class:"btn btn-sm btn-link",onClick:dt=>f(S)},"\u9009\u62E9",8,Yn),t("button",{class:"btn btn-sm btn-link",onClick:dt=>{c.id=S.id,c.title=S.title}},[h(s(Qe),{class:"svg-icon"}),ot(" \u91CD\u547D\u540D ")],8,Xn),t("button",{class:"btn btn-sm btn-link",onClick:dt=>Ot(S)},[h(s(tu),{class:"svg-icon"}),ot(" \u590D\u5236 ")],8,Zn)],64))]),_:2},1024)]),_:2},1024)]),actions:I(()=>[t("button",{class:"btn btn-sm btn-success-outline",onClick:dt=>E(S)},"\u5BFC\u51FA\u56FE\u50CF",8,Qn),t("button",{class:"btn btn-sm btn-success-outline",onClick:dt=>m(S)},"\u5BFC\u51FA",8,to),t("button",{class:"btn btn-sm btn-danger-outline",onClick:dt=>B(S.id)},"\u5220\u9664",8,eo)]),default:I(()=>[Ht===J.value?(i(),zt(s(eu),{key:0,data:S,"onUpdate:data":dt=>d(dt,S.id)},null,8,["data","onUpdate:data"])):Z("",!0)]),_:2},1032,["activeKey","onToggle"]))),128))])]),h(s(uu),{show:O.value,"onUpdate:show":r[20]||(r[20]=S=>O.value=S),onClick:k},{extra:I(()=>[t("div",uo,[h($t,null,{default:I(()=>[t("label",null,[no,h(s(Yt),{class:"mini-input",min:"0",max:"70",value:s(st).v,"onUpdate:value":r[14]||(r[14]=S=>s(st).v=S)},null,8,["value"])]),t("label",null,[oo,h(s(Yt),{class:"mini-input",min:"0",max:"16",value:s(st).eq,"onUpdate:value":r[15]||(r[15]=S=>s(st).eq=S)},null,8,["value"])]),t("label",null,[ao,H(t("input",{type:"checkbox","onUpdate:modelValue":r[16]||(r[16]=S=>Vt(it)?it.value=S:null)},null,512),[[kt,s(it)]])]),t("label",null,[so,H(t("input",{type:"checkbox","onUpdate:modelValue":r[17]||(r[17]=S=>Vt(et)?et.value=S:null)},null,512),[[kt,s(et)]])]),t("label",null,[lo,H(t("input",{type:"checkbox","onUpdate:modelValue":r[18]||(r[18]=S=>Vt(Bt)?Bt.value=S:null)},null,512),[[kt,s(Bt)]])]),t("label",null,[io,H(t("input",{type:"checkbox","onUpdate:modelValue":r[19]||(r[19]=S=>Vt(Ft)?Ft.value=S:null)},null,512),[[kt,s(Ft)]])])]),_:1})])]),_:1},8,["show"])])}}});const co=mt(ro,[["__scopeId","data-v-4a6228d0"]]),yi=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),po={},yo={class:"table-wrap"},_o=t("table",{class:"table",style:{"min-width":"100%"}},[t("thead",{style:{position:"sticky",top:"0"}},[t("tr",null,[t("th",null,"#"),t("th",null,"ID"),t("th",null,"\u540D\u79F0"),t("th",null,"\u63CF\u8FF0"),t("th",null,"\u7C7B\u578B"),t("th",null,"\u53C2\u6570")])]),t("tbody")],-1),fo=[_o];function xo(n,y){return i(),x("div",yo,fo)}const vo=mt(po,[["render",xo]]),_i=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),mo={},ho={class:"table-wrap"},Eo=He('<table class="table" style="min-width:100%;"><thead style="position:sticky;top:0;"><tr><th>#</th><th>ID</th><th>\u540D\u79F0</th><th>\u63CF\u8FF0</th><th>\u53EF\u9A71\u6563</th><th>\u53EF\u6269\u6563</th><th>\u53EF\u590D\u5236</th><th>\u53C2\u6570</th></tr></thead><tbody></tbody></table>',1),bo=[Eo];function Do(n,y){return i(),x("div",ho,bo)}const Bo=mt(mo,[["render",Do]]),fi=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"})),Fo=[30,70,150,300,600,600,600,800,800,800,1e3,1e3,1e3,1200,1200,1200,2e3,2e3,2e3,0];function Co(n){const y=[];for(let c=0,A=0;c<n.length;c++)y[c]={lvl:c+1,exp:n[c],total:A},A+=n[c];return y}const te=Co(Fo),$o=Dt({setup(){const n=G(1),y=G(0),c=ue(()=>{const A=te[n.value-1];return te[te.length-1].total-A.total-y.value});return{levels:te,curLvl:n,curExp:y,curReq:c}}}),wo=""+new URL("../assets/selected.svg",import.meta.url).href;const ne=n=>(St("data-v-a71401e9"),n=n(),qt(),n),go={class:"wrapper"},Ao={class:"content"},ko={class:"table table-bordered text-center no-select",style:{width:"100%"}},So=ne(()=>t("thead",null,[t("tr",null,[t("th",null,"\u4F4D\u9636"),t("th",null,"\u5347\u7EA7\u5386\u7EC3"),t("th",null,"\u7D2F\u8BA1\u5386\u7EC3")])],-1)),qo=["onClick"],Io={style:{position:"relative","padding-left":"24px"}},To={key:0,src:wo,alt:"",width:"16",height:"16",style:{position:"absolute",left:"4px",top:"0",bottom:"0",margin:"auto"}},Uo={class:"row"},Vo={class:"col-8"},zo=ne(()=>t("div",{class:"label"},"\u5F53\u524D\u4F4D\u9636",-1)),Oo=["value"],Ro={class:"col-8"},No=ne(()=>t("div",{class:"label"},"\u5F53\u524D\u5386\u7EC3",-1)),jo={class:"col-8"},Mo=ne(()=>t("div",{class:"label"},"\u6EE1\u9636\u8FD8\u9700",-1)),Ho=["value"];function Go(n,y,c,A,T,N){return i(),x("div",go,[t("div",Ao,[t("table",ko,[So,t("tbody",null,[(i(!0),x(Q,null,rt(n.levels,B=>(i(),x("tr",{key:B.lvl,onClick:$=>n.curLvl=B.lvl},[t("td",null,[t("div",Io,[n.curLvl===B.lvl?(i(),x("img",To)):Z("",!0),ot(" "+_(B.lvl),1)])]),t("td",null,_(B.exp),1),t("td",null,_(B.total),1)],8,qo))),128))])]),t("div",Uo,[t("div",Vo,[zo,t("input",{class:"input",type:"number",min:"1",max:"20",readonly:"",value:n.curLvl},null,8,Oo)]),t("div",Ro,[No,H(t("input",{class:"input",type:"number","onUpdate:modelValue":y[0]||(y[0]=B=>n.curExp=B)},null,512),[[Et,n.curExp]])]),t("div",jo,[Mo,t("input",{class:"input",type:"number",readonly:"",value:n.curReq},null,8,Ho)])])])])}const Lo=mt($o,[["render",Go],["__scopeId","data-v-a71401e9"]]),xi=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"})),Po=n=>(St("data-v-ad305fc0"),n=n(),qt(),n),Ko={class:"table text-center",style:{width:"100%"}},Wo=Po(()=>t("thead",null,[t("tr",null,[t("th",null,"\u804C\u4E1A"),t("th",null,"\u6C14\u8840"),t("th",null,"\u7269\u653B"),t("th",null,"\u7269\u9632"),t("th",null,"\u6CD5\u653B"),t("th",null,"\u6CD5\u9632"),t("th",null,"\u4F1A\u5FC3")])],-1)),Jo=Dt({__name:"WuNei",setup(n){const y=Object.keys(Mt);return(c,A)=>(i(),x("table",Ko,[Wo,t("tbody",null,[(i(!0),x(Q,null,rt(s(y),T=>(i(),x("tr",{key:T},[t("td",null,_(s(pu)[T]),1),t("td",null,_(s(Mt)[T].u[0]),1),t("td",null,_(s(Mt)[T].c[1]),1),t("td",null,_(s(Mt)[T].d[2]),1),t("td",null,_(s(Mt)[T].c[3]),1),t("td",null,_(s(Mt)[T].d[4]),1),t("td",null,_(s(Mt)[T].u[5]),1)]))),128))])]))}});const Yo=mt(Jo,[["__scopeId","data-v-ad305fc0"]]),vi=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),Xo=n=>(St("data-v-1b51bddc"),n=n(),qt(),n),Zo={class:"content"},Qo=Xo(()=>t("table",{class:"table text-center eq-sticky",style:{width:"100%"}},[t("thead",null,[t("tr",null,[t("th",null,"\u90E8\u4F4D"),t("th",null,"\u6C14\u8840"),t("th",null,"\u7269\u653B"),t("th",null,"\u7269\u9632"),t("th",null,"\u6CD5\u653B"),t("th",null,"\u6CD5\u9632"),t("th",null,"\u4F1A\u5FC3")])])],-1)),ta={class:"table text-center",style:{width:"100%"}},ea=Dt({__name:"Equipment",setup(n){const y={xk:"\u4FA0\u5BA2",xk_f:"\u4FA0\u5BA2\u6CD5",ys:"\u7FBD\u58EB",tw:"\u94C1\u536B",tw2:"\u94C1\u536B2",zs:"\u5492\u5E08",zs2:"\u5492\u5E082",zy:"\u795D\u7531",yf:"\u5FA1\u98CE",yf2:"\u5FA1\u98CE2",dj:"\u6597\u5C06"},c=Object.keys(y),A=G("");function T(N){A.value=A.value===N?"":N}return(N,B)=>(i(),x("div",Zo,[(i(!0),x(Q,null,rt(s(c),$=>(i(),zt(s(Fe),{class:"eq-panel",key:$,activeKey:A.value===$,header:y[$],onToggle:v=>T($)},{default:I(()=>[Qo,t("table",ta,[t("tbody",null,[(i(!0),x(Q,null,rt(s(yu)[$],(v,E)=>(i(),x(Q,{key:E},[t("tr",{class:Rt({odd:E%2===1})},[t("td",null,"\u5934\u90E8+"+_(E),1),t("td",null,_(v[0][0]),1),t("td",null,_(v[0][1]),1),t("td",null,_(v[0][2]),1),t("td",null,_(v[0][3]),1),t("td",null,_(v[0][4]),1),t("td",null,_(v[0][5]),1)],2),t("tr",{class:Rt({odd:E%2===1})},[t("td",null,"\u8EAB\u4F53+"+_(E),1),t("td",null,_(v[1][0]),1),t("td",null,_(v[1][1]),1),t("td",null,_(v[1][2]),1),t("td",null,_(v[1][3]),1),t("td",null,_(v[1][4]),1),t("td",null,_(v[1][5]),1)],2),t("tr",{class:Rt({odd:E%2===1})},[t("td",null,"\u8170\u90E8+"+_(E),1),t("td",null,_(v[2][0]),1),t("td",null,_(v[2][1]),1),t("td",null,_(v[2][2]),1),t("td",null,_(v[2][3]),1),t("td",null,_(v[2][4]),1),t("td",null,_(v[2][5]),1)],2),t("tr",{class:Rt({odd:E%2===1})},[t("td",null,"\u624B\u90E8+"+_(E),1),t("td",null,_(v[3][0]),1),t("td",null,_(v[3][1]),1),t("td",null,_(v[3][2]),1),t("td",null,_(v[3][3]),1),t("td",null,_(v[3][4]),1),t("td",null,_(v[3][5]),1)],2)],64))),128))])])]),_:2},1032,["activeKey","header","onToggle"]))),128))]))}});const ua=mt(ea,[["__scopeId","data-v-1b51bddc"]]),mi=Object.freeze(Object.defineProperty({__proto__:null,default:ua},Symbol.toStringTag,{value:"Module"})),we={a1:"\u653B\u51FB",a2:"\u4F24\u5BB3",a3:"\u7A7F\u900F",a4:"\u53CD\u51FB",a5:"\u66B4\u51FB",d1:"\u6C14\u8840",d2:"\u7269\u514D",d3:"\u6CD5\u514D",d4:"\u7269\u9632",d5:"\u6CD5\u9632",d6:"\u66B4\u6297"},ge={T:{a1:[4,10],a2:[4,10],a3:[4,10],a4:[4,10],a5:[4,10],d1:[2,5],d2:[2,5],d3:[2,5],d4:[2,5],d5:[2,5],d6:[2,5]},D:{a1:[2,5],a2:[2,5],a3:[2,5],a4:[2,5],a5:[2,5],d1:[4,10],d2:[4,10],d3:[4,10],d4:[4,10],d5:[4,10],d6:[4,10]},H:{a1:[3,7],a2:[3,7],a3:[3,7],a4:[3,7],a5:[3,7],d1:[3,7],d2:[3,7],d3:[3,7],d4:[3,7],d5:[3,7],d6:[3,7]}},Ae=[{name:"a1"},{name:"a2"},{name:"a3"},{name:"a4"},{name:"a5"},{name:"d1"},{name:"d2"},{name:"d3"},{name:"d4"},{name:"d5"},{name:"d6"}],na=Dt({components:{StoneList:_u},setup(){const n=G(!1),y=pt({a1:11,a2:10,a3:6,a4:3,a5:1,d1:7,d2:5,d3:5,d4:1,d5:1,d6:0}),c=pt({a1:0,a2:0,a3:0,a4:0,a5:1,d1:12,d2:9,d3:9,d4:2,d5:2,d6:0}),A=pt({a1:12,a2:1,a3:0,a4:0,a5:0,d1:9,d2:8,d3:8,d4:1,d5:1,d6:0}),T=[{name:"p1",text:"\u6781\u54C1"},{name:"p2",text:"\u4F18\u79C0"},{name:"p3",text:"\u826F\u597D"},{name:"p4",text:"\u4E00\u822C"}],N=["one","two","three","four"],B=pt({one:"a1",two:"a2",three:"a3",four:"a4"}),$=pt({one:1,two:1,three:1,four:1}),v=G("A"),E=G("T"),m=a=>{let w=0;return a[B.one]&&(w+=a[B.one]*$.one),a[B.two]&&(w+=a[B.two]*$.two),a[B.three]&&(w+=a[B.three]*$.three),a[B.four]&&(w+=a[B.four]*$.four),w};function L(){let a=0;switch(v.value){case"A":a+=m(y);break;case"D":a+=m(c);break;case"N":a+=m(A);break}return a}const b=G(0);return{t:we,setting:n,stateA:y,stateD:c,stateN:A,rules:ge,models:Ae,models2:T,names:N,formState:B,formStateValue:$,jobType:v,stoneType:E,score:b,onUpdate:a=>{a.currentTarget.reportValidity()&&(b.value=L())}}}});const It=n=>(St("data-v-f3fb6e8a"),n=n(),qt(),n),oa={class:"wrapper"},aa={class:"toobar"},sa={class:"table table-horizontal table-nopadding",style:{width:"280px"}},la=It(()=>t("thead",null,[t("tr",null,[t("th",{width:"25%"},[t("div",{class:"label"},"\u8BCD\u6761")]),t("th",{width:"25%"},[t("div",{class:"label"},"\u8F93\u51FA")]),t("th",{width:"25%"},[t("div",{class:"label"},"\u5766\u514B")]),t("th",{width:"25%"},[t("div",{class:"label"},"\u6CBB\u7597")])])],-1)),ia={class:"label"},ra=["onUpdate:modelValue"],da=["onUpdate:modelValue"],ca=["onUpdate:modelValue"],pa={class:"affix"},ya={class:"form-item-inline"},_a=It(()=>t("div",{class:"label-control"},"\u804C\u4E1A\u7C7B\u578B",-1)),fa=It(()=>t("option",{value:"A"},"\u8F93\u51FA",-1)),xa=It(()=>t("option",{value:"D"},"\u5766\u514B",-1)),va=It(()=>t("option",{value:"N"},"\u6CBB\u7597",-1)),ma=[fa,xa,va],ha={class:"form-item-inline"},Ea=It(()=>t("div",{class:"label-control"},"\u9B42\u77F3\u7C7B\u578B",-1)),ba=It(()=>t("option",{value:"T"},"\u5929",-1)),Da=It(()=>t("option",{value:"D"},"\u5730",-1)),Ba=It(()=>t("option",{value:"H"},"\u8352",-1)),Fa=[ba,Da,Ba],Ca={class:"label-control"},$a=["onUpdate:modelValue"],wa=["value"],ga={class:"score-box"},Aa=It(()=>t("span",{class:"text-bold"},"\u9B42\u77F3\u5F97\u5206\uFF1A",-1)),ka={style:{color:"#ff4446","font-size":"125%"}},Sa={class:"content"};function qa(n,y,c,A,T,N){const B=vt("c-col"),$=vt("c-row"),v=vt("c-input-number"),E=fu;return i(),x("div",oa,[t("div",aa,[h($,{flex:"",middle:"",style:{padding:"5px 15px"}},{default:I(()=>[h(B,{flex:"1 0 auto"}),h(B,{flex:"0 0 auto"},{default:I(()=>[t("button",{class:"btn",onClick:y[0]||(y[0]=m=>n.setting=!n.setting)},"\u8BBE\u7F6E")]),_:1})]),_:1}),t("div",{class:Rt(["setting",{block:n.setting}])},[h($,null,{default:I(()=>[h(B,{span:"24"},{default:I(()=>[t("table",sa,[la,t("tbody",null,[(i(!0),x(Q,null,rt(n.models,m=>(i(),x("tr",{key:m.name},[t("td",null,[t("div",ia,_(n.t[m.name]),1)]),t("td",null,[H(t("input",{type:"number",class:"input",min:"0","onUpdate:modelValue":L=>n.stateA[m.name]=L},null,8,ra),[[Et,n.stateA[m.name]]])]),t("td",null,[H(t("input",{type:"number",class:"input",min:"0","onUpdate:modelValue":L=>n.stateD[m.name]=L},null,8,da),[[Et,n.stateD[m.name]]])]),t("td",null,[H(t("input",{type:"number",class:"input",min:"0","onUpdate:modelValue":L=>n.stateN[m.name]=L},null,8,ca),[[Et,n.stateN[m.name]]])])]))),128))])])]),_:1})]),_:1})],2)]),t("div",pa,[t("form",{onChange:y[3]||(y[3]=(...m)=>n.onUpdate&&n.onUpdate(...m))},[h($,null,{default:I(()=>[h(B,{span:"18"},{default:I(()=>[t("div",ya,[_a,H(t("select",{class:"select","onUpdate:modelValue":y[1]||(y[1]=m=>n.jobType=m)},ma,512),[[ht,n.jobType]])]),t("div",ha,[Ea,H(t("select",{class:"select","onUpdate:modelValue":y[2]||(y[2]=m=>n.stoneType=m)},Fa,512),[[ht,n.stoneType]])])]),_:1}),h(B,{span:"18"},{default:I(()=>[(i(!0),x(Q,null,rt(n.names,(m,L)=>(i(),x("div",{class:"form-item",key:m},[t("div",Ca,"\u8BCD\u6761"+_("1234"[L]),1),H(t("select",{class:"select","onUpdate:modelValue":b=>n.formState[m]=b},[(i(!0),x(Q,null,rt(n.models,b=>(i(),x("option",{value:b.name,key:b.name},_(n.t[b.name]),9,wa))),128))],8,$a),[[ht,n.formState[m]]]),h(v,{class:"auto-width",value:n.formStateValue[m],"onUpdate:value":b=>n.formStateValue[m]=b,min:n.rules[n.stoneType][n.formState[m]][0],max:n.rules[n.stoneType][n.formState[m]][1]},null,8,["value","onUpdate:value","min","max"])]))),128))]),_:1})]),_:1})],32),t("div",ga,[Aa,t("span",ka,_(n.score),1)])]),t("div",Sa,[h(E)])])}const Ia=mt(na,[["render",qa],["__scopeId","data-v-f3fb6e8a"]]),hi=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Ta=Dt({components:{CDivider:xu},setup(){const n={T:"\u5929",D:"\u5730",H:"\u8352"},y=G("T"),c=G([]);function A(){c.value=[]}function T(B,$){return B+Math.floor(Math.random()*($-B+1))}function N(B){const $=[];for(let v=0;v<B;v++){const E=[],m=[...Ae];for(let L=0,b=m.length-1;L<4;L++){const o=T(0,b),a=m[o],w=ge[y.value][a.name],d=T(w[0],w[1]);E.push({type:n[y.value],name:a.name,value:d,rate:d/w[1]}),m[o]=m[b],b--}$.push(E)}$.length>0&&(c.value=$)}return{t:we,randomType:y,randomList:c,cleanRandom:A,tryRandom:N}}});const Xt=n=>(St("data-v-95209f08"),n=n(),qt(),n),Ua={class:"page-container"},Va=Xt(()=>t("span",null,"\u6A21\u62DF\u9B42\u77F3",-1)),za=Xt(()=>t("option",{value:"T"},"\u5929",-1)),Oa=Xt(()=>t("option",{value:"D"},"\u5730",-1)),Ra=Xt(()=>t("option",{value:"H"},"\u8352",-1)),Na=[za,Oa,Ra],ja={class:"random-stone-items"},Ma=Xt(()=>t("div",null,null,-1));function Ha(n,y,c,A,T,N){const B=vt("CDivider");return i(),x("div",Ua,[h(B,{orientation:"left",style:{position:"sticky",top:"40px","background-color":"#fff"}},{action:I(()=>[H(t("select",{class:"select","onUpdate:modelValue":y[0]||(y[0]=$=>n.randomType=$),style:{"margin-right":"8px"}},Na,512),[[ht,n.randomType]]),t("button",{class:"btn",onClick:y[1]||(y[1]=$=>n.tryRandom(1))},"\u6765\u4E00\u679A"),t("button",{class:"btn",onClick:y[2]||(y[2]=$=>n.tryRandom(10))},"\u6765\u5341\u679A"),t("button",{class:"btn",onClick:y[3]||(y[3]=$=>n.tryRandom(100))},"\u6765\u767E\u679A"),t("button",{class:"btn",onClick:y[4]||(y[4]=$=>n.cleanRandom())},"\u6E05\u7A7A")]),default:I(()=>[Va]),_:1}),t("div",ja,[(i(!0),x(Q,null,rt(n.randomList,($,v)=>(i(),x("div",{class:"random-stone-item",key:v},[t("div",null,_($[0].type),1),Ma,(i(!0),x(Q,null,rt($,E=>(i(),x(Q,{key:E},[t("div",{class:Rt({"random-stone-lv0":E.rate<.6,"random-stone-lv1":E.rate>=.6&&E.rate<.8,"random-stone-lv2":E.rate>=.8&&E.rate<.9,"random-stone-lv3":E.rate>=.9})},_(n.t[E.name]),3),t("div",{class:Rt({"random-stone-lv0":E.rate<.6,"random-stone-lv1":E.rate>=.6&&E.rate<.8,"random-stone-lv2":E.rate>=.8&&E.rate<.9,"random-stone-lv3":E.rate>=.9})},_(E.value)+"% ",3)],64))),128))]))),128))])])}const Ga=mt(Ta,[["render",Ha],["__scopeId","data-v-95209f08"]]),Ei=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),La=n=>(St("data-v-a7e242ca"),n=n(),qt(),n),Pa={class:"wrapper"},Ka={class:"toolbar"},Wa=La(()=>t("span",{class:"title"},"\u661F\u4E4B\u6676\u5217\u8868",-1)),Ja={class:"content"},Ya={class:"star-pos"},Xa=["onClick","onContextmenu"],Za={key:0},Qa={key:1},ts={key:2},es={key:3},us={key:4},ns={key:5},os={key:0},as={key:1},ss={key:2},ls={key:3},is={key:4},rs={key:5},ds=Dt({__name:"StarCrystals",setup(n){const y=G(!1),c=G(),A=G([{name:"\u6676\u7CB9\xB7\u9633",position:Lt.ATT},{name:"\u6676\u7CB9\xB7\u9633",position:Lt.ATT},{name:"\u6676\u7CB9\xB7\u9716",position:Lt.XUE},{name:"\u6676\u7CB9\xB7\u9716",position:Lt.XUE},{name:"\u6676\u7CB9\xB7\u8679",position:Lt.DEF},{name:"\u6676\u7CB9\xB7\u8679",position:Lt.DEF}]),T=v=>{c.value=v,y.value=!0},N=v=>{v.value=void 0,y.value=!0},B=v=>{!c.value||(c.value.value=v)},$=ue(()=>{const v=[0,0,0,0,0,0];return A.value.forEach(E=>{!E.value||(v[0]+=E.value.qixue,v[1]+=E.value.patt,v[2]+=E.value.pdef,v[3]+=E.value.matt,v[4]+=E.value.mdef,v[5]+=E.value.huixin)}),v});return(v,E)=>{const m=vt("c-col"),L=vt("c-row");return i(),x("div",Pa,[t("div",Ka,[h(L,{flex:"",middle:"",style:{padding:"4px 16px"}},{default:I(()=>[h(m,{flex:"1 1 0"},{default:I(()=>[Wa]),_:1})]),_:1})]),t("div",Ja,[t("div",Ya,[(i(!0),x(Q,null,rt(A.value,(b,o)=>(i(),x("div",{key:o,class:Rt(["star-pos-item",{active:b===c.value}]),onClick:a=>T(b),onContextmenu:Kt(a=>N(b),["prevent"])},[t("div",null,_(b.name),1),b.value?(i(),x(Q,{key:0},[b.value.patt?(i(),x("div",Za,"\u7269\u653B +"+_(b.value.patt),1)):Z("",!0),b.value.matt?(i(),x("div",Qa,"\u6CD5\u653B +"+_(b.value.matt),1)):Z("",!0),b.value.huixin?(i(),x("div",ts,"\u4F1A\u5FC3 +"+_(b.value.huixin),1)):Z("",!0),b.value.qixue?(i(),x("div",es,"\u6C14\u8840 +"+_(b.value.qixue),1)):Z("",!0),b.value.pdef?(i(),x("div",us,"\u7269\u9632 +"+_(b.value.pdef),1)):Z("",!0),b.value.mdef?(i(),x("div",ns,"\u6CD5\u9632 +"+_(b.value.mdef),1)):Z("",!0)],64)):Z("",!0)],42,Xa))),128))]),(i(!0),x(Q,null,rt([$.value],(b,o)=>(i(),x("div",{class:"sum-result props",key:o},[b[0]?(i(),x("span",os,"\u6C14\u8840 +"+_(b[0]),1)):Z("",!0),b[1]?(i(),x("span",as,"\u7269\u653B +"+_(b[1]),1)):Z("",!0),b[2]?(i(),x("span",ss,"\u7269\u9632 +"+_(b[2]),1)):Z("",!0),b[3]?(i(),x("span",ls,"\u6CD5\u653B +"+_(b[3]),1)):Z("",!0),b[4]?(i(),x("span",is,"\u6CD5\u9632 +"+_(b[4]),1)):Z("",!0),b[5]?(i(),x("span",rs,"\u4F1A\u5FC3 +"+_(b[5]),1)):Z("",!0)]))),128)),c.value?(i(),zt(s(vu),{key:0,show:y.value,"onUpdate:show":E[0]||(E[0]=b=>y.value=b),position:c.value.position,onSelect:B},null,8,["show","position"])):Z("",!0)])])}}});const cs=mt(ds,[["__scopeId","data-v-a7e242ca"]]),bi=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"})),ps=[{name:"\u7A7A\u767D\u573A\u666F",width:15,height:15,data:[]},{name:"\u5316\u8352\u5E7B\u5883",width:17,height:11,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:2,y:0,type:1},{x:14,y:0,type:1},{x:15,y:0,type:1},{x:16,y:0,type:1},{x:0,y:1,type:1},{x:1,y:1,type:1},{x:15,y:1,type:1},{x:16,y:1,type:1},{x:0,y:2,type:1},{x:7,y:2,type:6},{x:8,y:2,type:6},{x:9,y:2,type:6},{x:16,y:2,type:1},{x:6,y:3,type:6},{x:7,y:3,type:6},{x:8,y:3,type:6},{x:9,y:3,type:6},{x:10,y:3,type:6},{x:5,y:4,type:6},{x:6,y:4,type:6},{x:10,y:4,type:6},{x:11,y:4,type:6},{x:5,y:6,type:6},{x:6,y:6,type:6},{x:10,y:6,type:6},{x:11,y:6,type:6},{x:6,y:7,type:6},{x:7,y:7,type:6},{x:8,y:7,type:6},{x:9,y:7,type:6},{x:10,y:7,type:6},{x:0,y:8,type:1},{x:7,y:8,type:6},{x:8,y:8,type:6},{x:9,y:8,type:6},{x:16,y:8,type:1},{x:0,y:9,type:1},{x:1,y:9,type:1},{x:15,y:9,type:1},{x:16,y:9,type:1},{x:0,y:10,type:1},{x:1,y:10,type:1},{x:2,y:10,type:1},{x:14,y:10,type:1},{x:15,y:10,type:1},{x:16,y:10,type:1}]},{name:"\u96EA\u5CAD\u5E7B\u5883",width:15,height:11,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:2,y:0,type:1},{x:5,y:0,type:6},{x:6,y:0,type:6},{x:7,y:0,type:6},{x:8,y:0,type:6},{x:9,y:0,type:6},{x:12,y:0,type:1},{x:13,y:0,type:1},{x:14,y:0,type:1},{x:0,y:1,type:1},{x:1,y:1,type:1},{x:2,y:1,type:1},{x:3,y:1,type:6},{x:4,y:1,type:6},{x:5,y:1,type:6},{x:6,y:1,type:6},{x:7,y:1,type:6},{x:8,y:1,type:6},{x:9,y:1,type:6},{x:10,y:1,type:6},{x:11,y:1,type:6},{x:12,y:1,type:1},{x:13,y:1,type:1},{x:14,y:1,type:1},{x:0,y:2,type:1},{x:1,y:2,type:1},{x:2,y:2,type:1},{x:3,y:2,type:6},{x:11,y:2,type:6},{x:12,y:2,type:1},{x:13,y:2,type:1},{x:14,y:2,type:1},{x:6,y:4,type:6},{x:7,y:4,type:6},{x:8,y:4,type:6},{x:3,y:5,type:6},{x:11,y:5,type:6},{x:6,y:6,type:6},{x:7,y:6,type:6},{x:8,y:6,type:6},{x:0,y:8,type:1},{x:1,y:8,type:1},{x:2,y:8,type:1},{x:3,y:8,type:6},{x:11,y:8,type:6},{x:12,y:8,type:1},{x:13,y:8,type:1},{x:14,y:8,type:1},{x:0,y:9,type:1},{x:1,y:9,type:1},{x:2,y:9,type:1},{x:3,y:9,type:6},{x:4,y:9,type:6},{x:5,y:9,type:6},{x:6,y:9,type:6},{x:7,y:9,type:6},{x:8,y:9,type:6},{x:9,y:9,type:6},{x:10,y:9,type:6},{x:11,y:9,type:6},{x:12,y:9,type:1},{x:13,y:9,type:1},{x:14,y:9,type:1},{x:0,y:10,type:1},{x:1,y:10,type:1},{x:2,y:10,type:1},{x:5,y:10,type:6},{x:6,y:10,type:6},{x:7,y:10,type:6},{x:8,y:10,type:6},{x:9,y:10,type:6},{x:12,y:10,type:1},{x:13,y:10,type:1},{x:14,y:10,type:1}]},{name:"\u5730\u754C\u5E7B\u5883",width:17,height:13,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:2,y:0,type:1},{x:5,y:0,type:6},{x:6,y:0,type:6},{x:7,y:0,type:6},{x:8,y:0,type:6},{x:9,y:0,type:6},{x:10,y:0,type:6},{x:11,y:0,type:6},{x:14,y:0,type:1},{x:15,y:0,type:1},{x:16,y:0,type:1},{x:0,y:1,type:1},{x:1,y:1,type:1},{x:2,y:1,type:1},{x:6,y:1,type:6},{x:10,y:1,type:6},{x:14,y:1,type:1},{x:15,y:1,type:1},{x:16,y:1,type:1},{x:0,y:2,type:1},{x:1,y:2,type:1},{x:6,y:2,type:6},{x:10,y:2,type:6},{x:15,y:2,type:1},{x:16,y:2,type:1},{x:0,y:3,type:1},{x:1,y:3,type:1},{x:6,y:3,type:6},{x:7,y:3,type:6},{x:8,y:3,type:6},{x:9,y:3,type:6},{x:10,y:3,type:6},{x:15,y:3,type:1},{x:16,y:3,type:1},{x:7,y:4,type:6},{x:8,y:4,type:6},{x:9,y:4,type:6},{x:7,y:8,type:6},{x:8,y:8,type:6},{x:9,y:8,type:6},{x:0,y:9,type:1},{x:1,y:9,type:1},{x:6,y:9,type:6},{x:7,y:9,type:6},{x:8,y:9,type:6},{x:9,y:9,type:6},{x:10,y:9,type:6},{x:15,y:9,type:1},{x:16,y:9,type:1},{x:0,y:10,type:1},{x:1,y:10,type:1},{x:6,y:10,type:6},{x:10,y:10,type:6},{x:15,y:10,type:1},{x:16,y:10,type:1},{x:0,y:11,type:1},{x:1,y:11,type:1},{x:2,y:11,type:1},{x:6,y:11,type:6},{x:10,y:11,type:6},{x:14,y:11,type:1},{x:15,y:11,type:1},{x:16,y:11,type:1},{x:0,y:12,type:1},{x:1,y:12,type:1},{x:2,y:12,type:1},{x:5,y:12,type:6},{x:6,y:12,type:6},{x:7,y:12,type:6},{x:8,y:12,type:6},{x:9,y:12,type:6},{x:10,y:12,type:6},{x:11,y:12,type:6},{x:14,y:12,type:1},{x:15,y:12,type:1},{x:16,y:12,type:1}]},{name:"\u7ED3\u754C\u5E7B\u5883",width:11,height:11,data:[{x:5,y:8,type:1},{x:2,y:5,type:1},{x:5,y:5,type:1},{x:8,y:5,type:1},{x:5,y:2,type:1}]},{name:"\u57CE\u9685\u5E7B\u5883",width:15,height:11,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:2,y:0,type:1},{x:5,y:0,type:1},{x:6,y:0,type:1},{x:7,y:0,type:1},{x:8,y:0,type:1},{x:9,y:0,type:1},{x:12,y:0,type:1},{x:13,y:0,type:1},{x:14,y:0,type:1},{x:0,y:1,type:1},{x:1,y:1,type:1},{x:6,y:1,type:1},{x:8,y:1,type:1},{x:13,y:1,type:1},{x:14,y:1,type:1},{x:0,y:2,type:1},{x:14,y:2,type:1},{x:4,y:4,type:5},{x:5,y:5,type:5},{x:9,y:5,type:5},{x:10,y:6,type:5},{x:0,y:8,type:1},{x:14,y:8,type:1},{x:0,y:9,type:1},{x:1,y:9,type:1},{x:6,y:9,type:1},{x:8,y:9,type:1},{x:13,y:9,type:1},{x:14,y:9,type:1},{x:0,y:10,type:1},{x:1,y:10,type:1},{x:2,y:10,type:1},{x:5,y:10,type:1},{x:6,y:10,type:1},{x:7,y:10,type:1},{x:8,y:10,type:1},{x:9,y:10,type:1},{x:12,y:10,type:1},{x:13,y:10,type:1},{x:14,y:10,type:1}]},{name:"\u5E7D\u7A74\u5E7B\u5883",width:11,height:11,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:0,y:1,type:1},{x:0,y:2,type:1},{x:3,y:2,type:6},{x:4,y:2,type:6},{x:2,y:3,type:6},{x:3,y:3,type:6},{x:4,y:3,type:6},{x:6,y:7,type:6},{x:7,y:7,type:6},{x:8,y:7,type:6},{x:6,y:8,type:6},{x:7,y:8,type:6},{x:10,y:8,type:1},{x:10,y:9,type:1},{x:9,y:10,type:1},{x:10,y:10,type:1}]},{name:"\u5996\u5C71\u5E7B\u5883",width:17,height:11,data:[]},{name:"\u8D64\u7802\u5E7B\u5883",width:15,height:7,data:[{x:0,y:0,type:1},{x:1,y:0,type:1},{x:2,y:0,type:1},{x:6,y:0,type:1},{x:7,y:0,type:1},{x:8,y:0,type:1},{x:12,y:0,type:1},{x:13,y:0,type:1},{x:14,y:0,type:1},{x:0,y:1,type:1},{x:1,y:1,type:1},{x:2,y:1,type:1},{x:12,y:1,type:1},{x:13,y:1,type:1},{x:14,y:1,type:1},{x:0,y:5,type:1},{x:1,y:5,type:1},{x:2,y:5,type:1},{x:12,y:5,type:1},{x:13,y:5,type:1},{x:14,y:5,type:1},{x:0,y:6,type:1},{x:1,y:6,type:1},{x:2,y:6,type:1},{x:6,y:6,type:1},{x:7,y:6,type:1},{x:8,y:6,type:1},{x:12,y:6,type:1},{x:13,y:6,type:1},{x:14,y:6,type:1}]}],R=n=>(St("data-v-ec4dec7c"),n=n(),qt(),n),ys={class:"wrapper"},_s={class:"toolbar"},fs={class:"setting"},xs={class:"label-control"},vs=R(()=>t("span",null,"\u7F16\u8F91\u6A21\u5F0F",-1)),ms={class:"label-control"},hs=R(()=>t("span",null,"\u8303\u56F4",-1)),Es={class:"label-control"},bs=R(()=>t("span",null,"\u5F62\u72B6",-1)),Ds=R(()=>t("option",{value:1},"\u83F1\u5F62",-1)),Bs=R(()=>t("option",{value:2},"\u5708\u6570",-1)),Fs=[Ds,Bs],Cs={class:"label-control"},$s=R(()=>t("span",null,"\u6392\u5E8F",-1)),ws=R(()=>t("option",{value:1},"\u8DDD\u79BBX",-1)),gs=R(()=>t("option",{value:2},"\u8DDD\u79BBY",-1)),As=R(()=>t("option",{value:3},"X\u4F18\u5148",-1)),ks=R(()=>t("option",{value:4},"Y\u4F18\u5148",-1)),Ss=[ws,gs,As,ks],qs=R(()=>t("button",{class:"btn"},"\u9884\u8BBE\u573A\u666F",-1)),Is={class:"list"},Ts=["onClick"],Us=R(()=>t("div",{style:{flex:"1 1 0"}},null,-1)),Vs=R(()=>t("article",null,[t("h2",null,"\u8BF4\u660E"),t("p",null,"\u70B9\u51FB\u9884\u8BBE\u573A\u666F\uFF0C\u53EF\u4EE5\u8F7D\u5165\u4E00\u4E9B\u9884\u8BBE\u7684\u573A\u666F\u3002"),t("p",null,"\u53F3\u4FA7\u5355\u4F4D\u53EF\u901A\u8FC7\u62D6\u66F3\u62C9\u5165\u7F51\u683C\u3002"),t("p",null,[ot(" \u9009\u4E2D\u7F51\u683C\u4E2D\u7684\u5355\u4F4D\u53EF\u4EE5\u4F7F\u7528\u201C\u602A\u529B\u4E71\u795E\u201D\u3001\u201C\u5F00\u8F66\u201D\u529F\u80FD\u3002"),t("br"),ot(" \u201C\u602A\u529B\u4E71\u795E\u201D\u529F\u80FD\u53EA\u4F1A\u4F5C\u7528\u4E8E\u975E\u540C\u961F\u5355\u4F4D\u3002"),t("br"),ot(" \u201C\u5F00\u8F66\u201D\u529F\u80FD\u53EA\u4F1A\u4F5C\u7528\u4E8E\u540C\u961F\u5355\u4F4D\u3002"),t("br"),ot(" \u4F7F\u7528\u529F\u80FD\u524D\uFF0C\u4F60\u53EF\u4EE5\u4FDD\u5B58\u5F53\u524D\u5E03\u5C40\uFF0C\u65B9\u4FBF\u9884\u89C8\u7ED3\u679C\u540E\u5FEB\u901F\u8FD8\u539F\u5E03\u5C40\u3002 ")])],-1)),zs={class:"color-container"},Os={class:"label-control"},Rs=R(()=>t("span",null,"\u9884\u89C8",-1)),Ns={class:"label-control"},js=R(()=>t("span",null,"\u6587\u5B57",-1)),Ms={class:"label-control"},Hs=R(()=>t("span",null,"\u80CC\u666F",-1)),Gs=R(()=>t("label",{class:"label-control"},[t("span",null,"\u9884\u8BBE")],-1)),Ls={class:"color-tpls"},Ps={width:"32",height:"32",viewBox:"0 0 24 24",fill:"#a9a9a9",style:{"pointer-events":"none"}},Ks=R(()=>t("path",{d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"},null,-1)),Ws=[Ks],Js={class:"props-container"},Ys={key:0,class:"props-content"},Xs={class:"label-control"},Zs=R(()=>t("span",null,"\u9884\u89C8",-1)),Qs={class:"label-control"},tl=R(()=>t("span",null,"\u6587\u5B57",-1)),el={class:"label-control"},ul=R(()=>t("span",null,"\u80CC\u666F",-1)),nl={class:"label-control"},ol=R(()=>t("span",null,"\u5927\u5C0F",-1)),al={class:"label-control"},sl=R(()=>t("span",null,"\u5185\u5BB9",-1)),ll={class:"label-control"},il=R(()=>t("span",null,"\u5730\u5F62",-1)),rl=["value"],dl=["value"],cl=["value"],pl=["value"],yl={class:"label-control"},_l=R(()=>t("span",null,"Id",-1)),fl={class:"label-control"},xl=R(()=>t("span",null,"\u7C7B\u578B",-1)),vl=["value"],ml=["value"],hl=["value"],El=["value"],bl={class:"label-control"},Dl=R(()=>t("span",null,"\u98DE\u884C",-1)),Bl={class:"controls"},Fl={key:0,class:"label-control"},Cl=R(()=>t("span",null,"\u5355\u4F4DID",-1)),$l=["value"],wl={key:1,class:"label-control"},gl=R(()=>t("span",null,"\u961F\u4F0D",-1)),Al=R(()=>t("option",{value:void 0},"\u961F\u4F0D\u7A7A",-1)),kl=R(()=>t("option",{value:0},"\u961F\u4F0D0",-1)),Sl=R(()=>t("option",{value:1},"\u961F\u4F0D1",-1)),ql=R(()=>t("option",{value:2},"\u961F\u4F0D2",-1)),Il=[Al,kl,Sl,ql],Tl={class:"content"},Ul={class:"grids"},Vl={class:"panel-right"},zl={class:"controls"},Ol={class:"label-control"},Rl=R(()=>t("span",null,"\u961F\u4F0D",-1)),Nl=R(()=>t("option",{value:0},"\u961F\u4F0D0",-1)),jl=R(()=>t("option",{value:1},"\u961F\u4F0D1",-1)),Ml=R(()=>t("option",{value:2},"\u961F\u4F0D2",-1)),Hl=[Nl,jl,Ml],Gl={class:"heroes"},Ll=Dt({__name:"Grids",setup(n){const{rows:y,cols:c,actorId:A,grids:T,selects:N,gridColors:B,defGridUnit:$,defGridState:v,defGrid:E,cleanGrid:m,cleanGrids:L,setSize:b,getGrid:o,gridForEach:a}=mu(),w=G(),d=pt({editor:1,selectRange:5,shape:1,sortType:1,color:B[0].color,bgcolor:B[0].bgcolor,terrain:void 0}),J=E();J.terrain={image:xe,type:X.DISABLED};const lt=E();lt.terrain={image:ve,type:X.CLIFF};const tt=E();tt.terrain={image:me,type:X.BLOCKED};function st(u){d.color=u.color,d.bgcolor=u.bgcolor,d.terrain=void 0}function it(u){d.color="",d.bgcolor="",d.terrain=u.terrain}const{heroes:et}=hu(),Bt=ye(E($())),Ft=ye(et.value.map(u=>{const e=E(),l=$();return l.unitId=u.id,l.image=`https://media.zlongame.com/media/news/cn/tdj/info/data/heroicon/${u.hero_icon}.png`,l.name=u.name,e.unit=l,e}));Ge(et,()=>{Ft.value=et.value.map(u=>{const e=E(),l=$();return l.image=`https://media.zlongame.com/media/news/cn/tdj/info/data/heroicon/${u.hero_icon}.png`,e.unit=l,e})});function Tt(u,e,l,M){const U=[];return a(P=>{P.state=v()}),a(P=>{const g=Math.abs(u-P.x),j=Math.abs(e-P.y),D=g+j,bt=Math.max(g,j),F=g>1?g-1:g+j>1?j-1:j;switch(M){case 1:D<=l&&(P.state.d=D,P.state.q=bt,P.state.d1=F,U.push(P));break;case 2:Math.abs(g)<=l&&Math.abs(j)<=l&&(P.state.d=D,P.state.q=bt,P.state.d1=F,U.push(P));break}}),U}function Ct(u,e,l,M,U,P,g){const j=Tt(u,e,l,M);switch(j.forEach(D=>{D.data.color=P,D.data.bgcolor=g}),N.value=j,U){case 1:N.value.sort(V);break;case 2:N.value.sort(p);break;case 3:N.value.sort(O);break;case 4:N.value.sort(ut);break}for(let D=0;D<N.value.length;D++){const bt=N.value[D];bt.data.txt=String(D+1)}}function V(u,e){return u.state.q!==e.state.q?u.state.q-e.state.q:u.state.d!==e.state.d?u.state.d-e.state.d:u.x!==e.x?u.x-e.x:u.y!==e.y?u.y-e.y:0}function p(u,e){return u.state.q!==e.state.q?u.state.q-e.state.q:u.state.d!==e.state.d?u.state.d-e.state.d:u.y!==e.y?u.y-e.y:u.x!==e.x?u.x-e.x:0}function O(u,e){return u.x!==e.x?u.x-e.x:u.y!==e.y?u.y-e.y:0}function ut(u,e){return u.y!==e.y?u.y-e.y:u.x!==e.x?u.x-e.x:0}const f=pt({enabled:!1});function k(){L()}function Ot(){f.enabled=!1}function yt(u,e){var l;switch(d.editor){case 1:case 4:f.current=e,(l=w.value)==null||l.focus();break;case 3:L(),Ct(e.x,e.y,d.selectRange,d.shape,d.sortType,d.color,d.bgcolor);break}}function q(u,e){if(u.button===0)switch(d.editor){case 2:{f.enabled=!0,e.data.color=d.color,e.data.bgcolor=d.bgcolor,d.terrain?(e.terrain.type=d.terrain.type,e.terrain.image=d.terrain.image):(e.terrain.type=X.NONE,e.terrain.image="");break}}}function r(u,e){u.button===0&&f.enabled&&(e.data.color=d.color,e.data.bgcolor=d.bgcolor,d.terrain?(e.terrain.type=d.terrain.type,e.terrain.image=d.terrain.image):(e.terrain.type=X.NONE,e.terrain.image=""))}function z(){f.current=void 0}const nt=G({width:15,height:15});function _t(){try{const u=localStorage.getItem("grids");if(!u)return;const e=JSON.parse(u);nt.value=e}catch{}}function $t(){if(!confirm("\u786E\u5B9A\u8981\u4FDD\u5B58\u5417\uFF1F"))return;let e=T.value.flat().filter(l=>l.terrain.type!==X.NONE||l.unit&&l.unit.actorId>0);e=Pt.cloneDeep(e),nt.value={width:c.value,height:y.value,data:e},localStorage.setItem("grids",JSON.stringify(nt.value))}function jt(){const u=nt.value;if(!!u.data){b(u.width,u.height);for(const e of u.data){const l=o(e.x,e.y);!l||(e.data&&(l.data=e.data),e.terrain&&(l.terrain=e.terrain),e.unit&&e.unit.actorId>0&&(l.unit=e.unit))}}}const S=G(!1);function Ht(u){b(u.width,u.height),u.data.forEach(e=>{const l=o(e.x,e.y);if(!!l)switch(e.type){case X.DISABLED:l.terrain={image:xe,type:X.DISABLED};break;case X.CLIFF:l.terrain={image:ve,type:X.CLIFF};break;case X.BLOCKED:l.terrain={image:me,type:X.BLOCKED};break}}),S.value=!1}function dt(){var j;const u=f.current;if(!u)return;nt.value||$t();const e=(j=u.unit)==null?void 0:j.team;let l,M,U=[];for(l=u.x-2;l<=u.x+2;l++)for(M=u.y-2;M<=u.y+2;M++){const D=o(l,M);!D||D.terrain.type!==X.DISABLED&&(D.x===u.x&&D.y===u.y?(U[0]&&U.push(U[0]),U[0]=D):U.push(D))}U=U.filter(D=>D.unit&&D.unit.team!==e&&!(D.x===u.x&&D.y===u.y));const P=U.map(D=>({data:D.data,unit:D.unit}));U.forEach(D=>{m(D)});const g=Tt(u.x,u.y,4,2).filter(D=>D.terrain.type!==X.BLOCKED&&!(D.x===u.x&&D.y===u.y)).sort(p).map(D=>[D.x,D.y]);for(const D of P)for(const[bt,F]of g){const C=o(bt,F);if(!!C&&!(C.unit&&C.unit.actorId>0)&&C.terrain.type!==X.DISABLED&&C.terrain.type!==X.BLOCKED&&!(C.terrain.type===X.CLIFF&&!D.unit.fly)){C.data=D.data,C.unit=D.unit;break}}}let ft;function ke(){const u=f.current;if(!u)return;const e=[{x:0,y:1,overlay:At.ARROW_UP},{x:1,y:0,overlay:At.ARROW_RIGHT},{x:0,y:-1,overlay:At.ARROW_DOWN},{x:-1,y:0,overlay:At.ARROW_LEFT}];for(const l of e){const M=o(u.x+l.x,u.y+l.y);if(!!M){M.overlay=l.overlay;for(let U=2;U<=4;U++){const P=o(u.x+l.x*U,u.y+l.y*U);!P||(P.overlay=At.HIGHLIGHT)}}}ft=u}function Se(u){var F;if(!ft||!u||u===At.HIGHLIGHT)return;const e=(F=ft.unit)==null?void 0:F.team;let l,M,U=[];for(l=ft.x-1;l<=ft.x+1;l++)for(M=ft.y-1;M<=ft.y+1;M++){if(l===ft.x&&M===ft.y)continue;const C=o(l,M);!C||!C.unit||C.unit.team===e&&(C.state.d=se(ft,C),U.push(C))}U.sort((C,K)=>!C.unit||!K.unit?0:C.state.d!==K.state.d?C.state.d-K.state.d:C.unit.actorId-K.unit.actorId),U=U.slice(0,2);const P=U.map(C=>({data:C.data,unit:C.unit}));U.forEach(C=>{C.unit=void 0}),console.log(P);const j={[At.ARROW_UP]:{x:0,y:1},[At.ARROW_RIGHT]:{x:1,y:0},[At.ARROW_DOWN]:{x:0,y:-1},[At.ARROW_LEFT]:{x:-1,y:0}}[u];let D;for(let C=1;C<=4;C++){const K=o(ft.x+C*j.x,ft.y+C*j.y);K&&K.terrain.type===X.NONE&&(D=K)}if(!D)return;a(C=>{C.overlay=void 0});const bt=Tt(D.x,D.y,4,2).filter(C=>C.terrain.type!==X.BLOCKED&&!(C.x===(D==null?void 0:D.x)&&C.y===(D==null?void 0:D.y))).sort(p).map(C=>[C.x,C.y]);for(const C of P)for(const[K,at]of bt){const xt=o(K,at);if(!!xt&&!(xt.unit&&xt.unit.actorId>0)&&xt.terrain.type!==X.DISABLED&&xt.terrain.type!==X.BLOCKED&&!(xt.terrain.type===X.CLIFF&&!C.unit.fly)){xt.data=C.data,xt.unit=C.unit;break}}D&&(ce(D,ft),f.current=D)}const Y=pt({team:1}),re=["#ffffff00","#FF3C4132","#0EBEFF32","#48CF7432","#FCD00032","#80008032"],qe=(u,e)=>{switch(d.editor){case 2:u.preventDefault();break;default:Y.grid=e,Y.action="swap",u.dataTransfer&&(u.dataTransfer.effectAllowed="move")}},Ie=(u,e)=>{const l=E();l.data.color=e.color,l.data.bgcolor=e.bgcolor,l.data.txt="E",Y.grid=l,Y.action="color"},ae=(u,e)=>{Y.grid=Pt.cloneDeep(e),Y.action="terrain"},de=(u,e)=>{Y.grid=Pt.cloneDeep(e),Y.action="unit"},Te=(u,e)=>{if(u.preventDefault(),!Y.grid)return;const l=Y.grid.unit,M=Y.grid.terrain;switch(Y.action){case"color":e.unit||(e.unit=$()),e.unit.actorId||(e.unit.actorId=++A.value),e.data=Y.grid.data;break;case"unit":if(e.unit||(e.unit=$()),e.unit.actorId||(e.unit.actorId=++A.value),!l)break;e.unit.image=l.image,e.unit.unitId=l.unitId,e.unit.team=Y.team;break;case"swap":ce(Y.grid,e,!l||l.actorId===0);break;case"terrain":e.terrain=M;break}Y.grid=void 0,Y.action=void 0,f.current&&(f.current=e),d.editor===4&&Wt()};function Ue(u,e){let l=u[0].state[e];for(let M=1;M<u.length;M++)u[M].state[e]<l&&(l=u[M].state[e]);return l}function se(u,e){return Math.abs(u.x-e.x)+Math.abs(u.y-e.y)}function ce(u,e,l){const M=u.data,U=u.unit,P=u.terrain;u.data=e.data,u.unit=e.unit,e.data=M,e.unit=U,l&&(u.terrain=e.terrain,e.terrain=P)}function pe(u,e,l){u.sort((g,j)=>!g.unit||!j.unit?0:+g.unit.actorId-+j.unit.actorId),u.forEach(g=>{g.state.d1=se(g,l),g.state.d2=se(g,e),g.unit&&(g.unit.guard=!1)});const M=Ue(u,"d1");if(u=u.filter(g=>g.state.d1===M),u.length===1)return u[0];let U=u[0],P=u.length;for(;P--;)if(u[P].state.d2<U.state.d2){U=u[P];break}return U}function Ve(){b(15,15),A.value=0;const u=[{x:7,y:9,txt:"",type:ct.GUARD,bg:"#0ebeff"},{x:9,y:7,txt:"",type:ct.GUARD,bg:"#0ebeff"},{x:7,y:5,txt:"",type:ct.GUARD,bg:"#0ebeff"},{x:5,y:7,txt:"",type:ct.GUARD,bg:"#0ebeff"},{x:8,y:6,txt:"",type:ct.ATTACKER,bg:"#ff3c41"},{x:7,y:7,txt:"",type:ct.SHEEP,bg:"#fcd000"}];for(const e of u){const l=o(e.x,e.y);!l||(l.unit||(l.unit=$()),l.unit.actorId=++A.value,l.unit.actorType=e.type,l.disabled=!1,l.data.txt=e.txt,l.data.bgcolor=e.bg)}d.editor=4}const Wt=()=>{const u=T.value.flat();u.forEach(g=>{g.data.opacity=1});const e=u.filter(g=>g.unit&&!g.disabled),l=e.filter(g=>{var j;return((j=g.unit)==null?void 0:j.actorType)===ct.ATTACKER})[0],M=e.filter(g=>{var j;return((j=g.unit)==null?void 0:j.actorType)===ct.SHEEP})[0],U=e.filter(g=>{var j;return((j=g.unit)==null?void 0:j.actorType)===ct.GUARD});if(!M||U.length===0){alert("\u7F3A\u5C11\u89D2\u8272\uFF0C\u5C06\u81EA\u52A8\u751F\u6210"),Ve(),Wt();return}const P=u.filter(g=>!g.unit);for(const g of P){const j=pe(U,g,M);!j.unit||(g.data.image=j.unit.image,g.data.bgcolor=re[j.unit.actorId]||re[0],j.data.image?g.data.sup="":g.data.sup=String(j.unit.actorId),g.data.opacity=.6)}if(l){const g=pe(U,l,M);g.unit&&(g.unit.guard=!0)}},ze=u=>{if(!!u.unit&&d.editor===4){switch(u.unit.actorType){case ct.GUARD:u.disabled=!u.disabled;break}Wt()}},Oe=u=>{var e;!Y.grid||!u.dataTransfer||Y.action==="swap"&&(d.editor===4&&((e=Y.grid.unit)==null?void 0:e.actorType)===ct.SHEEP||u.preventDefault())},Re=u=>{if(!!Y.grid&&!!u)switch(Y.action){case"swap":m(u),Y.grid=void 0,Y.action=void 0,d.editor===4&&Wt()}},le=G(!1);function Ne(){le.value=!0}return Ee(()=>{_t(),window.addEventListener("mouseup",Ot,!1)}),Le(()=>{window.removeEventListener("mouseup",Ot,!1)}),(u,e)=>{var g,j,D,bt;const l=Eu,M=bu,U=vt("c-space"),P=be("autofocus");return i(),x("div",ys,[t("div",_s,[t("div",fs,[t("label",xs,[vs,h(M,{placeholder:"\u9009\u62E9",modelValue:d.editor,"onUpdate:modelValue":e[0]||(e[0]=F=>d.editor=F)},{default:I(()=>[h(l,{value:1},{default:I(()=>[ot("\u7F16\u8F91\u7F51\u683C")]),_:1}),h(l,{value:2},{default:I(()=>[ot("\u5237\u5B50\u6A21\u5F0F")]),_:1}),h(l,{value:3},{default:I(()=>[ot("\u9009\u62E9\u5F62\u72B6")]),_:1}),h(l,{value:4},{default:I(()=>[ot("\u62A4\u536B\u8BA1\u7B97")]),_:1})]),_:1},8,["modelValue"])]),t("label",ms,[hs,H(t("input",{type:"number",min:"0","onUpdate:modelValue":e[1]||(e[1]=F=>d.selectRange=F),style:{width:"5em"}},null,512),[[Et,d.selectRange]])]),t("label",Es,[bs,H(t("select",{"onUpdate:modelValue":e[2]||(e[2]=F=>d.shape=F)},Fs,512),[[ht,d.shape]])]),t("label",Cs,[$s,H(t("select",{"onUpdate:modelValue":e[3]||(e[3]=F=>d.sortType=F)},Ss,512),[[ht,d.sortType]])]),t("button",{class:"btn",onClick:k},"\u6E05\u7A7A"),t("button",{class:"btn",onClick:Wt},"\u8BA1\u7B97\u62A4\u536B"),t("button",{class:"btn btn-success",onClick:$t},"\u4FDD\u5B58\u5E03\u5C40"),t("button",{class:"btn btn-success",onClick:jt},"\u8FD8\u539F\u5E03\u5C40"),Z("",!0),h(s(Du),{modelValue:S.value,"onUpdate:modelValue":e[4]||(e[4]=F=>S.value=F)},{popover:I(()=>[t("div",Is,[(i(!0),x(Q,null,rt(s(ps),(F,C)=>(i(),x("div",{class:"list-item",key:C,onClick:K=>Ht(F)},_(F.name),9,Ts))),128))])]),default:I(()=>[qs]),_:1},8,["modelValue"]),Us,t("div",{class:"btn btn-link",onClick:Ne},"\u5E2E\u52A9"),h(s(Bu),{show:le.value,"onUpdate:show":e[5]||(e[5]=F=>le.value=F),width:"600px"},{default:I(()=>[Vs]),_:1},8,["show"])]),t("div",zs,[h(U,null,{default:I(()=>{var F,C,K;return[t("label",Os,[Rs,h(s(Ut),{draggable:!1,data:{txt:"E",size:14,opacity:1,color:d.color,bgcolor:d.bgcolor},terrain:d.terrain},null,8,["data","terrain"])]),t("label",Ns,[js,h(s(Qt),{modelValue:d.color,"onUpdate:modelValue":e[6]||(e[6]=at=>d.color=at)},null,8,["modelValue"])]),t("label",Ms,[Hs,h(s(Qt),{modelValue:d.bgcolor,"onUpdate:modelValue":e[7]||(e[7]=at=>d.bgcolor=at)},null,8,["modelValue"])]),Gs,t("div",Ls,[(i(!0),x(Q,null,rt(s(B),(at,xt)=>(i(),zt(s(Ut),{key:xt,selected:d.bgcolor===at.bgcolor,style:_e([`--color:${at.color};--bgcolor:${at.bgcolor}`]),onClick:Jt=>st(at),onDragstart:Jt=>Ie(Jt,at)},{default:I(()=>[ot(" E ")]),_:2},1032,["selected","style","onClick","onDragstart"]))),128)),h(s(Ut),{selected:((F=d.terrain)==null?void 0:F.type)===s(J).terrain.type,terrain:s(J).terrain,onClick:e[8]||(e[8]=at=>it(s(J))),onDragstart:e[9]||(e[9]=at=>ae(at,s(J)))},null,8,["selected","terrain"]),h(s(Ut),{selected:((C=d.terrain)==null?void 0:C.type)===s(lt).terrain.type,terrain:s(lt).terrain,onClick:e[10]||(e[10]=at=>it(s(lt))),onDragstart:e[11]||(e[11]=at=>ae(at,s(lt)))},null,8,["selected","terrain"]),h(s(Ut),{selected:((K=d.terrain)==null?void 0:K.type)===s(tt).terrain.type,terrain:s(tt).terrain,onClick:e[12]||(e[12]=at=>it(s(tt))),onDragstart:e[13]||(e[13]=at=>ae(at,s(tt)))},null,8,["selected","terrain"])]),t("div",{class:"trush",onDragover:Oe,onDrop:e[14]||(e[14]=at=>Re(Y.grid))},[(i(),x("svg",Ps,Ws))],32)]}),_:1})]),t("div",Js,[f.current?(i(),x("div",Ys,[h(U,null,{default:I(()=>[t("label",Xs,[Zs,h(s(Ut),{draggable:!1,style:_e([`--color:${f.current.data.color};--bgcolor:${f.current.data.bgcolor}`]),data:f.current.data,terrain:f.current.terrain,overlay:f.current.overlay,unit:f.current.unit},null,8,["style","data","terrain","overlay","unit"])]),t("label",Qs,[tl,h(s(Qt),{modelValue:f.current.data.color,"onUpdate:modelValue":e[15]||(e[15]=F=>f.current.data.color=F)},null,8,["modelValue"])]),t("label",el,[ul,h(s(Qt),{modelValue:f.current.data.bgcolor,"onUpdate:modelValue":e[16]||(e[16]=F=>f.current.data.bgcolor=F)},null,8,["modelValue"])]),t("label",nl,[ol,H(t("input",{type:"number",style:{width:"4em"},min:"12",step:"1","onUpdate:modelValue":e[17]||(e[17]=F=>f.current.data.size=F)},null,512),[[Et,f.current.data.size]])]),t("label",al,[sl,H(t("input",{type:"text",ref_key:"txtInput",ref:w,"onUpdate:modelValue":e[18]||(e[18]=F=>f.current.data.txt=F),style:{width:"6em"}},null,512),[[P],[Et,f.current.data.txt]])]),t("label",ll,[il,H(t("select",{"onUpdate:modelValue":e[19]||(e[19]=F=>f.current.terrain.type=F)},[t("option",{value:s(X).NONE},"\u65E0",8,rl),t("option",{value:s(X).DISABLED},"\u7981\u6B62",8,dl),t("option",{value:s(X).BLOCKED},"\u969C\u788D",8,cl),t("option",{value:s(X).CLIFF},"\u60AC\u5D16",8,pl)],512),[[ht,f.current.terrain.type]])]),f.current.unit?(i(),zt(U,{key:0},{default:I(()=>[t("label",yl,[_l,H(t("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=F=>f.current.unit.actorId=F),style:{width:"4em"}},null,512),[[Et,f.current.unit.actorId]])]),t("label",fl,[xl,H(t("select",{"onUpdate:modelValue":e[21]||(e[21]=F=>f.current.unit.actorType=F)},[t("option",{value:s(ct).NONE},"\u65E0",8,vl),t("option",{value:s(ct).GUARD},"\u62A4\u536B",8,ml),t("option",{value:s(ct).SHEEP},"\u9776\u5B50",8,hl),t("option",{value:s(ct).ATTACKER},"\u653B\u51FB\u8005",8,El)],512),[[ht,f.current.unit.actorType]])]),t("label",bl,[Dl,H(t("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=F=>f.current.unit.fly=F)},null,512),[[kt,f.current.unit.fly]])])]),_:1})):Z("",!0),t("button",{class:"btn",onClick:z},"\u5B8C\u6210")]),_:1})])):Z("",!0)]),t("div",Bl,[(g=f.current)!=null&&g.unit?(i(),x("label",Fl,[Cl,t("input",{type:"text",readonly:"",value:f.current.unit.unitId,style:{width:"4em"}},null,8,$l)])):Z("",!0),(j=f.current)!=null&&j.unit?(i(),x("label",wl,[gl,H(t("select",{"onUpdate:modelValue":e[23]||(e[23]=F=>f.current.unit.team=F)},Il,512),[[ht,f.current.unit.team]])])):Z("",!0),(D=f.current)!=null&&D.unit?(i(),x("button",{key:2,class:"btn btn-success",onClick:dt},"\u602A\u529B\u4E71\u795E")):Z("",!0),(bt=f.current)!=null&&bt.unit?(i(),x("button",{key:3,class:"btn btn-success",onClick:ke},"\u5F00\u8F66")):Z("",!0)])]),t("div",Tl,[t("div",Ul,[(i(!0),x(Q,null,rt(s(T),(F,C)=>(i(),x("div",{class:"grids-row",key:C},[(i(!0),x(Q,null,rt(F,(K,at)=>{var xt,Jt;return i(),zt(s(Ut),{key:at,draggable:!0,selected:K.x===((xt=f.current)==null?void 0:xt.x)&&K.y===((Jt=f.current)==null?void 0:Jt.y),disabled:K.disabled,dot:K.unit&&K.unit.guard,data:K.data,terrain:K.terrain,overlay:K.overlay,unit:K.unit,onDragstart:wt=>qe(wt,K),onDragover:e[24]||(e[24]=Kt(()=>{},["prevent"])),onDrop:wt=>Te(wt,K),onContextmenu:Kt(wt=>ze(K),["prevent"]),onClick:wt=>yt(wt,K),onMousedown:wt=>q(wt,K),onMouseenter:wt=>r(wt,K),onClickoverlay:Se},null,8,["selected","disabled","dot","data","terrain","overlay","unit","onDragstart","onDrop","onContextmenu","onClick","onMousedown","onMouseenter"])}),128))]))),128))]),t("div",Vl,[t("div",zl,[t("label",Ol,[Rl,H(t("select",{"onUpdate:modelValue":e[25]||(e[25]=F=>Y.team=F)},Hl,512),[[ht,Y.team]])])]),t("div",Gl,[h(s(Ut),{item:Bt.value,onDragstart:e[26]||(e[26]=F=>de(F,Bt.value))},null,8,["item"]),(i(!0),x(Q,null,rt(Ft.value,(F,C)=>(i(),zt(s(Ut),{key:C,data:F.data,terrain:F.terrain,overlay:F.overlay,unit:F.unit,onDragstart:K=>de(K,F)},null,8,["data","terrain","overlay","unit","onDragstart"]))),128))])])])])}}});const Pl=mt(Ll,[["__scopeId","data-v-ec4dec7c"]]),Di=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"}));let Kl=0;window.jsonpcard={};const Wl={503101:"\u60A8\u586B\u5199\u7684\u670D\u52A1\u5668\u6216\u89D2\u8272ID\u4F3C\u4E4E\u6709\u9519\uFF0C\u8BF7\u68C0\u67E5\uFF01"},Jl={101:"\u5151\u6362\u7801\u4E0D\u5B58\u5728\uFF0C\u8BF7\u5C11\u4FA0\u786E\u8BA4\u5151\u6362\u7801\u662F\u5426\u6B63\u786E[101]",104:"\u8BE5\u5151\u6362\u7801\u5DF2\u88AB\u4F7F\u7528[104]",108:"\u8BE5\u5151\u6362\u7801\u5DF2\u8FC7\u671F[108]",113:"\u8BE5\u5151\u6362\u7801\u9650\u5236\u4F7F\u7528\uFF0C\u8BF7\u5230\u6E38\u620F\u5185\u4F7F\u7528[113]",115:"\u5DF2\u6210\u529F\u9886\u53D6\u5151\u6362\u7801[115]",120:"\u8BE5\u5151\u6362\u7801\u5DF2\u8FBE\u4F7F\u7528\u6B21\u6570\u4E0A\u9650[120]"},Yl=[{id:"3001",name:"\u4F53\u9A8C\u670D"},{id:"6001",name:"\u6C34\u955C\u4E4B\u6BBF-\u5B98\u670D"},{id:"6002",name:"\u4E09\u754C\u4E4B\u95E8-\u5B98\u670D"},{id:"6003",name:"\u697C\u5170\u5E7B\u57CE-\u5B98\u670D"},{id:"6004",name:"\u955C\u5E7B\u5E7D\u754C-\u5B98\u670D"},{id:"6005",name:"\u6708\u9690\u5927\u6F20-\u5B98\u670D"},{id:"6006",name:"\u601D\u8C12\u4E4B\u95F4-\u5B98\u670D"},{id:"6007",name:"\u9647\u5357\u98CE\u4E91-\u5B98\u670D"},{id:"6008",name:"\u70DF\u96E8\u51C9\u5DDE-\u5B98\u670D"},{id:"6009",name:"\u8FE6\u590F\u4E4B\u7A9F-\u5B98\u670D"},{id:"6010",name:"\u5317\u5C71\u7EFF\u6D32-\u5B98\u670D"},{id:"6011",name:"\u9AD8\u660C\u53E4\u57CE-\u5B98\u670D"},{id:"6012",name:"\u6CB3\u5DDE\u5C0F\u9547-\u5B98\u670D"},{id:"6013",name:"\u4E03\u6B65\u8FF7\u9635-\u5B98\u670D"},{id:"6014",name:"\u592A\u865A\u7384\u7A79-\u5B98\u670D"},{id:"6015",name:"\u5BF0\u795E\u4E5D\u5C71-\u5B98\u670D"},{id:"6016",name:"\u82CD\u7A79\u4E4B\u57DF-\u5B98\u670D"},{id:"6017",name:"\u697C\u5170\u79D8\u5883-\u5B98\u670D"},{id:"6018",name:"\u82CD\u5C18\u5BA2\u6808-\u5B98\u670D"},{id:"6019",name:"\u8352\u4E4B\u5251\u51A2-\u5B98\u670D"},{id:"6020",name:"\u9041\u4E16\u6E05\u5C45-\u5B98\u670D"},{id:"6021",name:"\u60AC\u5929\u53E4\u5F84-\u5B98\u670D"},{id:"6022",name:"\u796D\u5929\u795E\u5854-\u5B98\u670D"},{id:"6023",name:"\u5316\u8574\u795E\u53F0-\u5B98\u670D"},{id:"6024",name:"\u8BA1\u90FD\u5E7B\u7891-\u5B98\u670D"},{id:"6025",name:"\u795E\u79FB\u661F\u53F0-\u5B98\u670D"},{id:"6026",name:"\u79BB\u9B42\u5E7D\u539F-\u5B98\u670D"},{id:"6027",name:"\u5343\u9B42\u714C\u6D77-\u5B98\u670D"},{id:"6028",name:"\u795E\u70E8\u4E4B\u5385-\u5B98\u670D"},{id:"6029",name:"\u5C01\u4EEA\u4E4B\u95F4-\u5B98\u670D"},{id:"6030",name:"\u5929\u5DC5\u5730\u5D16-\u5B98\u670D"},{id:"6031",name:"\u65CB\u5203\u5377\u5C9A-\u5B98\u670D"},{id:"6032",name:"\u5343\u95C7\u4E4B\u6E0A-\u5B98\u670D"},{id:"6033",name:"\u7D2B\u7430\u98DE\u714C-\u5B98\u670D"},{id:"6034",name:"\u5E7D\u51A5\u6697\u89E6-\u5B98\u670D"},{id:"6035",name:"\u6108\u795E\u5E7B\u96FE-\u5B98\u670D"},{id:"6036",name:"\u6697\u9B45\u5E7B\u751F-\u5B98\u670D"},{id:"6037",name:"\u65E5\u8F6E\u795E\u5251-\u5B98\u670D"},{id:"6038",name:"\u77AC\u970E\u795E\u4EEA-\u5B98\u670D"},{id:"6039",name:"\u78A7\u6D77\u6F6E\u751F-\u5B98\u670D"},{id:"6040",name:"\u98DE\u661F\u795E\u5251-\u5B98\u670D"},{id:"6041",name:"\u711A\u706B\u771F\u708E-\u5B98\u670D"},{id:"6042",name:"\u5251\u5F71\u9010\u5149-\u5B98\u670D"},{id:"6043",name:"\u4E91\u6A2A\u534E\u5C71-\u5B98\u670D"},{id:"6044",name:"\u8F89\u65E5\u5723\u5492-\u5B98\u670D"},{id:"6045",name:"\u63FD\u98CE\u795E\u884C-\u5B98\u670D"},{id:"6046",name:"\u6D41\u5149\u834F\u82D2-\u5B98\u670D"},{id:"6047",name:"\u516D\u7532\u795E\u4EEA-\u5B98\u670D"},{id:"6048",name:"\u706D\u5251\u8840\u80E7-\u5B98\u670D"},{id:"6049",name:"\u65E0\u65B9\u5251\u6C14-\u5B98\u670D"},{id:"6050",name:"\u79BB\u706B\u795E\u8BC0-\u5B98\u670D"},{id:"6051",name:"\u541F\u72D0\u730E\u58F0-\u5B98\u670D"},{id:"6052",name:"\u98CE\u5377\u6B8B\u4E91-\u5B98\u670D"},{id:"6053",name:"\u58C1\u95F4\u86C7\u5F71-\u5B98\u670D"},{id:"6054",name:"\u767D\u8679\u8D2F\u65E5-\u5B98\u670D"},{id:"6055",name:"\u5C01\u9B54\u795E\u9053-\u5B98\u670D"},{id:"6056",name:"\u6DF7\u5143\u6C14\u805A-\u5B98\u670D"},{id:"6057",name:"\u4E5D\u5929\u795E\u96F7-\u5B98\u670D"},{id:"6058",name:"\u53CC\u73AF\u6620\u6708-\u5B98\u670D"},{id:"6059",name:"\u795E\u534E\u5929\u821E-\u5B98\u670D"},{id:"6060",name:"\u7F57\u5239\u4E00\u51FB-\u5B98\u670D"},{id:"6061",name:"\u8BF8\u661F\u795E\u66DC-\u5B98\u670D"},{id:"6062",name:"\u77E9\u5B50\u4E4B\u57DF-\u5B98\u670D"},{id:"6063",name:"\u9F99\u7EDD\u634D\u536B-\u5B98\u670D"},{id:"6064",name:"\u51A5\u5E7B\u4E4B\u9635-\u5B98\u670D"},{id:"6065",name:"\u72C2\u9F99\u7EDD\u606F-\u5B98\u670D"},{id:"6066",name:"\u5343\u714C\u96F7\u70C8-\u5B98\u670D"},{id:"6067",name:"\u7FA4\u661F\u805A\u534E-\u5B98\u670D"},{id:"6068",name:"\u795E\u6C14\u6D41\u8F6C-\u5B98\u670D"},{id:"6069",name:"\u8E0F\u6B65\u5C01\u5FC3-\u5B98\u670D"},{id:"6070",name:"\u5929\u971C\u96EA\u821E-\u5B98\u670D"},{id:"6071",name:"\u8BDB\u5929\u5251\u9635-\u5B98\u670D"},{id:"6072",name:"\u50B2\u96EA\u5BD2\u971C-\u5B98\u670D"},{id:"6073",name:"\u51B0\u534E\u4E4B\u9635-\u5B98\u670D"},{id:"6074",name:"\u6697\u661F\u5149\u8000-\u5B98\u670D"},{id:"6075",name:"\u5C01\u9B42\u7F1A\u63A0-\u5B98\u670D"},{id:"6076",name:"\u5929\u5730\u6218\u7EAA-\u5B98\u670D"},{id:"6077",name:"\u72C2\u98CE\u708E\u65A9-\u5B98\u670D"},{id:"6078",name:"\u9F99\u7130\u51F6\u53F7-\u5B98\u670D"},{id:"6079",name:"\u7EEE\u7F57\u5929\u9999-\u5B98\u670D"},{id:"6080",name:"\u795E\u6C1B\u5316\u6CD5-\u5B98\u670D"},{id:"6081",name:"\u5929\u5C06\u5954\u70C8-\u5B98\u670D"},{id:"6082",name:"\u534F\u5FC3\u60CA\u96F7-\u5B98\u670D"},{id:"6083",name:"\u5929\u745E\u4ED9\u821E-\u5B98\u670D"},{id:"6084",name:"\u7FBD\u5203\u675F\u7F1A-\u5B98\u670D"},{id:"6085",name:"\u4E91\u5F71\u96FE\u5E7B-\u5B98\u670D"},{id:"6086",name:"\u8F89\u65E5\u4E4B\u5251-\u5B98\u670D"},{id:"6087",name:"\u7F57\u777A\u4E4B\u94A5-\u5B98\u670D"},{id:"6088",name:"\u51E4\u51F0\u7EC7\u9526-\u5B98\u670D"},{id:"6089",name:"\u897F\u57DF\u795E\u5FBD-\u5B98\u670D"},{id:"2001",name:"\u7D2B\u91D1\u738B\u9F0E-\u6E20\u9053"},{id:"2001",name:"\u4E03\u8272\u7F28\u73DE-\u6E20\u9053"},{id:"2003",name:"\u4E5D\u4EEA\u5929\u5C0A-\u6E20\u9053"},{id:"2003",name:"\u51DB\u65E5\u795E\u5200-\u6E20\u9053"},{id:"2005",name:"\u592A\u4E59\u5360\u76D8-\u6E20\u9053"},{id:"2005",name:"\u5E7D\u57A0\u4E4B\u6212-\u6E20\u9053"},{id:"2005",name:"\u8840\u7075\u795E\u73E0-\u6E20\u9053"},{id:"2005",name:"\u5E7D\u714C\u4E4B\u7130-\u6E20\u9053"},{id:"2005",name:"\u9547\u9F99\u4E4B\u7389-\u6E20\u9053"},{id:"2010",name:"\u90AA\u714C\u9738\u5251-\u6E20\u9053"},{id:"2010",name:"\u4E94\u5C0A\u795E\u4EE4-\u6E20\u9053"},{id:"2010",name:"\u7D2B\u7430\u714C\u77F3-\u6E20\u9053"},{id:"2010",name:"\u4E5D\u5E7D\u5316\u7389-\u6E20\u9053"},{id:"2010",name:"\u7D2B\u7B71\u51C0\u7389-\u6E20\u9053"},{id:"2010",name:"\u7B71\u795E\u4E91\u73E0-\u6E20\u9053"},{id:"2016",name:"\u6731\u7EB6\u796D\u5251-\u6E20\u9053"},{id:"2016",name:"\u7D2B\u8574\u7CBE\u7389-\u6E20\u9053"},{id:"2016",name:"\u7834\u9B54\u6731\u7EEB-\u6E20\u9053"},{id:"2016",name:"\u7405\u73AF\u7389\u74A7-\u6E20\u9053"},{id:"2016",name:"\u5343\u5E7B\u6D41\u5149-\u6E20\u9053"},{id:"2016",name:"\u5929\u90FD\u6C34\u6708-\u6E20\u9053"},{id:"2016",name:"\u5E7D\u90FD\u738B\u73BA-\u6E20\u9053"},{id:"2016",name:"\u56DE\u5149\u94F6\u73AF-\u6E20\u9053"},{id:"2016",name:"\u9F99\u795E\u5929\u94E0-\u6E20\u9053"},{id:"2025",name:"\u519B\u795E\u523B\u7B26-\u6E20\u9053"},{id:"2025",name:"\u7476\u5149\u7EEB\u7D22-\u6E20\u9053"},{id:"2025",name:"\u5730\u754C\u5E7D\u59EC-\u6E20\u9053"},{id:"2029",name:"\u53E4\u5251\u9F99\u7687-\u6E20\u9053"},{id:"2030",name:"\u7D2B\u7535\u91D1\u621F-\u6E20\u9053"}],ie="userids";function Xl(){const n="1571725187985",y="0123456789",c="2";function A(m){return m.info===115}function T(m){return!!m.code}function N(m,L,b){return new Promise((o,a)=>{const w=`cb_${Kl++}`,d=document.createElement("script");window.jsonpcard[w]=J=>{o(J),delete window.jsonpcard[w]},d.src=`https://activity.zlongame.com/activity/cmn/card/csmweb.do?pd_acti_cb=jsonpcard.${w}&appkey=${n}&card_user=${m}&card_channel=${y}&card_server=${L}&card_role=${m}&card_code=${b}&type=${c}&_=${Date.now()}`,document.head.appendChild(d),d.onload=()=>{d.remove()},d.onerror=()=>{d.remove(),a(new Error("failed"))}})}const B=G([]);function $(){try{const m=localStorage.getItem(ie);B.value=m?JSON.parse(m):[]}catch{B.value=[]}}function v(m){B.value.findIndex(L=>L.user===m.user)===-1&&(B.value.push(m),localStorage.setItem(ie,JSON.stringify(B.value)))}function E(){B.value=[],localStorage.removeItem(ie)}return $(),{userids:B,servers:Yl,putGiftcode:N,addUserid:v,clearUserid:E,isSuccess:A,isError:T,giftcodeCode:Wl,giftcodeInfo:Jl}}function Zl(){return Fu}const oe=n=>(St("data-v-8c3b6a07"),n=n(),qt(),n),Ql={class:"toolbar"},ti={class:"input-group"},ei=oe(()=>t("div",{class:"input-ext"},"\u670D\u52A1\u5668",-1)),ui={class:"input-group"},ni=oe(()=>t("div",{class:"input-ext"},"\u89D2\u8272ID",-1)),oi={class:"input-group"},ai=oe(()=>t("div",{class:"input-ext"},"\u5151\u6362\u7801",-1)),si=oe(()=>t("a",{href:"https://wiki.biligame.com/tdj/Giftcode",target:"_blank",class:"btn btn-link"},"BiliWiki",-1)),li=Dt({__name:"Giftcode",setup(n){const{userids:y,servers:c,putGiftcode:A,addUserid:T,clearUserid:N,isSuccess:B,isError:$,giftcodeCode:v,giftcodeInfo:E}=Xl(),m=Zl(),L=G(),b=G(""),o=G("YXZSYS");function a(tt){L.value=tt}function w(tt){b.value=tt.user;const st=c.find(it=>it.id===tt.server);!st||(L.value=st)}function d(){N()}async function J(tt,st,it){if(!tt){m.alert("\u672A\u9009\u62E9\u670D\u52A1\u5668\u3002");return}if(!st){m.alert("\u672A\u8F93\u5165\u89D2\u8272ID\u3002");return}if(!/^\d{19}$/.test(st)){m.alert("\u89D2\u8272ID\u957F\u5EA6\u4E0D\u6B63\u786E\u3002");return}if(!it){m.alert("\u672A\u8F93\u5165\u793C\u5305\u7801\u3002");return}const et=await A(st,tt,it);if(console.log(et),$(et)){m.alert(v[et.code]||`code: ${et.code}`);return}if(B(et)){m.alert(E[et.info]),T({user:st,server:tt});return}m.alert(E[et.info]||`info: ${et.info}`),T({user:st,server:tt})}function lt(){var tt;J((tt=L.value)==null?void 0:tt.id,b.value,o.value)}return(tt,st)=>(i(),x("div",Ql,[h(s(Cu),{wrap:""},{default:I(()=>{var it;return[t("div",ti,[ei,h(s(he),{readonly:"",list:s(c),value:((it=L.value)==null?void 0:it.name)||"","item-width":"120px","overlay-width":"500px",onSelect:a},null,8,["list","value"])]),t("div",ui,[ni,h(s(he),{name:"user",list:s(y),value:b.value,"onUpdate:value":st[0]||(st[0]=et=>b.value=et),onSelect:w,width:"185px"},null,8,["list","value"])]),t("div",oi,[ai,H(t("input",{class:"input",type:"text","onUpdate:modelValue":st[1]||(st[1]=et=>o.value=et),style:{width:"100px"}},null,512),[[Et,o.value]])]),t("button",{type:"button",class:"btn btn-default",onClick:d},"\u6E05\u7A7A"),t("button",{type:"button",class:"btn btn-primary",onClick:lt},"\u9886\u53D6"),si]}),_:1})]))}});const ii=mt(li,[["__scopeId","data-v-8c3b6a07"]]),Bi=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"}));export{fi as B,yi as C,mi as E,Di as G,ci as H,_i as S,vi as W,pi as a,xi as b,hi as c,Ei as d,bi as e,Bi as f};
