import{_ as J,d as K,C as G,q as R,e as P,V as Q,c as i,a as t,w as _,v as F,N as A,F as B,i as V,k as Z,n as D,p as oo,b as eo,o as f,l as U,g as so}from"./index.js";const to=K({setup(){const s=[{color:"#202020",bgcolor:"#ffffff"},{color:"#202020",bgcolor:"#FF3C41"},{color:"#202020",bgcolor:"#48CF74"},{color:"#202020",bgcolor:"#0EBEFF"},{color:"#202020",bgcolor:"#FCD000"}],l=G({editor:1,selectRange:5,shape:1,sortType:1,color:s[0].color,bgcolor:s[0].bgcolor});function M(o){l.color=o.color,l.bgcolor=o.bgcolor}const p=R([]),a=R([]),x=15,n=15,b=P(()=>({gridTemplateColumns:"repeat("+x+", 48px)",gridTemplateRows:"repeat("+n+", 48px)"}));function c(){for(let o=0;o<n;o++)for(let e=0;e<x;e++){const v={x:e+1,y:n-o,d:0,q:0,color:"",bgcolor:"",txt:""};p.value.push(v)}}function X(o,e,v,y,h,g,w){p.value.forEach(r=>{const C=o-r.x,m=e-r.y,k=Math.abs(C)+Math.abs(m),q=Math.max(Math.abs(C),Math.abs(m));switch(y){case 1:k<=v&&(r.d=k,r.q=q,r.color=g,r.bgcolor=w,a.value.push(r));break;case 2:Math.abs(C)<=v&&Math.abs(m)<=v&&(r.d=k,r.q=q,r.color=g,r.bgcolor=w,a.value.push(r));break}}),h===1&&(y===1?a.value.sort(Y):y===2&&a.value.sort(I)),h===2&&(y===1?a.value.sort($):y===2&&a.value.sort(L)),h===3&&a.value.sort(T),h===4&&a.value.sort(N);for(let r=0;r<a.value.length;r++)a.value[r].txt=String(r+1)}function Y(o,e){return o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function $(o,e){return o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function I(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function L(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function T(o,e){return o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function N(o,e){return o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function S(){p.value.forEach(o=>{o.q=0,o.d=0,o.color=s[0].color,o.bgcolor=s[0].bgcolor,o.txt=""}),a.value=[]}const d=G({enabled:!1});function z(){S()}function E(){d.enabled=!1}function O(o,e){l.editor===1&&(d.current=e)}function W(o,e){if(o.button===0)switch(l.editor){case 2:{d.enabled=!0,e.color=l.color,e.bgcolor=l.bgcolor;break}case 3:{S(),X(e.x,e.y,l.selectRange,l.shape,l.sortType,l.color,l.bgcolor);break}}}function j(o,e){o.button===0&&d.enabled&&(e.color=l.color,e.bgcolor=l.bgcolor)}function H(){d.current=void 0}return window.addEventListener("mouseup",E,!1),Q(()=>{window.removeEventListener("mouseup",E,!1)}),c(),{state:l,colors:s,grids:p,selects:a,gridsStyle:b,selectState:d,onSelectColor:M,onResetClick:z,onGridClick:O,onGridMouseDown:W,onGridMouseEnter:j,onGridEditorDone:H}}}),u=s=>(oo("data-v-51d6b444"),s=s(),eo(),s),no={class:"wrapper"},lo={class:"toolbar"},ro={class:"setting"},uo={class:"label-control"},ao=u(()=>t("span",null,"\u7F16\u8F91\u6A21\u5F0F\xA0",-1)),co=u(()=>t("option",{value:1},"\u7F16\u8F91",-1)),io=u(()=>t("option",{value:2},"\u4E0A\u8272",-1)),fo=u(()=>t("option",{value:3},"\u9009\u62E9",-1)),po=[co,io,fo],bo={class:"label-control"},vo=u(()=>t("span",null,"\u8303\u56F4\xA0",-1)),yo={class:"label-control"},_o=u(()=>t("span",null,"\u5F62\u72B6\xA0",-1)),ho=u(()=>t("option",{value:1},"\u83F1\u5F62",-1)),xo=u(()=>t("option",{value:2},"\u5708\u6570",-1)),Co=[ho,xo],mo={class:"label-control"},ko=u(()=>t("span",null,"\u6392\u5E8F\xA0",-1)),Fo=u(()=>t("option",{value:1},"\u8DDD\u79BBX",-1)),Bo=u(()=>t("option",{value:2},"\u8DDD\u79BBY",-1)),Do=u(()=>t("option",{value:3},"X\u4F18\u5148",-1)),Mo=u(()=>t("option",{value:4},"Y\u4F18\u5148",-1)),So=[Fo,Bo,Do,Mo],Eo={class:"color-container"},go=["onClick"],wo={class:"props-container"},qo={class:"props-content"},Go={class:"label-control"},Ro=u(()=>t("span",null,"\u5185\u5BB9\xA0",-1)),Ao={class:"props-actions"},Vo={class:"content"},Uo=["onClick","onMousedown","onMouseenter"];function Xo(s,l,M,p,a,x){return f(),i("div",no,[t("div",lo,[t("div",ro,[t("label",uo,[ao,_(t("select",{"onUpdate:modelValue":l[0]||(l[0]=n=>s.state.editor=n)},po,512),[[F,s.state.editor]])]),t("label",bo,[vo,_(t("input",{type:"number",min:"0","onUpdate:modelValue":l[1]||(l[1]=n=>s.state.selectRange=n),style:{width:"5em"}},null,512),[[A,s.state.selectRange]])]),t("label",yo,[_o,_(t("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>s.state.shape=n)},Co,512),[[F,s.state.shape]])]),t("label",mo,[ko,_(t("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>s.state.sortType=n)},So,512),[[F,s.state.sortType]])]),t("button",{class:"btn",onClick:l[4]||(l[4]=(...n)=>s.onResetClick&&s.onResetClick(...n))},"\u6E05\u7A7A")]),t("div",Eo,[(f(!0),i(B,null,V(s.colors,(n,b)=>(f(),i("div",{key:b,class:U(["color-unit",{select:s.state.bgcolor===n.bgcolor}]),style:D({"--color":n.color,"--bgcolor":n.bgcolor}),onClick:c=>s.onSelectColor(n)}," E ",14,go))),128))]),t("div",wo,[s.selectState.current?(f(),i(B,{key:0},[t("div",qo,[t("label",Go,[Ro,_(t("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=n=>s.selectState.current.txt=n)},null,512),[[A,s.selectState.current.txt]])])]),t("div",Ao,[t("button",{class:"btn",onClick:l[6]||(l[6]=(...n)=>s.onGridEditorDone&&s.onGridEditorDone(...n))},"\u5B8C\u6210")])],64)):Z("",!0)])]),t("div",Vo,[t("div",{class:"grids",style:D(s.gridsStyle)},[(f(!0),i(B,null,V(s.grids,(n,b)=>(f(),i("div",{key:b,class:U({selected:n===s.selectState.current}),style:D({color:n.color,backgroundColor:n.bgcolor}),onClick:c=>s.onGridClick(c,n),onMousedown:c=>s.onGridMouseDown(c,n),onMouseenter:c=>s.onGridMouseEnter(c,n)},so(n.txt),47,Uo))),128))],4)])])}var $o=J(to,[["render",Xo],["__scopeId","data-v-51d6b444"]]);export{$o as default};
