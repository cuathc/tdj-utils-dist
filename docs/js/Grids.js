import{_ as J,d as K,q,s as G,a as P,V as Q,c as i,e as t,w as _,v as F,B as R,F as A,h as V,j as Z,n as B,p as oo,l as eo,o as f,k as U,f as so}from"./index.js";const to=K({setup(){const s=[{color:"#202020",bgcolor:"#ffffff"},{color:"#202020",bgcolor:"#FF3C41"},{color:"#202020",bgcolor:"#48CF74"},{color:"#202020",bgcolor:"#0EBEFF"},{color:"#202020",bgcolor:"#FCD000"}],l=q({editor:1,selectRange:5,shape:1,sortType:1,color:s[0].color,bgcolor:s[0].bgcolor});function D(o){l.color=o.color,l.bgcolor=o.bgcolor}const p=G([]),a=G([]),x=15,n=15,b=P(()=>({gridTemplateColumns:"repeat("+x+", 48px)",gridTemplateRows:"repeat("+n+", 48px)"}));function c(){for(let o=0;o<n;o++)for(let e=0;e<x;e++){const y={x:e+1,y:n-o,d:0,q:0,color:"",bgcolor:"",txt:""};p.value.push(y)}}function $(o,e,y,v,h,E,w){p.value.forEach(r=>{const m=o-r.x,C=e-r.y,k=Math.abs(m)+Math.abs(C),g=Math.max(Math.abs(m),Math.abs(C));switch(v){case 1:k<=y&&(r.d=k,r.q=g,r.color=E,r.bgcolor=w,a.value.push(r));break;case 2:Math.abs(m)<=y&&Math.abs(C)<=y&&(r.d=k,r.q=g,r.color=E,r.bgcolor=w,a.value.push(r));break}}),h===1&&(v===1?a.value.sort(X):v===2&&a.value.sort(I)),h===2&&(v===1?a.value.sort(Y):v===2&&a.value.sort(L)),h===3&&a.value.sort(T),h===4&&a.value.sort(z);for(let r=0;r<a.value.length;r++)a.value[r].txt=String(r+1)}function X(o,e){return o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function Y(o,e){return o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function I(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function L(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function T(o,e){return o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function z(o,e){return o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function M(){p.value.forEach(o=>{o.q=0,o.d=0,o.color=s[0].color,o.bgcolor=s[0].bgcolor,o.txt=""}),a.value=[]}const d=q({enabled:!1});function N(){M()}function S(){d.enabled=!1}function O(o,e){l.editor===1&&(d.current=e)}function j(o,e){if(o.button===0)switch(l.editor){case 2:{d.enabled=!0,e.color=l.color,e.bgcolor=l.bgcolor;break}case 3:{M(),$(e.x,e.y,l.selectRange,l.shape,l.sortType,l.color,l.bgcolor);break}}}function W(o,e){o.button===0&&d.enabled&&(e.color=l.color,e.bgcolor=l.bgcolor)}function H(){d.current=void 0}return window.addEventListener("mouseup",S,!1),Q(()=>{window.removeEventListener("mouseup",S,!1)}),c(),{state:l,colors:s,grids:p,selects:a,gridsStyle:b,selectState:d,onSelectColor:D,onResetClick:N,onGridClick:O,onGridMouseDown:j,onGridMouseEnter:W,onGridEditorDone:H}}}),u=s=>(oo("data-v-a0d59f02"),s=s(),eo(),s),no={class:"wrapper"},lo={class:"toolbar"},ro={class:"setting"},uo={class:"label-control"},ao=u(()=>t("span",null,"\u7F16\u8F91\u6A21\u5F0F\xA0",-1)),co=u(()=>t("option",{value:1},"\u7F16\u8F91",-1)),io=u(()=>t("option",{value:2},"\u4E0A\u8272",-1)),fo=u(()=>t("option",{value:3},"\u9009\u62E9",-1)),po=[co,io,fo],bo={class:"label-control"},yo=u(()=>t("span",null,"\u8303\u56F4\xA0",-1)),vo={class:"label-control"},_o=u(()=>t("span",null,"\u5F62\u72B6\xA0",-1)),ho=u(()=>t("option",{value:1},"\u83F1\u5F62",-1)),xo=u(()=>t("option",{value:2},"\u5708\u6570",-1)),mo=[ho,xo],Co={class:"label-control"},ko=u(()=>t("span",null,"\u6392\u5E8F\xA0",-1)),Fo=u(()=>t("option",{value:1},"\u8DDD\u79BBX",-1)),Bo=u(()=>t("option",{value:2},"\u8DDD\u79BBY",-1)),Do=u(()=>t("option",{value:3},"X\u4F18\u5148",-1)),Mo=u(()=>t("option",{value:4},"Y\u4F18\u5148",-1)),So=[Fo,Bo,Do,Mo],Eo={class:"color-container"},wo=["onClick"],go={class:"props-container"},qo={key:0,class:"props-content"},Go={class:"label-control"},Ro=u(()=>t("span",null,"\u5185\u5BB9\xA0",-1)),Ao={class:"content"},Vo=["onClick","onMousedown","onMouseenter"];function Uo(s,l,D,p,a,x){return f(),i("div",no,[t("div",lo,[t("div",ro,[t("label",uo,[ao,_(t("select",{"onUpdate:modelValue":l[0]||(l[0]=n=>s.state.editor=n)},po,512),[[F,s.state.editor]])]),t("label",bo,[yo,_(t("input",{type:"number",min:"0","onUpdate:modelValue":l[1]||(l[1]=n=>s.state.selectRange=n),style:{width:"5em"}},null,512),[[R,s.state.selectRange]])]),t("label",vo,[_o,_(t("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>s.state.shape=n)},mo,512),[[F,s.state.shape]])]),t("label",Co,[ko,_(t("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>s.state.sortType=n)},So,512),[[F,s.state.sortType]])]),t("button",{class:"btn",onClick:l[4]||(l[4]=(...n)=>s.onResetClick&&s.onResetClick(...n))},"\u6E05\u7A7A")]),t("div",Eo,[(f(!0),i(A,null,V(s.colors,(n,b)=>(f(),i("div",{key:b,class:U(["color-unit",{selected:s.state.bgcolor===n.bgcolor}]),style:B([`--color:${n.color};--bgcolor:${n.bgcolor}`]),onClick:c=>s.onSelectColor(n)}," E ",14,wo))),128))]),t("div",go,[s.selectState.current?(f(),i("div",qo,[t("label",Go,[Ro,_(t("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=n=>s.selectState.current.txt=n)},null,512),[[R,s.selectState.current.txt]])]),t("button",{class:"btn",onClick:l[6]||(l[6]=(...n)=>s.onGridEditorDone&&s.onGridEditorDone(...n))},"\u5B8C\u6210")])):Z("",!0)])]),t("div",Ao,[t("div",{class:"grids",style:B(s.gridsStyle)},[(f(!0),i(A,null,V(s.grids,(n,b)=>(f(),i("div",{key:b,class:U({selected:n===s.selectState.current}),style:B({color:n.color,backgroundColor:n.bgcolor}),onClick:c=>s.onGridClick(c,n),onMousedown:c=>s.onGridMouseDown(c,n),onMouseenter:c=>s.onGridMouseEnter(c,n)},so(n.txt),47,Vo))),128))],4)])])}var Xo=J(to,[["render",Uo],["__scopeId","data-v-a0d59f02"]]);export{Xo as default};
