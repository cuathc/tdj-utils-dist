import{_ as H,d as J,C as q,q as E,e as K,S as P,c as d,a as t,w as _,A as Q,N as G,v as R,F as A,i as U,k as Z,n as M,p as oo,b as eo,o as f,l as V,g as so}from"./index.js";const no=J({setup(){const s=[{color:"#202020",bgcolor:"#ffffff"},{color:"#202020",bgcolor:"#FF3C41"},{color:"#202020",bgcolor:"#48CF74"},{color:"#202020",bgcolor:"#0EBEFF"},{color:"#202020",bgcolor:"#FCD000"}],l=q({editor:!1,selectRange:5,shape:1,sortType:1,color:s[0].color,bgcolor:s[0].bgcolor});function S(o){l.color=o.color,l.bgcolor=o.bgcolor}const i=E([]),a=E([]),x=15,n=15,p=K(()=>({gridTemplateColumns:"repeat("+x+", 48px)",gridTemplateRows:"repeat("+n+", 48px)"}));function u(){for(let o=0;o<n;o++)for(let e=0;e<x;e++){const y={x:e+1,y:n-o,d:0,q:0,color:"",bgcolor:"",txt:""};i.value.push(y)}}function X(o,e,y,v,h,g,w){i.value.forEach(r=>{const m=o-r.x,C=e-r.y,k=Math.abs(m)+Math.abs(C),D=Math.max(Math.abs(m),Math.abs(C));switch(v){case 1:k<=y&&(r.d=k,r.q=D,r.color=g,r.bgcolor=w,a.value.push(r));break;case 2:Math.abs(m)<=y&&Math.abs(C)<=y&&(r.d=k,r.q=D,r.color=g,r.bgcolor=w,a.value.push(r));break}}),h===1&&(v===1?a.value.sort(Y):v===2&&a.value.sort(I)),h===2&&(v===1?a.value.sort($):v===2&&a.value.sort(L)),h===3&&a.value.sort(T),h===4&&a.value.sort(N);for(let r=0;r<a.value.length;r++)a.value[r].txt=String(r+1)}function Y(o,e){return o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function $(o,e){return o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function I(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function L(o,e){return o.q!==e.q?o.q-e.q:o.d!==e.d?o.d-e.d:o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function T(o,e){return o.x!==e.x?o.x-e.x:o.y!==e.y?o.y-e.y:0}function N(o,e){return o.y!==e.y?o.y-e.y:o.x!==e.x?o.x-e.x:0}function B(){i.value.forEach(o=>{o.q=0,o.d=0,o.color=s[0].color,o.bgcolor=s[0].bgcolor,o.txt=""}),a.value=[]}const b=q({enabled:!1});function z(){B()}function F(){b.enabled=!1}function O(o,e){b.current=e}function W(o,e){o.button===0&&(l.editor?(B(),X(e.x,e.y,l.selectRange,l.shape,l.sortType,l.color,l.bgcolor)):(b.enabled=!0,e.color=l.color,e.bgcolor=l.bgcolor))}function j(o,e){o.button===0&&b.enabled&&(e.color=l.color,e.bgcolor=l.bgcolor)}return window.addEventListener("mouseup",F,!1),P(()=>{window.removeEventListener("mouseup",F,!1)}),u(),{state:l,colors:s,grids:i,selects:a,gridsStyle:p,selectState:b,onSelectColor:S,onResetClick:z,onGridClick:O,onGridMouseDown:W,onGridMouseEnter:j}}}),c=s=>(oo("data-v-4d2a6318"),s=s(),eo(),s),to={class:"wrapper"},lo={class:"toolbar"},ro={class:"setting"},ao={class:"label-control"},co=c(()=>t("span",null,"\u9009\u62E9\u6A21\u5F0F\xA0",-1)),uo={class:"label-control"},fo=c(()=>t("span",null,"\u8303\u56F4\xA0",-1)),io={class:"label-control"},po=c(()=>t("span",null,"\u5F62\u72B6\xA0",-1)),bo=c(()=>t("option",{value:1},"\u83F1\u5F62",-1)),yo=c(()=>t("option",{value:2},"\u5708\u6570",-1)),vo=[bo,yo],_o={class:"label-control"},ho=c(()=>t("span",null,"\u6392\u5E8F\xA0",-1)),xo=c(()=>t("option",{value:1},"\u8DDD\u79BBX",-1)),mo=c(()=>t("option",{value:2},"\u8DDD\u79BBY",-1)),Co=c(()=>t("option",{value:3},"X\u4F18\u5148",-1)),ko=c(()=>t("option",{value:4},"Y\u4F18\u5148",-1)),Mo=[xo,mo,Co,ko],So={class:"color-container"},Bo=["onClick"],Fo={key:0,class:"props-container"},go={class:"label-control"},wo=c(()=>t("span",null,"\u5185\u5BB9\xA0",-1)),Do={class:"content"},qo=["onClick","onMousedown","onMouseenter"];function Eo(s,l,S,i,a,x){return f(),d("div",to,[t("div",lo,[t("div",ro,[t("label",ao,[co,_(t("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=n=>s.state.editor=n)},null,512),[[Q,s.state.editor]])]),t("label",uo,[fo,_(t("input",{type:"number",min:"0","onUpdate:modelValue":l[1]||(l[1]=n=>s.state.selectRange=n),style:{width:"5em"}},null,512),[[G,s.state.selectRange]])]),t("label",io,[po,_(t("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>s.state.shape=n)},vo,512),[[R,s.state.shape]])]),t("label",_o,[ho,_(t("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>s.state.sortType=n)},Mo,512),[[R,s.state.sortType]])]),t("button",{class:"btn",onClick:l[4]||(l[4]=(...n)=>s.onResetClick&&s.onResetClick(...n))},"\u6E05\u7A7A")]),t("div",So,[(f(!0),d(A,null,U(s.colors,(n,p)=>(f(),d("div",{key:p,class:V(["color-unit",{select:s.state.bgcolor===n.bgcolor}]),style:M({"--color":n.color,"--bgcolor":n.bgcolor}),onClick:u=>s.onSelectColor(n)}," E ",14,Bo))),128))]),s.selectState.current?(f(),d("div",Fo,[t("label",go,[wo,_(t("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=n=>s.selectState.current.txt=n)},null,512),[[G,s.selectState.current.txt]])])])):Z("",!0)]),t("div",Do,[t("div",{class:"grids",style:M(s.gridsStyle)},[(f(!0),d(A,null,U(s.grids,(n,p)=>(f(),d("div",{key:p,class:V({selected:n===s.selectState.current}),style:M({color:n.color,backgroundColor:n.bgcolor}),onClick:u=>s.onGridClick(u,n),onMousedown:u=>s.onGridMouseDown(u,n),onMouseenter:u=>s.onGridMouseEnter(u,n)},so(n.txt),47,qo))),128))],4)])])}var Ro=H(no,[["render",Eo],["__scopeId","data-v-4d2a6318"]]);export{Ro as default};
