var Ze=Object.defineProperty;var De=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Se=(e,t,p)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:p}):e[t]=p,Ue=(e,t)=>{for(var p in t||(t={}))xe.call(t,p)&&Se(e,p,t[p]);if(De)for(var p of De(t))et.call(t,p)&&Se(e,p,t[p]);return e};import{E as le,d as Q,s as K,G as Ce,_ as L,o as m,c as C,H as G,e as s,f as E,k as ee,n as Fe,I as tt,J as ye,K as st,L as nt,M as ot,N as qe,q as j,a as w,r as D,O as Pe,g as l,i as v,j as W,w as H,B as Z,P as Re,F as V,h as P,A as R,p as ue,l as ie,Q as at,R as x,b as te,T as lt,S as d,U as ut,V as M,W as it,v as dt,X as rt,Y as ct,u as pt,C as ce}from"./index.js";import{_ as Te}from"./lodash.js";import{u as vt}from"./useHeroes.js";import mt from"./InputNumber.js";import{a as ft}from"./useTransformTools.js";import{s as _t}from"./data.js";let be=0,Me=0;const ht=500;function Ie(){const e=Math.floor(new Date().getTime()/1e3);Me===e?be++:be=0,Me=e;const t=e.toString(16);return`${(ht<<16|be&255).toString(16)}.${t}`}async function bt(){try{return await le.getAll("calculator")}catch{return[]}}async function $t(){try{await le.clear("calculator")}catch(e){alert(e.message)}}async function Ct(e){try{await le.add("calculator",JSON.parse(JSON.stringify(e)))}catch(t){t instanceof Error?console.log(t.message):console.log(t)}}async function ae(e){try{await le.put("calculator",JSON.parse(JSON.stringify(e)))}catch(t){t instanceof Error?console.log(t.message):console.log(t)}}async function Ae(e){try{await le.delete("calculator",e)}catch(t){t instanceof Error?console.log(t.message):console.log(t)}}function Ft(){return{w:2438,g:0,a:"403+363",c:20,x:0}}function yt(){return{a:0}}function gt(){return{att:0,k:0}}function He(){return{a1:1.5,a2:0,att:"15+10+8",da:"10+10",db:"4+10+20",dc:"0",dx:"0",id:"0",cd:"30",name:"1.5\u6280\u80FD",att2:"0",da2:"0",dx2:"0",defGain:"0"}}function Bt(){return{a1:1.5,a2:0,att:0,id:0,da:0,db:0,dc:0,dx:0,cd:0,att2:0,da2:0,dx2:0,defGain:0}}function wt(){return[He()]}function kt(){return{hp:"10000",def:"1872",defGain:"15+5",ra:"0",rb:"4+10"}}const Et=Q({props:{active:Boolean,label:String,dir:String,inline:Boolean,color:String,wait:{type:Number,default:500}},emits:["update:active"],setup(e,{emit:t}){const p=K(),n=K({}),i=K(e.active),f=()=>{const r=p.value.getBoundingClientRect();switch(i.value=!0,t("update:active",i.value),e.dir){case"left":n.value={top:`${r.top+r.height/2}px`,right:`${window.innerWidth-r.left-4}px`,maxWidth:"100%"};break;case"right":n.value={top:`${r.top+r.height/2}px`,left:`${r.right+4}px`,maxWidth:"100%"};break;case"top":n.value={bottom:`${window.innerHeight-r.top-4}px`,left:`${r.left+r.width/2}px`,maxWidth:"100%"};break;default:n.value={top:`${r.bottom+4}px`,left:`${r.left+r.width/2}px`,maxWidth:"100%"}}};let _;const B=()=>{_=setTimeout(f,e.wait)},I=()=>{clearTimeout(_),i.value=!1,t("update:active",i.value)};return Ce(()=>e.active,A=>{i.value=A}),{el:p,style:n,tActive:i,onEnter:B,onOut:I}}}),Dt={class:"c-tooltip-label"};function St(e,t,p,n,i,f){return m(),C("div",{ref:"el",class:ee(["c-tooltip",{active:e.tActive,inline:e.inline}]),onMouseenter:t[0]||(t[0]=(..._)=>e.onEnter&&e.onEnter(..._)),onMouseout:t[1]||(t[1]=(..._)=>e.onOut&&e.onOut(..._))},[G(e.$slots,"label",{},()=>[s("div",Dt,E(e.label),1)]),s("div",{class:ee(["c-tooltip-inner",e.dir?`c-tooltip-${e.dir}`:"c-tooltip-bottom",e.color?`c-tooltip-${e.color}`:""]),style:Fe(e.style)},[G(e.$slots,"default")],6)],34)}var ge=L(Et,[["render",St]]);const Ut=Q({components:{Divider:tt,Tooltip:ge,CalcInput:ye,IconUp:st,IconDown:nt,IconClose:ot,IconCopy:qe},props:{panel:{type:Object,required:!0},state:{type:Object,required:!0},enemyState:{type:Object,required:!0},itemState:{type:Object,required:!0},showUp:Boolean,showDown:Boolean},emits:["update:itemState","close","up","down","copy"],setup(e,{emit:t}){const p=j({editor:!1,name:""}),n=(c,g)=>{if(c==="name")return;const q=e.itemState;switch(c){case"a1":case"a2":typeof g=="number"&&(q[c]=g);break;default:typeof g=="string"&&(q[c]=g)}t("update:itemState",q)},i=j(Bt()),f=w({set:c=>n("a1",c),get:()=>e.itemState.a1}),_=w({set:c=>n("a2",c),get:()=>e.itemState.a2}),B=w({set:c=>n("att",c),get:()=>e.itemState.att}),I=w({set:c=>n("id",c),get:()=>e.itemState.id}),A=w({set:c=>n("da",c),get:()=>e.itemState.da}),r=w({set:c=>n("db",c),get:()=>e.itemState.db}),o=w({set:c=>n("dc",c),get:()=>e.itemState.dc}),U=w({set:c=>n("dx",c),get:()=>e.itemState.dx}),N=w({set:c=>n("cd",c),get:()=>e.itemState.cd}),u=w({set:c=>n("att2",c),get:()=>e.itemState.att2}),a=w({set:c=>n("da2",c),get:()=>e.itemState.da2}),T=w({set:c=>n("dx2",c),get:()=>e.itemState.dx2}),O=w({set:c=>n("defGain",c),get:()=>e.itemState.defGain}),y=j({a1:f,a2:_,att:B,da:A,db:r,dc:o,dx:U,id:I,cd:N,att2:u,da2:a,dx2:T,defGain:O}),b=w(()=>{const{state:c}=e,g=(100+i.att)/100;return Math.ceil(c.att*g)}),h=w(()=>{const{state:c}=e,g=(100+i.att+i.att2)/100;return Math.ceil(c.att*g)}),S=()=>{const{state:c,enemyState:g}=e,q=(100+c.k)/100,_e=(100+i.da-g.ra)/100,Y=(100+i.da+i.da2-g.ra)/100,oe=(100+i.db-g.rb)/100,he=(100+i.dc)/100,Ke=(100+i.dx)/100,Ge=(100+i.dx+i.dx2)/100,Be=(100+i.cd)/100,we=(100-i.id)/100,je=(100+g.defGain)/100,Qe=(100+g.defGain+i.defGain)/100,Je=Math.max(0,Math.max(0,g.def*je)*we),Le=Math.max(0,Math.max(0,g.def*Qe)*we),ze=Math.max(1,b.value*q-Je),We=Math.max(1,h.value*q-Le),ke=ze*f.value*_e*oe*Ke,Xe=Math.ceil(ke*Be),Ee=We*_.value*Y*oe*he*Ge,Ye=Math.ceil(Ee*Be);return{r01:Math.ceil(ke),r01c:Xe,r02:Math.ceil(Ee),r02c:Ye}},J=w(()=>S().r01),se=w(()=>S().r01c),ne=w(()=>S().r02),pe=w(()=>S().r02c);S();function ve(){confirm(`\u786E\u8BA4\u8981\u5220\u9664\u6280\u80FD\u6A21\u677F"${e.itemState.name}"\u5417\uFF1F`)&&t("close")}function me(){p.editor=!0,p.name=e.itemState.name}function fe(){const c=p.name;if(p.editor=!1,p.name="",!c)return;const g=e.itemState;g.name=c,t("update:itemState",g)}function re(){t("up")}function F(){t("down")}function $(){t("copy")}return{vars:p,values:y,result:i,satt:b,r01:J,r01c:se,r02:ne,r02c:pe,onClose:ve,onRename:me,onNameEnter:fe,onUp:re,onDown:F,onCopy:$}}}),z=e=>(ue("data-v-a928d4b0"),e=e(),ie(),e),Mt={class:"row"},It={class:"col-item"},At=z(()=>s("div",{class:"label"},"\u6280\u80FD\u3001\u666E\u653B",-1)),Vt=R(" \u6280\u80FD\u3001\u666E\u653B\u500D\u7387 "),qt={class:"input-group"},Pt=["step"],Rt=z(()=>s("div",{class:"input-ext"},"\u500D",-1)),Tt={class:"label"},Ht={class:"input-group"},Nt=z(()=>s("div",{style:{clear:"both"}},null,-1)),Ot={class:"col-item"},Kt=z(()=>s("div",{class:"label"},"\u8FDE\u51FB\u3001\u8FFD\u51FB\u3001\u53CD\u51FB",-1)),Gt=R(" \u8FDE\u51FB\u3001\u8FFD\u51FB\u3001\u53CD\u51FB\u500D\u7387 "),jt={class:"input-group"},Qt=["step"],Jt=z(()=>s("div",{class:"input-ext"},"\u500D",-1)),Lt={class:"label"},zt={class:"input-group"},Wt={class:"col-item"},Xt=z(()=>s("div",{class:"label"},"\u6700\u7EC8\u653B\u51FB",-1)),Yt={class:"static-control text-center"},Zt={class:"darkgold"},xt=z(()=>s("div",{style:{clear:"both"}},null,-1)),es={class:"label"},ts={class:"bold darkgold"},ss=z(()=>s("span",{class:"bold red"},"(\u66B4\u51FB)",-1)),ns={class:"static-control text-center"},os={class:"bold darkgold"},as={class:"bold red"},ls={class:"label bold"},us={class:"static-control text-center"},is={class:"bold darkgold"},ds={key:0,class:"bold red"};function rs(e,t,p,n,i,f){const _=D("IconCopy"),B=D("IconUp"),I=D("IconDown"),A=D("IconClose"),r=D("Divider"),o=D("Tooltip"),U=D("CalcInput"),N=Pe("autofocus");return m(),C(V,null,[l(r,{orientation:"left"},{action:v(()=>[s("span",{onClick:t[4]||(t[4]=(...u)=>e.onCopy&&e.onCopy(...u))},[l(_,{class:"close"})]),e.showUp?(m(),C("span",{key:0,onClick:t[5]||(t[5]=(...u)=>e.onUp&&e.onUp(...u))},[l(B,{class:"close"})])):W("",!0),e.showDown?(m(),C("span",{key:1,onClick:t[6]||(t[6]=(...u)=>e.onDown&&e.onDown(...u))},[l(I,{class:"close"})])):W("",!0),s("span",{onClick:t[7]||(t[7]=(...u)=>e.onClose&&e.onClose(...u))},[l(A,{class:"close"})])]),default:v(()=>[e.vars.editor?H((m(),C("input",{key:0,class:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>e.vars.name=u),onKeypress:t[1]||(t[1]=Re((...u)=>e.onNameEnter&&e.onNameEnter(...u),["enter"])),onBlur:t[2]||(t[2]=(...u)=>e.onNameEnter&&e.onNameEnter(...u))},null,544)),[[Z,e.vars.name],[N]]):(m(),C("span",{key:1,class:"calc-item-title",onClick:t[3]||(t[3]=(...u)=>e.onRename&&e.onRename(...u))},E(e.itemState.name||"\u6A21\u677F"),1))]),_:1}),s("div",Mt,[s("div",It,[l(o,{dir:"top"},{label:v(()=>[At]),default:v(()=>[Vt]),_:1}),s("div",qt,[H(s("input",{type:"number",class:"input",min:"0",step:.1,"onUpdate:modelValue":t[8]||(t[8]=u=>e.values.a1=u)},null,8,Pt),[[Z,e.values.a1,void 0,{number:!0}]]),Rt])]),(m(),C(V,null,P([{name:"att",label:"\u653B\u51FB%",tip:"\u4F5C\u7528\u4E8E\u6240\u6709\u60C5\u51B5"},{name:"da",label:"A\u7C7B\u589E\u4F24%",tip:"\u9970\u54C1\u3001\u5404\u7C7Bbuff\u3001\u5929\u8D4B"},{name:"db",label:"B\u7C7B\u589E\u4F24%",tip:"\u661F\u8000\u3001\u661F\u76D8\u3001\u8BCD\u6761"},{name:"dx",label:"X\u7C7B\u589E\u4F24%",tip:"\u6700\u7EC8\u4FEE\u6B63\uFF0C\u5982\u4E00\u5B57\u7535\u65A9"},{name:"id",label:"\u7A7F\u900F%",tip:"\u65E0\u89C6\u9632\u5FA1"},{name:"cd",label:"\u66B4\u4F24%",tip:"\u66B4\u51FB\u4F24\u5BB3"}],u=>s("div",{class:"col-item",key:u.name},[l(o,{dir:"top"},{label:v(()=>[s("div",Tt,E(u.label),1)]),default:v(()=>[R(" "+E(u.tip),1)]),_:2},1024),s("div",Ht,[l(U,{class:"input",modelValue:e.values[u.name],"onUpdate:modelValue":a=>e.values[u.name]=a,result:e.result[u.name],"onUpdate:result":a=>e.result[u.name]=a},null,8,["modelValue","onUpdate:modelValue","result","onUpdate:result"])])])),64)),Nt,s("div",Ot,[l(o,{dir:"top"},{label:v(()=>[Kt]),default:v(()=>[Gt]),_:1}),s("div",jt,[H(s("input",{type:"number",class:"input",min:"0",step:.1,"onUpdate:modelValue":t[9]||(t[9]=u=>e.values.a2=u)},null,8,Qt),[[Z,e.values.a2,void 0,{number:!0}]]),Jt])]),(m(),C(V,null,P([{name:"dc",label:"C\u7C7B\u589E\u4F24%",tip:"\u8FDE\u51FB\u3001\u8FFD\u51FB\u3001\u53CD\u51FB\u589E\u4F24"},{name:"att2",label:"\u653B\u51FB\u4FEE\u6B63%",tip:"\u6389\u8840\u540E\u653B\u51FB\u4FEE\u6B63\uFF0C\u4E00\u822C\u5728\u8FFD\u51FB\u6216\u53CD\u51FB\u65F6"},{name:"da2",label:"\u4F24\u5BB3\u4FEE\u6B63%",tip:"\u6389\u8840\u540E\u4F24\u5BB3\u4FEE\u6B63\uFF0C\u4E00\u822C\u5728\u8FFD\u51FB\u6216\u53CD\u51FB\u65F6"},{name:"defGain",label:"\u9632\u5FA1\u4FEE\u6B63%",tip:"\u6389\u8840\u540E\u9632\u5FA1\u4FEE\u6B63\uFF0C\u4E00\u822C\u5728\u8FFD\u51FB\u6216\u8FDE\u51FB\u65F6"},{name:"dx2",label:"X\u7C7B\u4FEE\u6B63%",tip:"\u6389\u8840\u540E\u9632\u5FA1\u4FEE\u6B63\uFF0C\u4E00\u822C\u5728\u8FFD\u51FB\u6216\u8FDE\u51FB\u65F6"}],u=>s("div",{class:"col-item",key:u.name},[l(o,{dir:"top"},{label:v(()=>[s("div",Lt,E(u.label),1)]),default:v(()=>[R(" "+E(u.tip),1)]),_:2},1024),s("div",zt,[l(U,{class:"input",modelValue:e.values[u.name],"onUpdate:modelValue":a=>e.values[u.name]=a,result:e.result[u.name],"onUpdate:result":a=>e.result[u.name]=a},null,8,["modelValue","onUpdate:modelValue","result","onUpdate:result"])])])),64)),s("div",Wt,[Xt,s("div",Yt,[s("span",Zt,E(e.satt),1)])]),xt,(m(!0),C(V,null,P([{label:"\u4E00\u6BB5\u4F24\u5BB3",v:e.r01,v2:e.r01c},{label:"\u4E8C\u6BB5\u4F24\u5BB3",v:e.r02,v2:e.r02c}],(u,a)=>(m(),C("div",{class:"col-item",key:a},[s("div",es,[s("span",ts,E(u.label),1),ss]),s("div",ns,[s("span",os,E(u.v),1),s("span",as,"("+E(u.v2)+")",1)])]))),128)),(m(!0),C(V,null,P([{label:"\u4E0D\u66B4\u51FB",value:e.r01+e.r02},{label:"\u4E00\u6BB5\u66B4\u51FB",value:e.r01c+e.r02},{label:"\u4E8C\u6BB5\u66B4\u51FB",value:e.r01+e.r02c},{label:"\u5168\u66B4\u51FB",value:e.r01c+e.r02c}],(u,a)=>(m(),C("div",{class:"col-item",key:a},[s("div",ls,E(u.label),1),s("div",us,[s("span",is,E(u.value),1),(+e.enemyState.hp||0)<=u.value?(m(),C("span",ds," \u51FB\u6740 ")):W("",!0)])]))),128))])],64)}var cs=L(Ut,[["render",rs],["__scopeId","data-v-a928d4b0"]]);const ps=["onClick"],vs=Q({props:{pos:{default:"lt"}},setup(e){const t=K(!1),p=()=>{t.value=!0},n=()=>{t.value=!1};return window.addEventListener("click",n,!1),at(()=>{window.removeEventListener("click",n,!1)}),(i,f)=>(m(),C("div",{class:ee(["dropdown",[{active:t.value}]]),onClick:x(p,["stop"])},[G(i.$slots,"default",{},void 0,!0),s("div",{class:ee(["dropdown-popover",["dropdown-"+e.pos]]),onClick:f[0]||(f[0]=x(()=>{},["stop"]))},[G(i.$slots,"popover",{onClose:n},void 0,!0)],2)],10,ps))}});var Ne=L(vs,[["__scopeId","data-v-782cbcbc"]]);Ne.install=e=>{e.component("dropdown",Oe)};const Oe=Ne;const ms=Q({components:{CalcItem:cs,CalcInput:ye,Tooltip:ge,Dropdown:Oe},props:{data:{type:Object,required:!0}},emits:["update:data"],setup(e,{emit:t}){const p=w(()=>e.data.basic),n=w(()=>e.data.state),i=w(()=>e.data.enemyState),f=w(()=>e.data.items),_=j(yt()),B=j({hp:0,def:0,defGain:0,ra:0,rb:0}),I=[{label:"\u9762\u677F\u653B\u51FB",name:"w",step:1,align:"right"},{label:"\u9B42\u77F3\u653B\u51FB",name:"a",step:1},{label:"\u8BCD\u6761\u653B\u51FB%",name:"c",step:1},{label:"\u661F\u4E4B\u6676\u653B\u51FB",name:"x",step:1}],A=[{label:"\u6C14\u8840",name:"hp",step:1},{label:"\u9632\u5FA1",name:"def",step:1},{label:"\u9632\u5FA1\u4FEE\u6B63%",name:"defGain",step:1},{label:"A\u7C7B\u514D\u4F24%",name:"ra",step:1},{label:"B\u7C7B\u514D\u4F24%",name:"rb",step:1}],r=()=>{const b=p.value.c/100;p.value.g=Math.ceil(_.a+p.value.w*b+p.value.x),n.value.att=p.value.w+p.value.g},o=async()=>{t("update:data",e.data)},U=(b,h)=>{h==="panel"&&r(),o()},N=(b,h)=>{const S=e.data.items;!S||(S[h]=b,o())},u=()=>{const b=e.data.items;!b||(b.push(He()),o())},a=b=>{const h=e.data.items;!h||(h.splice(b,1),o())},T=b=>{const h=e.data.items;if(!h)return;const S=h[b],J=h[b-1];h[b-1]=S,h[b]=J,o()},O=b=>{const h=e.data.items;if(!h)return;const S=h[b],J=h[b+1];h[b+1]=S,h[b]=J,o()},y=b=>{const h=e.data.items;if(!h)return;const S=h[b];h.push(Te.cloneDeep(S)),o()};return Ce(()=>[e.data.basic.w],()=>{r()}),{panel:p,state:n,enemyState:i,panelResult:_,enemyStateResult:B,panelModels:I,enemyModels:A,update:U,items:f,updateItemState:N,addItem:u,delItem:a,upItem:T,downItem:O,copyItem:y}}}),X=e=>(ue("data-v-793a869e"),e=e(),ie(),e),fs=X(()=>s("div",{class:"heading"},[s("div",{class:"heading-title"},"\u57FA\u672C\u53C2\u6570")],-1)),_s={class:"row"},hs={class:"label"},bs={class:"input-group"},$s=["step","onUpdate:modelValue","onChange"],Cs=["value"],Fs={class:"col-item"},ys=X(()=>s("div",{class:"label"},"\u8FDB\u56FE\u653B\u51FB",-1)),gs={class:"static-control text-center"},Bs={class:"darkgold"},ws={class:"col-item"},ks=X(()=>s("div",{class:"label"},"\u514B\u5236%",-1)),Es=R(" \u514B\u523630%"),Ds=X(()=>s("br",null,null,-1)),Ss=R("\u88AB\u514B\u5236-25%"),Us=X(()=>s("br",null,null,-1)),Ms=R("\u6FC0\u836150% "),Is=["onClick"],As=X(()=>s("div",{class:"heading"},[s("div",{class:"heading-title"},"\u654C\u4EBA\u9762\u677F")],-1)),Vs={class:"row"},qs={class:"label"},Ps={class:"input-group"},Rs={key:0,class:"input-ext"},Ts={class:"heading"},Hs=X(()=>s("div",{class:"heading-title"},"\u6280\u80FD\u6A21\u677F",-1)),Ns={class:"heading-actions"};function Os(e,t,p,n,i,f){const _=D("CalcInput"),B=D("Tooltip"),I=D("Dropdown"),A=D("CalcItem");return m(),C("div",null,[fs,s("div",_s,[(m(!0),C(V,null,P(e.panelModels,r=>(m(),C("div",{class:"col-item",key:r.name},[s("div",hs,E(r.label),1),s("div",bs,[r.name in e.panelResult?(m(),te(_,{key:0,modelValue:e.panel[r.name],"onUpdate:modelValue":o=>e.panel[r.name]=o,result:e.panelResult[r.name],"onUpdate:result":o=>e.panelResult[r.name]=o,onChange:o=>e.update(r.name,"panel")},null,8,["modelValue","onUpdate:modelValue","result","onUpdate:result","onChange"])):H((m(),C("input",{key:1,type:"number",class:"input",style:Fe({textAlign:r.align}),min:"0",step:r.step,"onUpdate:modelValue":o=>e.panel[r.name]=o,onChange:o=>e.update(r.name,"panel")},null,44,$s)),[[Z,e.panel[r.name],void 0,{number:!0}]]),r.name==="w"?(m(),C("input",{key:2,class:"input green",readonly:"",style:{textAlign:"left"},value:`+${e.panel.g}`},null,8,Cs)):W("",!0)])]))),128)),s("div",Fs,[ys,s("div",gs,[s("span",Bs,E(e.state.att),1)])]),s("div",ws,[l(B,{dir:"top"},{label:v(()=>[ks]),default:v(()=>[Es,Ds,Ss,Us,Ms]),_:1}),s("div",null,[l(I,null,{popover:v(({onClose:r})=>[s("div",{class:"list",onClick:()=>{r(),e.update("k","state")}},[s("div",{class:"list-item",onClick:t[2]||(t[2]=o=>e.state.k=0)},"\u666E\u901A"),s("div",{class:"list-item",onClick:t[3]||(t[3]=o=>e.state.k=30)},"\u514B\u5236"),s("div",{class:"list-item",onClick:t[4]||(t[4]=o=>e.state.k=-25)},"\u88AB\u514B\u5236"),s("div",{class:"list-item",onClick:t[5]||(t[5]=o=>e.state.k=50)},"\u6FC0\u8361")],8,Is)]),default:v(()=>[H(s("input",{class:"input",type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>e.state.k=r),onChange:t[1]||(t[1]=r=>e.update("k","state")),list:"d1"},null,544),[[Z,e.state.k,void 0,{number:!0}]])]),_:1})])])]),As,s("div",Vs,[(m(!0),C(V,null,P(e.enemyModels,r=>(m(),C("div",{class:"col-item",key:r.name},[s("div",qs,E(r.label),1),s("div",Ps,[l(_,{modelValue:e.enemyState[r.name],"onUpdate:modelValue":o=>e.enemyState[r.name]=o,result:e.enemyStateResult[r.name],"onUpdate:result":o=>e.enemyStateResult[r.name]=o,onChange:o=>e.update(r.name)},null,8,["modelValue","onUpdate:modelValue","result","onUpdate:result","onChange"]),r.precent?(m(),C("div",Rs,"%")):W("",!0)])]))),128))]),s("div",Ts,[Hs,s("div",Ns,[s("div",{class:"btn btn-primary btn-sm",onClick:t[6]||(t[6]=(...r)=>e.addItem&&e.addItem(...r))},"\u6DFB\u52A0")])]),(m(!0),C(V,null,P(e.items,(r,o)=>(m(),te(A,{key:r,panel:e.panel,state:e.state,enemyState:e.enemyStateResult,itemState:r,showUp:o>0,showDown:e.items&&o<e.items.length-1,"onUpdate:itemState":U=>e.updateItemState(U,o),onClose:U=>e.delItem(o),onUp:U=>e.upItem(o),onDown:U=>e.downItem(o),onCopy:U=>e.copyItem(o)},null,8,["panel","state","enemyState","itemState","showUp","showDown","onUpdate:itemState","onClose","onUp","onDown","onCopy"]))),128))])}var Ks=L(ms,[["render",Os],["__scopeId","data-v-793a869e"]]);const Gs=Q({props:{show:Boolean,list:Array,class:String,height:String},emits:["click","close","update:show"],setup(e,{emit:t}){return{wrapClass:w(()=>["c-action-sheet-wrapper",e.class,{show:e.show}]),onClick:(f,_)=>{t("click",{item:f,index:_}),t("close",!1)},onClose:()=>{t("update:show",!1),t("close",!1)}}}}),js={class:"c-action-sheet-section"},Qs={class:"c-action-sheet-extra"},Js={class:"c-action-sheet-list"},Ls=["onClick"];function zs(e,t,p,n,i,f){return m(),te(lt,{to:"body"},[s("div",{class:ee(e.wrapClass)},[s("div",{class:"c-action-sheet-mask",onClick:t[0]||(t[0]=(..._)=>e.onClose&&e.onClose(..._))}),s("div",js,[s("div",{class:"c-action-sheet-body",style:Fe({maxHeight:e.height})},[s("div",Qs,[G(e.$slots,"extra")]),s("div",Js,[(m(!0),C(V,null,P(e.list,(_,B)=>(m(),C("div",{class:"c-action-sheet-item",key:B,onClick:I=>e.onClick(_,B)},[G(e.$slots,"default",{record:_})],8,Ls))),128))])],4)])],2)])}var $e=L(Gs,[["render",zs]]);$e.install=e=>{e.component("action-sheet",$e)};const Ws={class:"hero-item"},Xs=["src","alt","title"],Ys={class:"hero-item-label"},Zs=Q({props:{show:{type:Boolean}},emits:["click","update:show"],setup(e,{emit:t}){const{heroes:p,getHeroIcon:n}=vt(),i=f=>{t("click",f)};return(f,_)=>(m(),te(d($e),{class:"hero-select",show:e.show,list:d(p),height:"80vh",onClick:i,"onUpdate:show":_[0]||(_[0]=B=>f.$emit("update:show",B))},{extra:v(()=>[G(f.$slots,"extra")]),default:v(({record:B})=>[s("div",Ws,[s("img",{src:d(n)(B),alt:B.name,title:B.name,width:"128",height:"128"},null,8,Xs),s("div",Ys,E(B.name),1)])]),_:3},8,["show","list"]))}});const xs=Q({props:{header:String,activeKey:Boolean},emits:["update:activeKey","toggle"],setup(e,{emit:t}){const p=w({get:()=>e.activeKey,set:i=>{t("update:activeKey",i)}});return{active:p,toggle:()=>{const i=!p.value;p.value=i,t("toggle",i)}}}}),en=e=>(ue("data-v-2b5ca870"),e=e(),ie(),e),tn=en(()=>s("div",{class:"panel-icon"},[s("svg",{width:"16",height:"16",viewBox:"-16 -16 32 32"},[s("path",{d:"M6 0 l-12 -12 l0 2 l10 10 l-10 10 l0 2 l12 -12z",fill:"currentColor"})])],-1)),sn={class:"panel-title"},nn={class:"panel-body"},on={class:"panel-content"};function an(e,t,p,n,i,f){return m(),C("div",{class:ee(["panel",{active:e.active}])},[s("div",{class:"panel-header",onClick:t[1]||(t[1]=(..._)=>e.toggle&&e.toggle(..._))},[tn,s("div",sn,[G(e.$slots,"header",{},()=>[R(E(e.header)+"\xA0",1)],!0)]),s("div",{class:"panel-actions",onClick:t[0]||(t[0]=x(()=>{},["stop"]))},[G(e.$slots,"actions",{},void 0,!0)])]),s("div",nn,[s("div",on,[G(e.$slots,"default",{},void 0,!0)])])],2)}var ln=L(xs,[["render",an],["__scopeId","data-v-2b5ca870"]]);const Ve=(e,t)=>{const p=URL.createObjectURL(e),n=document.createElement("a");n.href=p,n.target="_blank",n.download=t,n.click(),URL.revokeObjectURL(p)};function un(){const e=K(),t=j({qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0,hsQixue:0,hsPatt:0,hsPdef:0,hsMatt:0,hsMdef:0,hsHuixin:0,xQixue:0,xPatt:0,xPdef:0,xMatt:0,xMdef:0,xHuixin:0,cQixue:"40+5+5+5",cPatt:"0",cPdef:"0",cMatt:"0",cMdef:"0",cHuixin:"0",rQixue:0,rPatt:0,rPdef:0,rMatt:0,rMdef:0,rHuixin:0}),p=w(()=>{const i={qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0};e.value&&(i.qixue=e.value.t[0]+e.value.d[0]+e.value.h[0],i.patt=e.value.t[1]+e.value.d[1]+e.value.h[1],i.matt=e.value.t[2]+e.value.d[2]+e.value.h[2],i.pdef=e.value.t[3]+e.value.d[3]+e.value.h[3],i.mdef=e.value.t[4]+e.value.d[4]+e.value.h[4]);const f={qixue:t.hsQixue/100,patt:t.hsPatt/100,pdef:t.hsPdef/100,matt:t.hsMatt/100,mdef:t.hsMdef/100,huixin:t.hsHuixin/100};return{qixue:Math.round(t.qixue*f.qixue+i.qixue+t.xQixue),patt:Math.round(t.patt*f.patt+i.patt+t.xPatt),pdef:Math.round(t.pdef*f.pdef+i.pdef+t.xPdef),matt:Math.round(t.matt*f.matt+i.matt+t.xMatt),mdef:Math.round(t.mdef*f.mdef+i.mdef+t.xMdef),huixin:Math.round(t.huixin*f.huixin+i.huixin+t.xHuixin)}}),n=w(()=>{const i=p.value,f={qixue:(100+t.rQixue)/100,patt:(100+t.rPatt)/100,pdef:(100+t.rPdef)/100,matt:(100+t.rMatt)/100,mdef:(100+t.rMdef)/100,huixin:(100+t.rHuixin)/100};return{qixue:Math.round((t.qixue+i.qixue)*f.qixue),patt:Math.round((t.patt+i.patt)*f.patt),pdef:Math.round((t.pdef+i.pdef)*f.pdef),matt:Math.round((t.matt+i.matt)*f.matt),mdef:Math.round((t.mdef+i.mdef)*f.mdef),huixin:Math.round((t.huixin+i.huixin)*f.huixin)}});return{stone:e,state:t,pValue:p,ckValue:n}}const k=e=>(ue("data-v-5c96517a"),e=e(),ie(),e),dn={class:"transform-tools-popover"},rn={class:"transform-tools-popover-toolbar"},cn={class:"transform-tools-popover-content"},pn={class:"grid-group"},vn={class:"grid-group-item"},mn=k(()=>s("div",{class:"input-group-title"},"\u57FA\u7840",-1)),fn={class:"grids"},_n=k(()=>s("label",{class:"input-label"},"\u6C14\u8840",-1)),hn=k(()=>s("label",{class:"input-label"},"\u7269\u653B",-1)),bn=k(()=>s("label",{class:"input-label"},"\u7269\u9632",-1)),$n=k(()=>s("label",{class:"input-label"},"\u6CD5\u653B",-1)),Cn=k(()=>s("label",{class:"input-label"},"\u6CD5\u9632",-1)),Fn=k(()=>s("label",{class:"input-label"},"\u4F1A\u5FC3",-1)),yn={class:"grid-group-item"},gn={class:"input-group-title"},Bn=k(()=>s("span",null,"\u9B42\u77F3",-1)),wn=k(()=>s("option",{value:void 0},"\u65E0",-1)),kn=["value"],En={class:"grids"},Dn=k(()=>s("label",{class:"input-label"},"\u6C14\u8840%",-1)),Sn=k(()=>s("label",{class:"input-label"},"\u7269\u653B%",-1)),Un=k(()=>s("label",{class:"input-label"},"\u7269\u9632%",-1)),Mn=k(()=>s("label",{class:"input-label"},"\u6CD5\u653B%",-1)),In=k(()=>s("label",{class:"input-label"},"\u6CD5\u9632%",-1)),An={class:"grid-group-item"},Vn={class:"input-group-title"},qn=R(" \u661F\u4E4B\u6676 "),Pn=k(()=>s("div",null,"\u6781\u9650\u653B\uFF1A202\u653B\uFF0C198\u8840\uFF0C70\u9632",-1)),Rn=k(()=>s("div",null,"\u6781\u9650\u8840\uFF1A456\u8840\uFF0C98\u9632",-1)),Tn=k(()=>s("div",null,"\u6781\u9650\u9632\uFF1A150\u9632\uFF0C198\u8840\uFF0C88\u653B",-1)),Hn={class:"grids"},Nn=k(()=>s("label",{class:"input-label"},"\u6C14\u8840",-1)),On=k(()=>s("label",{class:"input-label"},"\u7269\u653B",-1)),Kn=k(()=>s("label",{class:"input-label"},"\u7269\u9632",-1)),Gn=k(()=>s("label",{class:"input-label"},"\u6CD5\u653B",-1)),jn=k(()=>s("label",{class:"input-label"},"\u6CD5\u9632",-1)),Qn=k(()=>s("label",{class:"input-label"},"\u4F1A\u5FC3",-1)),Jn={class:"grid-group-item"},Ln=k(()=>s("div",{class:"input-group-title"},"\u9762\u677F",-1)),zn={class:"grids"},Wn={class:"input-label"},Xn={class:"input-group"},Yn={class:"input green"},Zn={class:"grid-group-item"},xn=k(()=>s("div",{class:"input-group-title"},"\u4FEE\u6B63",-1)),eo={class:"grids"},to={class:"input-label"},so={class:"grid-group-item"},no=k(()=>s("div",{class:"input-group-title"},"\u53C2\u8003",-1)),oo={class:"grids"},ao={class:"input-label"},lo=["value"],uo=Q({props:{show:{type:Boolean},data:null},emits:["reference","update:show"],setup(e,{emit:t}){const p=e,{state:n,stone:i,pValue:f,ckValue:_}=un(),B=[{t:"\u6C14\u8840",n:"qixue"},{t:"\u7269\u653B",n:"patt"},{t:"\u7269\u9632",n:"pdef"},{t:"\u6CD5\u653B",n:"matt"},{t:"\u6CD5\u9632",n:"mdef"},{t:"\u4F1A\u5FC3",n:"huixin"}],I=[{t:"\u6C14\u8840%",c:"cQixue",r:"rQixue"},{t:"\u7269\u653B%",c:"cPatt",r:"rPatt"},{t:"\u7269\u9632%",c:"cPdef",r:"rPdef"},{t:"\u6CD5\u653B%",c:"cMatt",r:"rMatt"},{t:"\u6CD5\u9632%",c:"cMdef",r:"rMdef"},{t:"\u4F1A\u5FC3%",c:"cHuixin",r:"rHuixin"}],A=()=>{t("reference")};return Ce(()=>Ue({},p.data),r=>{n.qixue=r.qixue,n.patt=r.patt,n.pdef=r.pdef,n.matt=r.matt,n.mdef=r.mdef,n.huixin=r.huixin}),(r,o)=>{const U=D("c-col"),N=D("c-row"),u=D("c-space");return H((m(),C("div",dn,[s("div",rn,[l(N,{flex:"",middle:"",gutter:0},{default:v(()=>[l(U,{flex:"1 1 auto"},{default:v(()=>[s("button",{class:"btn btn-sm btn-link",onClick:A},"\u53C2\u8003")]),_:1}),l(U,null,{default:v(()=>[s("span",{class:"transform-tools-popover-close",onClick:o[0]||(o[0]=a=>t("update:show",!1))}," \xD7 ")]),_:1})]),_:1})]),s("div",cn,[s("div",pn,[s("div",vn,[mn,s("div",fn,[l(u,null,{default:v(()=>[_n,l(d(M),{value:d(n).qixue,"onUpdate:value":o[1]||(o[1]=a=>d(n).qixue=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[hn,l(d(M),{value:d(n).patt,"onUpdate:value":o[2]||(o[2]=a=>d(n).patt=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[bn,l(d(M),{value:d(n).pdef,"onUpdate:value":o[3]||(o[3]=a=>d(n).pdef=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[$n,l(d(M),{value:d(n).matt,"onUpdate:value":o[4]||(o[4]=a=>d(n).matt=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Cn,l(d(M),{value:d(n).mdef,"onUpdate:value":o[5]||(o[5]=a=>d(n).mdef=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Fn,l(d(M),{value:d(n).huixin,"onUpdate:value":o[6]||(o[6]=a=>d(n).huixin=a)},null,8,["value"])]),_:1})])]),s("div",yn,[s("div",gn,[l(u,null,{default:v(()=>[Bn,H(s("select",{class:"input input-select","onUpdate:modelValue":o[7]||(o[7]=a=>it(i)?i.value=a:null)},[wn,(m(!0),C(V,null,P(d(_t),(a,T)=>(m(),C("option",{key:T,value:a},E(a.name),9,kn))),128))],512),[[dt,d(i)]])]),_:1})]),s("div",En,[l(u,null,{default:v(()=>[Dn,l(d(M),{value:d(n).hsQixue,"onUpdate:value":o[8]||(o[8]=a=>d(n).hsQixue=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Sn,l(d(M),{value:d(n).hsPatt,"onUpdate:value":o[9]||(o[9]=a=>d(n).hsPatt=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Un,l(d(M),{value:d(n).hsPdef,"onUpdate:value":o[10]||(o[10]=a=>d(n).hsPdef=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Mn,l(d(M),{value:d(n).hsMatt,"onUpdate:value":o[11]||(o[11]=a=>d(n).hsMatt=a)},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[In,l(d(M),{value:d(n).hsMdef,"onUpdate:value":o[12]||(o[12]=a=>d(n).hsMdef=a)},null,8,["value"])]),_:1})])]),s("div",An,[s("div",Vn,[qn,l(d(ge),{label:"?",inline:"",dir:"right"},{default:v(()=>[Pn,Rn,Tn]),_:1})]),s("div",Hn,[l(u,null,{default:v(()=>[Nn,l(d(M),{value:d(n).xQixue,"onUpdate:value":o[13]||(o[13]=a=>d(n).xQixue=a),min:0,max:456,placeholder:"0~456"},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[On,l(d(M),{value:d(n).xPatt,"onUpdate:value":o[14]||(o[14]=a=>d(n).xPatt=a),min:0,max:202,placeholder:"0~202"},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Kn,l(d(M),{value:d(n).xPdef,"onUpdate:value":o[15]||(o[15]=a=>d(n).xPdef=a),min:0,max:150,placeholder:"0~150"},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Gn,l(d(M),{value:d(n).xMatt,"onUpdate:value":o[16]||(o[16]=a=>d(n).xMatt=a),min:0,max:202,placeholder:"0~202"},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[jn,l(d(M),{value:d(n).xMdef,"onUpdate:value":o[17]||(o[17]=a=>d(n).xMdef=a),min:0,max:150,placeholder:"0~150"},null,8,["value"])]),_:1}),l(u,null,{default:v(()=>[Qn,l(d(M),{value:d(n).xHuixin,"onUpdate:value":o[18]||(o[18]=a=>d(n).xHuixin=a),min:0,max:104,placeholder:"0~104"},null,8,["value"])]),_:1})])]),s("div",Jn,[Ln,s("div",zn,[(m(),C(V,null,P(B,a=>l(u,{key:a.n},{default:v(()=>[s("label",Wn,E(a.t),1),s("div",Xn,[l(d(M),{readonly:"",value:d(n)[a.n]},null,8,["value"]),s("div",Yn,"+"+E(d(f)[a.n]),1)])]),_:2},1024)),64))])]),s("div",Zn,[xn,s("div",eo,[(m(),C(V,null,P(I,(a,T)=>l(u,{key:T},{default:v(()=>[s("label",to,E(a.t),1),l(d(ye),{modelValue:d(n)[a.c],"onUpdate:modelValue":O=>d(n)[a.c]=O,result:d(n)[a.r],"onUpdate:result":O=>d(n)[a.r]=O},null,8,["modelValue","onUpdate:modelValue","result","onUpdate:result"])]),_:2},1024)),64))])]),s("div",so,[no,s("div",oo,[(m(),C(V,null,P(B,a=>l(u,{key:a.n},{default:v(()=>[s("label",ao,E(a.t),1),s("input",{class:"input",readonly:"",value:d(_)[a.n]},null,8,lo)]),_:2},1024)),64))])])])])],512)),[[ut,e.show]])}}});var io=L(uo,[["__scopeId","data-v-5c96517a"]]);const ro=Q({components:{Calculator:Ks,CollapsePanel:ln,InputNumber:mt,HeroSelect:Zs,IconCopy:qe,IconEdit:rt,TransformToolsModal:io},setup(){const e=j({index:-1,title:"",selecteds:[]}),t=K([]),p=async()=>{const $={id:Ie(),title:"\u6A21\u677F",basic:Ft(),state:gt(),enemyState:kt(),items:wt()};await Ct($),t.value.push($)},n=async F=>{if(!confirm("\u786E\u8BA4\u8981\u5220\u9664\u5417\uFF1F"))return;const c=t.value[F];await Ae(c.id),t.value.splice(F,1)},i=async F=>{const $=t.value[F];if(!$)return;const c=e.title;if(!c){f();return}$.title=c,f(),await ae($)},f=()=>{e.index=-1,e.title=""},_=F=>{const $=new Blob([JSON.stringify([F])],{type:"application/json"});Ve($,`${F.title}.json`)},B=async F=>{t.value=F},I=K(""),A=F=>new Promise(($,c)=>{const g=new FileReader;g.onload=()=>{$(g.result)},g.onerror=()=>{c(g.error)},g.readAsText(F)}),r=async()=>{if(!!confirm("\u786E\u8BA4\u8981\u6E05\u7A7A\u6240\u6709\u6570\u636E\u5417\uFF1F")){if(e.selecteds.length>0){const $=e.selecteds.map(c=>t.value[c]);for(const c of $)await Ae(c.id)}else await $t();re()}},o=async F=>{const $=F.currentTarget,c=Array.prototype.slice.call($.files);if($.value="",!c||!c[0])return;const g=c[0],q=await A(g),_e=JSON.parse(q);for(const Y of _e){await ae(Y);const oe=t.value.findIndex(he=>he.id===Y.id);oe===-1?t.value.push(Y):t.value[oe]=Y}},U=async()=>{let F="calculator.json",$=t.value;e.selecteds.length>0&&($=e.selecteds.map(g=>t.value[g]),F="calculator-selected.json");const c=new Blob([JSON.stringify($)],{type:"application/json"});Ve(c,F)};async function N(F,$){!t.value[$]||(t.value[$]=F,await ae(F))}const u=K(-1),a=j({input:"2283/1.35*1.39",result:0}),{translate:T,xinhun:O,xinyao:y,huazhen:b}=ft(),h=F=>Math.ceil(F),S=j({show:!1,data:{qixue:0,patt:0,pdef:0,matt:0,mdef:0,huixin:0}}),J=F=>{const $=T(F);S.show=!0,S.data.qixue=$.qixue,S.data.patt=$.patt,S.data.pdef=$.pdef,S.data.matt=$.matt,S.data.mdef=$.mdef,S.data.huixin=$.huixin},se=K(!1),ne=K(-1),pe=K(null),ve=F=>{se.value=!0,ne.value=F},me=({item:F})=>{se.value=!1;const $=ne.value;if($===-1)J(F);else{const g=t.value[$],q=T(F);g.title==="\u6A21\u677F"&&(g.title=F.name),g.basic.w=Math.max(q.patt,q.matt),ae(g)}},fe=F=>{const $=Te.cloneDeep(F);$.id=Ie(),console.log($),t.value.push($),ae($)};async function re(){const F=await bt();e.selecteds=[],B(F)}return ct(()=>{re()}),{vars:e,activeKey:u,quick:a,list:t,add:p,rename:i,renameClose:f,remove:n,itemExport:_,download:I,onUpdateData:N,clearAll:r,importData:o,exportData:U,heroes:pt,max:Math.max,modal:S,ceilResult:h,selectTpl:J,selectShow:se,selectIndex:ne,selectValue:pe,openSelect:ve,selectHero:me,copyItem:fe,xinhun:O,xinyao:y,huazhen:b}}}),de=e=>(ue("data-v-78f7cd85"),e=e(),ie(),e),co={class:"wrapper"},po={class:"toolbar"},vo={style:{padding:"6px 16px"}},mo=R("\u4F24\u5BB3\u8BA1\u7B97\u5668"),fo={class:"c-upload"},_o=de(()=>s("button",{class:"btn btn-success"},"\u5BFC\u5165",-1)),ho={style:{padding:"6px 16px"}},bo={class:"input-group"},$o=de(()=>s("div",{class:"input-ext"},"=",-1)),Co={class:"content"},Fo={class:"container"},yo=["value"],go=R(" \u2007 "),Bo=["onKeypress"],wo={key:1},ko=["onClick"],Eo=["onClick"],Do=["onClick"],So=R(" \u91CD\u547D\u540D "),Uo=["onClick"],Mo=R(" \u590D\u5236 "),Io=["onClick"],Ao=["onClick"],Vo={style:{"text-align":"center"}},qo=de(()=>s("span",null,"\u661F\u8000",-1)),Po=de(()=>s("span",null,"\u5316\u81FB",-1)),Ro=de(()=>s("span",null,"\u661F\u9B42",-1));function To(e,t,p,n,i,f){const _=D("c-col"),B=D("c-row"),I=D("transform-tools-modal"),A=D("calc-input"),r=D("input-number"),o=D("IconEdit"),U=D("IconCopy"),N=D("Calculator",!0),u=D("CollapsePanel"),a=D("c-space"),T=D("HeroSelect"),O=Pe("autofocus");return m(),C("div",co,[s("div",po,[s("div",vo,[l(B,{flex:"",middle:"",gutter:16},{default:v(()=>[l(_,{flex:"0 0 auto"},{default:v(()=>[mo]),_:1}),l(_,{flex:"0 0 auto"},{default:v(()=>[s("button",{class:"btn btn-sm btn-link",onClick:t[0]||(t[0]=y=>e.modal.show=!e.modal.show)}," \u9762\u677F "),e.vars.selecteds.length>0?(m(),C("button",{key:0,class:"btn btn-success",onClick:t[1]||(t[1]=y=>e.vars.selecteds=[])}," \u53D6\u6D88\u6240\u9009 ")):W("",!0)]),_:1}),l(_,{flex:"1 1 0"}),l(_,{flex:"0 0 auto"},{default:v(()=>[s("button",{class:"btn btn-danger",onClick:t[2]||(t[2]=(...y)=>e.clearAll&&e.clearAll(...y))},E(e.vars.selecteds.length>0?"\u5220\u9664\u6240\u9009":"\u6E05\u7A7A"),1),s("div",fo,[_o,s("input",{type:"file",class:"c-upload-input",accept:"application/json",onInput:t[3]||(t[3]=(...y)=>e.importData&&e.importData(...y))},null,32)]),s("button",{class:"btn btn-success",onClick:t[4]||(t[4]=(...y)=>e.exportData&&e.exportData(...y))},E(e.vars.selecteds.length>0?"\u5BFC\u51FA\u6240\u9009":"\u5BFC\u51FA"),1),s("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=y=>e.add())},"\u6DFB\u52A0")]),_:1})]),_:1}),l(I,{show:e.modal.show,"onUpdate:show":t[6]||(t[6]=y=>e.modal.show=y),data:e.modal.data,onReference:t[7]||(t[7]=y=>e.openSelect(-1))},null,8,["show","data"])]),s("div",ho,[s("div",bo,[l(A,{modelValue:e.quick.input,"onUpdate:modelValue":t[8]||(t[8]=y=>e.quick.input=y),result:e.quick.result,"onUpdate:result":t[9]||(t[9]=y=>e.quick.result=y),style:{flex:"3 3 0"}},null,8,["modelValue","result"]),$o,l(r,{readonly:"",value:e.ceilResult(e.quick.result),style:{flex:"2 2 0"}},null,8,["value"])])])]),s("div",Co,[s("div",Fo,[(m(!0),C(V,null,P(e.list,(y,b)=>(m(),te(u,{key:y.id,activeKey:b===e.activeKey,onToggle:h=>e.activeKey=h?b:-1},{header:v(()=>[l(B,{flex:"",middle:""},{default:v(()=>[l(_,null,{default:v(()=>[H(s("input",{class:"c-switch",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=h=>e.vars.selecteds=h),value:b,onClick:t[11]||(t[11]=x(()=>{},["stop"]))},null,8,yo),[[ce,e.vars.selecteds]]),go]),_:2},1024),l(_,null,{default:v(()=>[e.vars.index===b?H((m(),C("input",{key:0,type:"text",class:"input","onUpdate:modelValue":t[12]||(t[12]=h=>e.vars.title=h),onClick:t[13]||(t[13]=x(()=>{},["stop"])),onKeypress:Re(h=>e.rename(b),["enter"])},null,40,Bo)),[[Z,e.vars.title],[O]]):(m(),C("span",wo,E(y.title),1))]),_:2},1024),l(_,{class:"ml-4",onClick:t[14]||(t[14]=x(()=>{},["stop"]))},{default:v(()=>[e.vars.index===b?(m(),C("button",{key:0,class:"btn btn-sm btn-link",onClick:h=>e.rename(b)}," \u786E\u8BA4 ",8,ko)):(m(),C(V,{key:1},[s("button",{class:"btn btn-sm btn-link",onClick:h=>e.openSelect(b)}," \u9009\u62E9 ",8,Eo),s("button",{class:"btn btn-sm btn-link",onClick:h=>{e.vars.index=b,e.vars.title=y.title}},[l(o,{class:"svg-icon"}),So],8,Do),s("button",{class:"btn btn-sm btn-link",onClick:h=>e.copyItem(y)},[l(U,{class:"svg-icon"}),Mo],8,Uo)],64))]),_:2},1024)]),_:2},1024)]),actions:v(()=>[s("button",{class:"btn btn-sm btn-success-outline",onClick:h=>e.itemExport(y)}," \u5BFC\u51FA ",8,Io),s("button",{class:"btn btn-sm btn-danger-outline",onClick:h=>e.remove(b)}," \u5220\u9664 ",8,Ao)]),default:v(()=>[b===e.activeKey?(m(),te(N,{key:0,data:y,"onUpdate:data":h=>e.onUpdateData(h,b)},null,8,["data","onUpdate:data"])):W("",!0)]),_:2},1032,["activeKey","onToggle"]))),128))])]),l(T,{show:e.selectShow,"onUpdate:show":t[18]||(t[18]=y=>e.selectShow=y),onClick:e.selectHero},{extra:v(()=>[s("div",Vo,[l(a,null,{default:v(()=>[s("label",null,[qo,H(s("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=y=>e.xinyao=y)},null,512),[[ce,e.xinyao]])]),s("label",null,[Po,H(s("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=y=>e.huazhen=y)},null,512),[[ce,e.huazhen]])]),s("label",null,[Ro,H(s("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=y=>e.xinhun=y)},null,512),[[ce,e.xinhun]])])]),_:1})])]),_:1},8,["show","onClick"])])}var Jo=L(ro,[["render",To],["__scopeId","data-v-78f7cd85"]]);export{Jo as default};
